(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{A0IO:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("fXoL"),a=n("J3qs"),i=n("q5u1"),s=n("tv3Y");let l=(()=>{class e{constructor(e){this.breadcrumbService=e}resolve(e,t){const n=e.data.breadcrumbKey;if(Object(a.a)(n))throw new Error('You provided an i18nBreadcrumbResolver for url "'+e.url+"\" but no breadcrumbKey in the route's data");const r=Object(i.b)(e);return{provider:this.breadcrumbService,key:n,url:r}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](s.a))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},hw6V:function(e,t,n){"use strict";n.r(t),n.d(t,"ProcessPageModule",(function(){return It}));var r=n("fXoL"),a=n("PCNd"),i=n("tyNb"),s=n("1QIV"),l=n("lJxs"),o=n("eIep"),p=n("84Zn"),c=n("NqqP"),d=n("sfEo"),u=n("ofXK"),m=n("O/5o"),f=n("/4eN"),x=n("Wy8O"),v=n("J3qs"),g=n("TtJg"),h=n("lI3o"),y=n("sYmb"),S=n("X/78");function b(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"li"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e)}}function I(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",12),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementStart"](3,"ul"),r["\u0275\u0275text"](4,"\n            "),r["\u0275\u0275template"](5,b,2,1,"li",13),r["\u0275\u0275text"](6,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](7,"\n    "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n        ",r["\u0275\u0275pipeBind1"](2,2,"process.new.parameter.required.missing"),"\n        "),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngForOf",e.missingParameters)}}const w=function(){return["/processes"]};let E=(()=>{class e{constructor(e,t,n,r,a){this.scriptService=e,this.notificationsService=t,this.translationService=n,this.requestService=r,this.router=a,this.selectedScript=void 0,this.process=void 0,this.parameters=[],this.files=[],this.missingParameters=[]}ngOnInit(){this.process=new f.a}submitForm(e){if(Object(v.d)(this.parameters)&&(this.parameters=[]),!this.validateForm(e)||this.isRequiredMissing())return;const t=this.parameters.map(e=>({name:e.name,value:this.checkValue(e)}));this.scriptService.invoke(this.selectedScript.id,t,this.files).pipe(Object(s.g)()).subscribe(e=>{if(e.hasSucceeded){const e=this.translationService.get("process.new.notification.success.title"),t=this.translationService.get("process.new.notification.success.content");this.notificationsService.success(e,t),this.sendBack()}else{const e=this.translationService.get("process.new.notification.error.title"),t=this.translationService.get("process.new.notification.error.content");this.notificationsService.error(e,t)}})}checkValue(e){return"object"==typeof e.value?(this.files=[...this.files,e.value],e.value.name):e.value}validateForm(e){let t=!0;return Object.keys(e.controls).forEach(n=>{e.controls[n].invalid&&(e.controls[n].markAsDirty(),t=!1)}),t}isRequiredMissing(){this.missingParameters=[];const e=this.parameters.map(e=>e.name),t=this.selectedScript.parameters.filter(e=>e.mandatory);for(const n of t)e.includes(n.name)||this.missingParameters.push(n.name);return this.missingParameters.length>0}sendBack(){this.requestService.removeByHrefSubstring("/processes"),this.router.navigateByUrl(Object(x.c)())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](g.c),r["\u0275\u0275directiveInject"](h.a),r["\u0275\u0275directiveInject"](y.e),r["\u0275\u0275directiveInject"](S.a),r["\u0275\u0275directiveInject"](i.h))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-process-form"]],inputs:{selectedScript:"selectedScript",process:"process",parameters:"parameters",headerKey:"headerKey"},decls:36,vars:16,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"col-12","col-md-6"],[3,"ngSubmit"],["form","ngForm"],[3,"script","select"],[3,"initialParams","script","updateParameters"],[1,"btn","btn-light","float-left",3,"routerLink"],["type","submit",1,"btn","btn-light","float-right"],[3,"script"],["class","mt-3 alert alert-danger validation-error",4,"ngIf"],[1,"mt-3","alert","alert-danger","validation-error"],[4,"ngFor","ngForOf"]],template:function(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275text"](1,"\n    "),r["\u0275\u0275elementStart"](2,"div",1),r["\u0275\u0275text"](3,"\n        "),r["\u0275\u0275elementStart"](4,"h2",2),r["\u0275\u0275text"](5),r["\u0275\u0275pipe"](6,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](7,"\n        "),r["\u0275\u0275elementStart"](8,"div",3),r["\u0275\u0275text"](9,"\n            "),r["\u0275\u0275elementStart"](10,"form",4,5),r["\u0275\u0275listener"]("ngSubmit",(function(){r["\u0275\u0275restoreView"](e);const n=r["\u0275\u0275reference"](11);return t.submitForm(n)})),r["\u0275\u0275text"](12,"\n                "),r["\u0275\u0275elementStart"](13,"ds-scripts-select",6),r["\u0275\u0275listener"]("select",(function(e){return t.selectedScript=e,t.parameters=void 0})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](14,"\n                "),r["\u0275\u0275elementStart"](15,"ds-process-parameters",7),r["\u0275\u0275listener"]("updateParameters",(function(e){return t.parameters=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](16,"\n                "),r["\u0275\u0275elementStart"](17,"button",8),r["\u0275\u0275text"](18),r["\u0275\u0275pipe"](19,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](20,"\n                "),r["\u0275\u0275elementStart"](21,"button",9),r["\u0275\u0275text"](22),r["\u0275\u0275pipe"](23,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](24,"\n            "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](25,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](26,"\n        "),r["\u0275\u0275elementStart"](27,"div",3),r["\u0275\u0275text"](28,"\n            "),r["\u0275\u0275element"](29,"ds-script-help",10),r["\u0275\u0275text"](30,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](31,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](32,"\n\n    "),r["\u0275\u0275template"](33,I,8,4,"div",11),r["\u0275\u0275text"](34,"\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](35,"\n")}2&e&&(r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate1"]("\n            ",r["\u0275\u0275pipeBind1"](6,9,t.headerKey),"\n        "),r["\u0275\u0275advance"](8),r["\u0275\u0275property"]("script",t.selectedScript),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("initialParams",t.parameters)("script",t.selectedScript),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("routerLink",r["\u0275\u0275pureFunction0"](15,w)),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](19,11,"process.new.cancel")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](23,13,"process.new.submit")),r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("script",t.selectedScript),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngIf",t.missingParameters.length>0))},styles:[""]}),e})();function O(e){return e}function V(e,t){if(1&e&&(r["\u0275\u0275element"](0,"ds-process-form",2),r["\u0275\u0275pipe"](1,"async")),2&e){const e=t.ngVar,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("selectedScript",r["\u0275\u0275pipeBind1"](1,2,n.script$))("parameters",e.parameters)}}function C(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275text"](1,"\n    "),r["\u0275\u0275template"](2,V,2,4,"ds-process-form",1),r["\u0275\u0275pipe"](3,"async"),r["\u0275\u0275text"](4,"\n"),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngVar",r["\u0275\u0275pipeBind1"](3,1,e.fromExisting$))}}function j(e,t){1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275text"](1,"\n    "),r["\u0275\u0275element"](2,"ds-process-form",3),r["\u0275\u0275text"](3,"\n"),r["\u0275\u0275elementContainerEnd"]())}let P=(()=>{class e{constructor(e,t,n){this.route=e,this.processService=t,this.linkService=n}ngOnInit(){const e=this.route.snapshot.queryParams.id;e&&(this.fromExisting$=this.processService.findById(e).pipe(Object(s.j)()),this.script$=this.fromExisting$.pipe(Object(l.a)(e=>this.linkService.resolveLink(e,Object(p.a)("script"))),Object(o.a)(e=>e.script),Object(s.j)()))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](i.a),r["\u0275\u0275directiveInject"](c.a),r["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-new-process"]],decls:6,vars:6,consts:[[4,"ngIf"],["headerKey","process.new.header",3,"selectedScript","parameters",4,"ngVar"],["headerKey","process.new.header",3,"selectedScript","parameters"],["headerKey","process.new.header"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,C,5,3,"ng-container",0),r["\u0275\u0275pipe"](1,"async"),r["\u0275\u0275text"](2,"\n"),r["\u0275\u0275template"](3,j,4,0,"ng-container",0),r["\u0275\u0275pipe"](4,"async"),r["\u0275\u0275text"](5,"\n")),2&e&&(r["\u0275\u0275property"]("ngIf",t.fromExisting$&&r["\u0275\u0275pipeBind1"](1,2,t.fromExisting$)),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",!t.fromExisting$||!r["\u0275\u0275pipeBind1"](4,4,t.fromExisting$)))},directives:[u.p,m.a,E],pipes:[u.b],styles:[""]}),e})();var F=n("7DXY"),B=n("B/au"),k=n("MFUF"),L=n("wLgS"),$=n("Exvd");function N(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"td"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.ngVar;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e)}}const T=function(e){return["/processes/",e]};function M(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275text"](1,"\n                    "),r["\u0275\u0275elementStart"](2,"td"),r["\u0275\u0275elementStart"](3,"a",11),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](5,"\n                    "),r["\u0275\u0275elementStart"](6,"td"),r["\u0275\u0275elementStart"](7,"a",11),r["\u0275\u0275text"](8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](9,"\n                    "),r["\u0275\u0275template"](10,N,2,1,"td",12),r["\u0275\u0275pipe"](11,"async"),r["\u0275\u0275text"](12,"\n                    "),r["\u0275\u0275elementStart"](13,"td"),r["\u0275\u0275text"](14),r["\u0275\u0275pipe"](15,"date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](16,"\n                    "),r["\u0275\u0275elementStart"](17,"td"),r["\u0275\u0275text"](18),r["\u0275\u0275pipe"](19,"date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](20,"\n                    "),r["\u0275\u0275elementStart"](21,"td"),r["\u0275\u0275text"](22),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](23,"\n                "),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("routerLink",r["\u0275\u0275pureFunction1"](18,T,e.processId)),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.processId),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("routerLink",r["\u0275\u0275pureFunction1"](20,T,e.processId)),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.scriptName),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngVar",r["\u0275\u0275pipeBind1"](11,8,n.getEpersonName(e.userId))),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind3"](15,10,e.startTime,n.dateFormat,"UTC")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind3"](19,14,e.endTime,n.dateFormat,"UTC")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](e.processStatus)}}function q(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"ds-pagination",6),r["\u0275\u0275pipe"](1,"async"),r["\u0275\u0275pipe"](2,"async"),r["\u0275\u0275text"](3,"\n        "),r["\u0275\u0275elementStart"](4,"div",7),r["\u0275\u0275text"](5,"\n            "),r["\u0275\u0275elementStart"](6,"table",8),r["\u0275\u0275text"](7,"\n                "),r["\u0275\u0275elementStart"](8,"thead"),r["\u0275\u0275text"](9,"\n                "),r["\u0275\u0275elementStart"](10,"tr"),r["\u0275\u0275text"](11,"\n                    "),r["\u0275\u0275elementStart"](12,"th",9),r["\u0275\u0275text"](13),r["\u0275\u0275pipe"](14,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](15,"\n                    "),r["\u0275\u0275elementStart"](16,"th",9),r["\u0275\u0275text"](17),r["\u0275\u0275pipe"](18,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](19,"\n                    "),r["\u0275\u0275elementStart"](20,"th",9),r["\u0275\u0275text"](21),r["\u0275\u0275pipe"](22,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](23,"\n                    "),r["\u0275\u0275elementStart"](24,"th",9),r["\u0275\u0275text"](25),r["\u0275\u0275pipe"](26,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](27,"\n                    "),r["\u0275\u0275elementStart"](28,"th",9),r["\u0275\u0275text"](29),r["\u0275\u0275pipe"](30,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](31,"\n                    "),r["\u0275\u0275elementStart"](32,"th",9),r["\u0275\u0275text"](33),r["\u0275\u0275pipe"](34,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](35,"\n                "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](36,"\n                "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](37,"\n                "),r["\u0275\u0275elementStart"](38,"tbody"),r["\u0275\u0275text"](39,"\n                "),r["\u0275\u0275template"](40,M,24,22,"tr",10),r["\u0275\u0275pipe"](41,"async"),r["\u0275\u0275text"](42,"\n                "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](43,"\n            "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](44,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](45,"\n    "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();let t=null,n=null,a=null;r["\u0275\u0275property"]("paginationOptions",e.pageConfig)("pageInfoState",null==(t=r["\u0275\u0275pipeBind1"](1,12,e.processesRD$))?null:t.payload)("collectionSize",null==(n=r["\u0275\u0275pipeBind1"](2,14,e.processesRD$))||null==n.payload?null:n.payload.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),r["\u0275\u0275advance"](13),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](14,16,"process.overview.table.id")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](18,18,"process.overview.table.name")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](22,20,"process.overview.table.user")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](26,22,"process.overview.table.start")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](30,24,"process.overview.table.finish")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](34,26,"process.overview.table.status")),r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("ngForOf",null==(a=r["\u0275\u0275pipeBind1"](41,28,e.processesRD$))||null==a.payload?null:a.payload.page)}}let D=(()=>{class e{constructor(e,t,n){this.processService=e,this.paginationService=t,this.ePersonService=n,this.config=Object.assign(new B.f,{elementsPerPage:20}),this.pageConfig=Object.assign(new F.a,{id:"po",pageSize:20}),this.dateFormat="yyyy-MM-dd HH:mm:ss"}ngOnInit(){this.setProcesses()}setProcesses(){this.processesRD$=this.paginationService.getFindListOptions(this.pageConfig.id,this.config).pipe(Object(o.a)(e=>this.processService.findAll(e)))}getEpersonName(e){return this.ePersonService.findById(e).pipe(Object(s.j)(),Object(l.a)(e=>e.name))}ngOnDestroy(){this.paginationService.clearPagination(this.pageConfig.id)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](c.a),r["\u0275\u0275directiveInject"](k.a),r["\u0275\u0275directiveInject"](L.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-process-overview"]],decls:18,vars:9,consts:[[1,"container"],[1,"d-flex"],[1,"flex-grow-1"],["routerLink","/processes/new",1,"btn","btn-lg","btn-success"],[1,"fas","fa-plus","pr-2"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"],[4,"ngVar"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275text"](1,"\n    "),r["\u0275\u0275elementStart"](2,"div",1),r["\u0275\u0275text"](3,"\n        "),r["\u0275\u0275elementStart"](4,"h2",2),r["\u0275\u0275text"](5),r["\u0275\u0275pipe"](6,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](7,"\n        "),r["\u0275\u0275elementStart"](8,"button",3),r["\u0275\u0275element"](9,"i",4),r["\u0275\u0275text"](10),r["\u0275\u0275pipe"](11,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](12,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](13,"\n    "),r["\u0275\u0275template"](14,q,46,30,"ds-pagination",5),r["\u0275\u0275pipe"](15,"async"),r["\u0275\u0275text"](16,"\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](17,"\n")),2&e){let e=null;r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](6,3,"process.overview.title")),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](11,5,"process.overview.new")),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngIf",(null==(e=r["\u0275\u0275pipeBind1"](15,7,t.processesRD$))||null==e.payload?null:e.payload.totalElements)>0)}},directives:[i.i,u.p,$.a,u.o,i.k,m.a],pipes:[y.d,u.b,u.e],encapsulation:2}),e})(),R=(()=>{class e{constructor(e){this.processService=e}resolve(e,t){return this.processService.findById(e.params.id,!1,!0,Object(p.a)("script")).pipe(Object(s.g)())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](c.a))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var _=n("2Vo4"),A=n("vkgz"),z=n("IzEk"),U=n("nYR2"),K=n("WIyL"),G=n("zZO8"),Z=n("ac5F"),X=n("AQcY"),Y=n("PCBh"),H=n("C765"),J=n("Vurf"),W=n("tk/3");const Q=["*"];let ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-process-detail-field"]],inputs:{title:"title"},ngContentSelectors:Q,decls:6,vars:3,consts:[[1,"mt-4"]],template:function(e,t){1&e&&(r["\u0275\u0275projectionDef"](),r["\u0275\u0275elementStart"](0,"h4",0),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](3,"\n"),r["\u0275\u0275projection"](4),r["\u0275\u0275text"](5,"\n")),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,t.title)))},pipes:[y.d],encapsulation:2}),e})();var te=n("OXP5"),ne=n("Frqi"),re=n("t8/W");function ae(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate2"]("",null==e?null:e.name," ",null==e?null:e.value,"")}}function ie(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"ds-process-detail-field",15),r["\u0275\u0275text"](1,"\n        "),r["\u0275\u0275template"](2,ae,2,2,"div",16),r["\u0275\u0275text"](3,"\n    "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().ngVar;r["\u0275\u0275property"]("title","process.detail.arguments"),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",null==e?null:e.parameters)}}function se(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"ds-file-download-link",20),r["\u0275\u0275text"](1,"\n            "),r["\u0275\u0275elementStart"](2,"span"),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](4,"\n            "),r["\u0275\u0275elementStart"](5,"span"),r["\u0275\u0275text"](6),r["\u0275\u0275pipe"](7,"dsFileSize"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](8,"\n          "),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](4);r["\u0275\u0275property"]("bitstream",e),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](n.getFileName(e)),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"]("(",r["\u0275\u0275pipeBind1"](7,3,null==e?null:e.sizeBytes),")")}}function le(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"ds-process-detail-field",18),r["\u0275\u0275text"](1,"\n          "),r["\u0275\u0275template"](2,se,9,5,"ds-file-download-link",19),r["\u0275\u0275text"](3,"\n        "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().ngVar;r["\u0275\u0275property"]("title","process.detail.output-files"),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e)}}function oe(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275text"](1,"\n        "),r["\u0275\u0275template"](2,le,4,2,"ds-process-detail-field",17),r["\u0275\u0275text"](3,"\n    "),r["\u0275\u0275elementEnd"]()),2&e){const e=t.ngVar;r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e&&(null==e?null:e.length)>0)}}function pe(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"ds-process-detail-field",21),r["\u0275\u0275pipe"](1,"translate"),r["\u0275\u0275text"](2,"\n        "),r["\u0275\u0275elementStart"](3,"div"),r["\u0275\u0275text"](4),r["\u0275\u0275pipe"](5,"date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](6,"\n    "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().ngVar,t=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("title",r["\u0275\u0275pipeBind1"](1,2,"process.detail.start-time")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind3"](5,4,e.startTime,t.dateFormat,"UTC"))}}function ce(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"ds-process-detail-field",22),r["\u0275\u0275pipe"](1,"translate"),r["\u0275\u0275text"](2,"\n        "),r["\u0275\u0275elementStart"](3,"div"),r["\u0275\u0275text"](4),r["\u0275\u0275pipe"](5,"date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](6,"\n    "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().ngVar,t=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("title",r["\u0275\u0275pipeBind1"](1,2,"process.detail.end-time")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind3"](5,4,e.endTime,t.dateFormat,"UTC"))}}function de(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"ds-process-detail-field",23),r["\u0275\u0275pipe"](1,"translate"),r["\u0275\u0275text"](2,"\n        "),r["\u0275\u0275elementStart"](3,"div"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](5,"\n    "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().ngVar;r["\u0275\u0275property"]("title",r["\u0275\u0275pipeBind1"](1,2,"process.detail.status")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](e.processStatus)}}function ue(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",29),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](3).showProcessOutputLogs()})),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()}2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n        ",r["\u0275\u0275pipeBind1"](2,1,"process.detail.logs.button"),"\n      "))}function me(e,t){1&e&&(r["\u0275\u0275element"](0,"ds-loading",30),r["\u0275\u0275pipe"](1,"translate")),2&e&&r["\u0275\u0275propertyInterpolate"]("message",r["\u0275\u0275pipeBind1"](1,1,"process.detail.logs.loading"))}function fe(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"pre",31),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"async"),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,e.outputLogs$))}}function xe(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p",32),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n        ",r["\u0275\u0275pipeBind1"](2,1,"process.detail.logs.none"),"\n      "))}function ve(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"ds-process-detail-field",24),r["\u0275\u0275text"](1,"\n      "),r["\u0275\u0275template"](2,ue,3,3,"button",25),r["\u0275\u0275text"](3,"\n      "),r["\u0275\u0275template"](4,me,2,3,"ds-loading",26),r["\u0275\u0275pipe"](5,"async"),r["\u0275\u0275text"](6,"\n      "),r["\u0275\u0275template"](7,fe,3,3,"pre",27),r["\u0275\u0275pipe"](8,"async"),r["\u0275\u0275text"](9,"\n      "),r["\u0275\u0275template"](10,xe,3,3,"p",28),r["\u0275\u0275pipe"](11,"async"),r["\u0275\u0275pipe"](12,"async"),r["\u0275\u0275pipe"](13,"async"),r["\u0275\u0275text"](14,"\n    "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().ngVar,t=r["\u0275\u0275nextContext"]();let n=null,a=null;r["\u0275\u0275property"]("title","process.detail.output"),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!t.showOutputLogs&&null!=(null==e||null==e._links||null==e._links.output?null:e._links.output.href)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](5,5,t.retrievingOutputLogs$)),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.showOutputLogs&&(null==(n=r["\u0275\u0275pipeBind1"](8,7,t.outputLogs$))?null:n.length)>0),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",!r["\u0275\u0275pipeBind1"](11,9,t.retrievingOutputLogs$)&&t.showOutputLogs&&!r["\u0275\u0275pipeBind1"](12,11,t.outputLogs$)||0==(null==(a=r["\u0275\u0275pipeBind1"](13,13,t.outputLogs$))?null:a.length)||!e._links.output)}}const ge=function(e,t){return{id:e,name:t}},he=function(e){return{id:e}};function ye(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",1),r["\u0275\u0275text"](1,"\n    "),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275text"](3,"\n        "),r["\u0275\u0275elementStart"](4,"h2",3),r["\u0275\u0275text"](5),r["\u0275\u0275pipe"](6,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](7,"\n        "),r["\u0275\u0275elementStart"](8,"div"),r["\u0275\u0275text"](9,"\n            "),r["\u0275\u0275elementStart"](10,"button",4),r["\u0275\u0275element"](11,"i",5),r["\u0275\u0275text"](12),r["\u0275\u0275pipe"](13,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](14,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](15,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](16,"\n    "),r["\u0275\u0275elementStart"](17,"ds-process-detail-field",6),r["\u0275\u0275text"](18,"\n        "),r["\u0275\u0275elementStart"](19,"div"),r["\u0275\u0275text"](20),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](21,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](22,"\n\n    "),r["\u0275\u0275template"](23,ie,4,2,"ds-process-detail-field",7),r["\u0275\u0275text"](24,"\n\n    "),r["\u0275\u0275template"](25,oe,4,1,"div",8),r["\u0275\u0275pipe"](26,"async"),r["\u0275\u0275text"](27,"\n\n    "),r["\u0275\u0275template"](28,pe,7,8,"ds-process-detail-field",9),r["\u0275\u0275text"](29,"\n\n    "),r["\u0275\u0275template"](30,ce,7,8,"ds-process-detail-field",10),r["\u0275\u0275text"](31,"\n\n    "),r["\u0275\u0275template"](32,de,6,4,"ds-process-detail-field",11),r["\u0275\u0275text"](33,"\n\n    "),r["\u0275\u0275template"](34,ve,15,15,"ds-process-detail-field",12),r["\u0275\u0275text"](35,"\n\n    "),r["\u0275\u0275elementStart"](36,"div",13),r["\u0275\u0275text"](37,"\n      "),r["\u0275\u0275elementStart"](38,"a",14),r["\u0275\u0275text"](39),r["\u0275\u0275pipe"](40,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](41,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](42,"\n"),r["\u0275\u0275elementEnd"]()),2&e){const e=t.ngVar,n=r["\u0275\u0275nextContext"]();let a=null;r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind2"](6,13,"process.detail.title",r["\u0275\u0275pureFunction2"](22,ge,null==e?null:e.processId,null==e?null:e.scriptName))),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("queryParams",r["\u0275\u0275pureFunction1"](25,he,null==e?null:e.processId)),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](13,16,"process.detail.create")),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("title","process.detail.script"),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](null==e?null:e.scriptName),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",(null==e?null:e.parameters)&&(null==e||null==e.parameters?null:e.parameters.length)>0),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngVar",null==(a=r["\u0275\u0275pipeBind1"](26,18,n.filesRD$))||null==a.payload?null:a.payload.page),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",e&&e.startTime),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e&&e.endTime),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e&&e.processStatus),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",n.isProcessFinished(e)),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("routerLink","/processes"),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](40,20,"process.detail.back"))}}let Se=(()=>{class e{constructor(e,t,n,r,a,i,s,l){this.route=e,this.router=t,this.processService=n,this.bitstreamDataService=r,this.nameService=a,this.zone=i,this.authService=s,this.http=l,this.AlertTypeEnum=Z.a,this.outputLogs$=new _.a(void 0),this.dateFormat="yyyy-MM-dd HH:mm:ss ZZZZ"}ngOnInit(){this.showOutputLogs=!1,this.retrievingOutputLogs$=new _.a(!1),this.processRD$=this.route.data.pipe(Object(l.a)(e=>e.process),Object(s.t)(this.router,this.authService)),this.filesRD$=this.processRD$.pipe(Object(s.j)(),Object(o.a)(e=>this.processService.getFiles(e.processId)))}getFileName(e){return e instanceof K.a?this.nameService.getName(e):"unknown"}showProcessOutputLogs(){console.log("showProcessOutputLogs"),this.retrievingOutputLogs$.next(!0),this.zone.runOutsideAngular(()=>{const e=this.processRD$.pipe(Object(s.j)(),Object(o.a)(e=>this.bitstreamDataService.findByHref(e._links.output.href,!1)));this.outputLogFileUrl$=e.pipe(Object(s.i)(),Object(A.a)(e=>{204===e.statusCode&&(this.zone.run(()=>this.retrievingOutputLogs$.next(!1)),this.showOutputLogs=!0)}),Object(o.a)(e=>{const t=e.payload._links.content.href;return this.authService.getShortlivedToken().pipe(Object(z.a)(1),Object(l.a)(e=>Object(v.b)(e)?new G.a(t,`?authentication-token=${e}`).toString():t))}))}),this.outputLogFileUrl$.pipe(Object(z.a)(1),Object(o.a)(e=>this.getTextFile(e)),Object(U.a)(()=>this.zone.run(()=>this.retrievingOutputLogs$.next(!1)))).subscribe(e=>{this.outputLogs$.next(e)})}getTextFile(e){return this.http.get(e,{responseType:"text"}).pipe(Object(U.a)(()=>{this.showOutputLogs=!0}))}isProcessFinished(e){return Object(v.b)(e)&&Object(v.b)(e.processStatus)&&(e.processStatus.toString()===X.a[X.a.COMPLETED].toString()||e.processStatus.toString()===X.a[X.a.FAILED].toString())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](i.a),r["\u0275\u0275directiveInject"](i.h),r["\u0275\u0275directiveInject"](c.a),r["\u0275\u0275directiveInject"](Y.a),r["\u0275\u0275directiveInject"](H.a),r["\u0275\u0275directiveInject"](r.NgZone),r["\u0275\u0275directiveInject"](J.a),r["\u0275\u0275directiveInject"](W.b))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-process-detail"]],decls:3,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"d-flex"],[1,"flex-grow-1"],["routerLink","/processes/new",1,"btn","btn-lg","btn-success",3,"queryParams"],[1,"fas","fa-plus","pr-2"],["id","process-name",3,"title"],["id","process-arguments",3,"title",4,"ngIf"],[4,"ngVar"],["id","process-start-time",3,"title",4,"ngIf"],["id","process-end-time",3,"title",4,"ngIf"],["id","process-status",3,"title",4,"ngIf"],["id","process-output",3,"title",4,"ngIf"],[2,"text-align","right"],[1,"btn","btn-outline-secondary","mt-3",3,"routerLink"],["id","process-arguments",3,"title"],[4,"ngFor","ngForOf"],["id","process-files",3,"title",4,"ngIf"],["id","process-files",3,"title"],[3,"bitstream",4,"ngFor","ngForOf"],[3,"bitstream"],["id","process-start-time",3,"title"],["id","process-end-time",3,"title"],["id","process-status",3,"title"],["id","process-output",3,"title"],["id","showOutputButton","class","btn btn-primary",3,"click",4,"ngIf"],["class","ds-loading",3,"message",4,"ngIf"],["class","font-weight-bold text-secondary bg-light p-3",4,"ngIf"],["id","no-output-logs-message",4,"ngIf"],["id","showOutputButton",1,"btn","btn-primary",3,"click"],[1,"ds-loading",3,"message"],[1,"font-weight-bold","text-secondary","bg-light","p-3"],["id","no-output-logs-message"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,ye,43,27,"div",0),r["\u0275\u0275pipe"](1,"async"),r["\u0275\u0275text"](2,"\n")),2&e){let e=null;r["\u0275\u0275property"]("ngVar",null==(e=r["\u0275\u0275pipeBind1"](1,1,t.processRD$))?null:e.payload)}},directives:[m.a,i.i,ee,u.p,i.k,u.o,te.a,ne.a],pipes:[u.b,y.d,re.a,u.e],encapsulation:2}),e})();var be=n("A0IO"),Ie=n("LRne"),we=n("zr/d");let Ee=(()=>{class e{getBreadcrumbs(e,t){return Object(Ie.a)([new we.a(e.processId+" - "+e.scriptName,t)])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),Oe=(()=>{class e{constructor(e,t){this.breadcrumbService=e,this.processService=t}resolve(e,t){const n=e.params.id;return this.processService.findById(e.params.id,!0,!1,Object(p.a)("script")).pipe(Object(s.i)(),Object(s.o)(),Object(l.a)(e=>{const r=t.url,a=r.substr(0,r.indexOf(n))+n;return{provider:this.breadcrumbService,key:e,url:a}}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](Ee),r["\u0275\u0275inject"](c.a))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var Ve=n("tPZA");let Ce=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({providers:[R],imports:[[i.l.forChild([{path:"",resolve:{breadcrumb:be.a},data:{breadcrumbKey:"process.overview"},canActivate:[Ve.a],children:[{path:"",component:D,data:{title:"process.overview.title"}},{path:"new",component:P,resolve:{breadcrumb:be.a},data:{title:"process.new.title",breadcrumbKey:"process.new"}},{path:":id",component:Se,resolve:{process:R,breadcrumb:Oe}}]}])]]}),e})();var je=n("pLZG"),Pe=n("/uUt"),Fe=n("3Pt+");function Be(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"option",5),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("ngValue",e.id),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n            ",e.name,"\n        ")}}function ke(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n            ",r["\u0275\u0275pipeBind1"](2,1,"process.new.select-script.required"),"\n        "))}function Le(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",8),r["\u0275\u0275text"](1,"\n        "),r["\u0275\u0275template"](2,ke,3,3,"div",9),r["\u0275\u0275text"](3,"\n    "),r["\u0275\u0275elementEnd"]()),2&e){r["\u0275\u0275nextContext"]();const e=r["\u0275\u0275reference"](7);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e.errors.required)}}function $e(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",1),r["\u0275\u0275text"](1,"\n    "),r["\u0275\u0275elementStart"](2,"label",2),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](5,"\n    "),r["\u0275\u0275elementStart"](6,"select",3,4),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().selectedScript=t})),r["\u0275\u0275text"](8,"\n        "),r["\u0275\u0275elementStart"](9,"option",5),r["\u0275\u0275text"](10),r["\u0275\u0275pipe"](11,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](12,"\n        "),r["\u0275\u0275template"](13,Be,2,2,"option",6),r["\u0275\u0275pipe"](14,"async"),r["\u0275\u0275text"](15,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](16,"\n\n    "),r["\u0275\u0275template"](17,Le,4,1,"div",7),r["\u0275\u0275text"](18,"\n"),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](7),t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](4,6,"process.new.select-script")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModel",t.selectedScript),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngValue",void 0),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](11,8,"process.new.select-script.placeholder")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngForOf",r["\u0275\u0275pipeBind1"](14,10,t.scripts$)),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngIf",e.invalid&&(e.dirty||e.touched))}}let Ne=(()=>{class e{constructor(e,t,n){this.scriptService=e,this.router=t,this.route=n,this.select=new r.EventEmitter}ngOnInit(){this.scripts$=this.scriptService.findAll({elementsPerPage:9999}).pipe(Object(s.i)(),Object(s.o)(),Object(l.a)(e=>e.page)),this.routeSub=this.route.queryParams.pipe(Object(je.a)(e=>Object(v.a)(e.id)),Object(l.a)(e=>e.script),Object(Pe.a)(),Object(o.a)(e=>this.scripts$.pipe(Object(z.a)(1),Object(l.a)(t=>t.find(t=>t.id===e))))).subscribe(e=>{this._selectedScript=e,this.select.emit(e)})}get selectedScript(){return this._selectedScript?this._selectedScript.id:void 0}set selectedScript(e){this.router.navigate([],{queryParams:{script:e}})}set script(e){this._selectedScript=e}ngOnDestroy(){Object(v.b)(this.routeSub)&&this.routeSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](g.c),r["\u0275\u0275directiveInject"](i.h),r["\u0275\u0275directiveInject"](i.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-scripts-select"]],inputs:{script:"script"},outputs:{select:"select"},features:[r["\u0275\u0275ProvidersFeature"]([],[{provide:Fe.ControlContainer,useFactory:O,deps:[[new r.Optional,Fe.NgForm]]}])],decls:3,vars:3,consts:[["class","form-group",4,"ngIf"],[1,"form-group"],["for","process-script"],["required","","id","process-script","name","script",1,"form-control",3,"ngModel","ngModelChange"],["script","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","alert alert-danger validation-error",4,"ngIf"],[1,"alert","alert-danger","validation-error"],[4,"ngIf"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,$e,19,12,"div",0),r["\u0275\u0275pipe"](1,"async"),r["\u0275\u0275text"](2,"\n")),2&e&&r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](1,1,t.scripts$))},directives:[u.p,Fe.SelectControlValueAccessor,Fe.RequiredValidator,Fe.NgControlStatus,Fe.NgModel,Fe.NgSelectOption,Fe["\u0275angular_packages_forms_forms_z"],u.o],pipes:[u.b,y.d],styles:[""]}),e})();var Te=function(e){return e.STRING="String",e.DATE="date",e.BOOLEAN="boolean",e.FILE="InputStream",e.OUTPUT="OutputStream",e}({});function Me(e,t){1&e&&r["\u0275\u0275elementContainer"](0)}function qe(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275text"](1,"\n      "),r["\u0275\u0275elementStart"](2,"td",4),r["\u0275\u0275text"](3),r["\u0275\u0275template"](4,Me,1,0,"ng-container",5),r["\u0275\u0275text"](5,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](6,"\n      "),r["\u0275\u0275elementStart"](7,"td"),r["\u0275\u0275text"](8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](9,"\n    "),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275nextContext"]();const n=r["\u0275\u0275reference"](15);r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate2"]("",e.name," ",e.nameLong,"\n        "),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngTemplateOutlet",n)("ngTemplateOutletContext",e),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](e.description)}}function De(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("<",r["\u0275\u0275pipeBind1"](2,1,"process.new.parameter.type.value"),">"))}function Re(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("<",r["\u0275\u0275pipeBind1"](2,1,"process.new.parameter.type.value"),">"))}function _e(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("<",r["\u0275\u0275pipeBind1"](2,1,"process.new.parameter.type.value"),">"))}function Ae(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("<",r["\u0275\u0275pipeBind1"](2,1,"process.new.parameter.type.file"),">"))}function ze(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n    "),r["\u0275\u0275elementContainerStart"](1,6),r["\u0275\u0275text"](2,"\n        "),r["\u0275\u0275template"](3,De,3,3,"span",7),r["\u0275\u0275text"](4,"\n        "),r["\u0275\u0275template"](5,Re,3,3,"span",7),r["\u0275\u0275text"](6,"\n        "),r["\u0275\u0275template"](7,_e,3,3,"span",7),r["\u0275\u0275text"](8,"\n        "),r["\u0275\u0275template"](9,Ae,3,3,"span",7),r["\u0275\u0275text"](10,"\n    "),r["\u0275\u0275elementContainerEnd"](),r["\u0275\u0275text"](11,"\n")),2&e){const e=t.type,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitch",e),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngSwitchCase",n.parameterTypes.DATE),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngSwitchCase",n.parameterTypes.STRING),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngSwitchCase",n.parameterTypes.OUTPUT),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngSwitchCase",n.parameterTypes.FILE)}}let Ue=(()=>{class e{constructor(){this.parameterTypes=Te}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-script-help"]],inputs:{script:"script"},decls:17,vars:3,consts:[[1,"text-secondary"],[1,"table-borderless","mt-3"],[4,"ngFor","ngForOf"],["type",""],[1,"align-top","text-nowrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275text"](1,"\n  "),r["\u0275\u0275elementStart"](2,"h3"),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](4,"\n  "),r["\u0275\u0275elementStart"](5,"span"),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](7,"\n\n  "),r["\u0275\u0275elementStart"](8,"table",1),r["\u0275\u0275text"](9,"\n    "),r["\u0275\u0275template"](10,qe,10,5,"tr",2),r["\u0275\u0275text"](11,"\n  "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](12,"\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](13,"\n\n"),r["\u0275\u0275template"](14,ze,12,5,"ng-template",null,3,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](16,"\n")),2&e&&(r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](null==t.script?null:t.script.name),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](null==t.script?null:t.script.description),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngForOf",null==t.script?null:t.script.parameters))},directives:[u.o,u.t,u.r,u.s],pipes:[y.d],styles:[""]}),e})();var Ke=n("ygbf");let Ge=(()=>{class e{constructor(){this.updateValue=new r.EventEmitter}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-value-input"]],inputs:{index:"index"},outputs:{updateValue:"updateValue"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();function Ze(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n        ",r["\u0275\u0275pipeBind1"](2,1,"process.new.parameter.string.required"),"\n    "))}function Xe(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",3),r["\u0275\u0275text"](1,"\n    "),r["\u0275\u0275template"](2,Ze,3,3,"div",4),r["\u0275\u0275text"](3,"\n"),r["\u0275\u0275elementEnd"]()),2&e){r["\u0275\u0275nextContext"]();const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e.errors.required)}}let Ye=(()=>{class e extends Ge{ngOnInit(){this.value=this.initialValue}setValue(e){this.value=e,this.updateValue.emit(e)}}return e.\u0275fac=function(t){return He(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-string-value-input"]],inputs:{initialValue:"initialValue"},features:[r["\u0275\u0275ProvidersFeature"]([],[{provide:Fe.ControlContainer,useFactory:O,deps:[[new r.Optional,Fe.NgForm]]}]),r["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:4,consts:[["required","","type","text",1,"form-control",3,"name","id","ngModel","ngModelChange"],["string","ngModel"],["class","alert alert-danger validation-error",4,"ngIf"],[1,"alert","alert-danger","validation-error"],[4,"ngIf"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"input",0,1),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.setValue(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](2,"\n"),r["\u0275\u0275template"](3,Xe,4,1,"div",2),r["\u0275\u0275text"](4,"\n")),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275propertyInterpolate1"]("name","string-value-",t.index,""),r["\u0275\u0275propertyInterpolate1"]("id","string-value-",t.index,""),r["\u0275\u0275property"]("ngModel",t.value),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",e.invalid&&(e.dirty||e.touched))}},directives:[Fe.DefaultValueAccessor,Fe.RequiredValidator,Fe.NgControlStatus,Fe.NgModel,u.p],pipes:[y.d],styles:[""]}),e})();const He=r["\u0275\u0275getInheritedFactory"](Ye);function Je(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n        ",r["\u0275\u0275pipeBind1"](2,1,"process.new.parameter.string.required"),"\n    "))}function We(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",3),r["\u0275\u0275text"](1,"\n    "),r["\u0275\u0275template"](2,Je,3,3,"div",4),r["\u0275\u0275text"](3,"\n"),r["\u0275\u0275elementEnd"]()),2&e){r["\u0275\u0275nextContext"]();const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e.errors.required)}}let Qe=(()=>{class e extends Ge{ngOnInit(){this.value=this.initialValue}setValue(e){this.value=e,this.updateValue.emit(e)}}return e.\u0275fac=function(t){return et(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-date-value-input"]],inputs:{initialValue:"initialValue"},features:[r["\u0275\u0275ProvidersFeature"]([],[{provide:Fe.ControlContainer,useFactory:O,deps:[[new r.Optional,Fe.NgForm]]}]),r["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:4,consts:[["required","","type","text",1,"form-control",3,"name","id","ngModel","ngModelChange"],["string","ngModel"],["class","alert alert-danger validation-error",4,"ngIf"],[1,"alert","alert-danger","validation-error"],[4,"ngIf"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"input",0,1),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.setValue(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](2,"\n"),r["\u0275\u0275template"](3,We,4,1,"div",2),r["\u0275\u0275text"](4,"\n")),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275propertyInterpolate1"]("name","date-value-",t.index,""),r["\u0275\u0275propertyInterpolate1"]("id","date-value-",t.index,""),r["\u0275\u0275property"]("ngModel",t.value),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",e.invalid&&(e.dirty||e.touched))}},directives:[Fe.DefaultValueAccessor,Fe.RequiredValidator,Fe.NgControlStatus,Fe.NgModel,u.p],pipes:[y.d],styles:[""]}),e})();const et=r["\u0275\u0275getInheritedFactory"](Qe);var tt=n("4Kdc"),nt=n("ozG+");function rt(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n        ",r["\u0275\u0275pipeBind1"](2,1,"process.new.parameter.file.required"),"\n    "))}function at(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",6),r["\u0275\u0275text"](1,"\n    "),r["\u0275\u0275template"](2,rt,3,3,"div",7),r["\u0275\u0275text"](3,"\n"),r["\u0275\u0275elementEnd"]()),2&e){r["\u0275\u0275nextContext"]();const e=r["\u0275\u0275reference"](11);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e.errors.required)}}let it=(()=>{class e extends Ge{setFile(e){this.fileObject=e.length>0?e[0]:void 0,this.updateValue.emit(this.fileObject)}}return e.\u0275fac=function(t){return st(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-file-value-input"]],features:[r["\u0275\u0275ProvidersFeature"]([],[{provide:Fe.ControlContainer,useFactory:O,deps:[[new r.Optional,Fe.NgForm]]}]),r["\u0275\u0275InheritDefinitionFeature"]],decls:15,vars:9,consts:[[1,"d-flex","align-items-center","m-0",3,"for"],[1,"btn","btn-light"],[1,"file-name","ml-1"],["requireFile","","type","file",1,"form-control-file","d-none",3,"name","id","ngModel","ngModelChange"],["file","ngModel"],["class","alert alert-danger validation-error",4,"ngIf"],[1,"alert","alert-danger","validation-error"],[4,"ngIf"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"label",0),r["\u0275\u0275text"](1,"\n    "),r["\u0275\u0275elementStart"](2,"span",1),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](5,"\n    "),r["\u0275\u0275elementStart"](6,"span",2),r["\u0275\u0275text"](7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](8,"\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](9,"\n"),r["\u0275\u0275elementStart"](10,"input",3,4),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.setFile(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](12,"\n"),r["\u0275\u0275template"](13,at,4,1,"div",5),r["\u0275\u0275text"](14,"\n")),2&e){const e=r["\u0275\u0275reference"](11);r["\u0275\u0275propertyInterpolate1"]("for","file-upload-",t.index,""),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"]("\n        ",r["\u0275\u0275pipeBind1"](4,7,"process.new.parameter.file.upload-button"),"\n    "),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](null==t.fileObject?null:t.fileObject.name),r["\u0275\u0275advance"](3),r["\u0275\u0275propertyInterpolate1"]("name","file-upload-",t.index,""),r["\u0275\u0275propertyInterpolate1"]("id","file-upload-",t.index,""),r["\u0275\u0275property"]("ngModel",t.fileObject),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",e.invalid&&(e.dirty||e.touched))}},directives:[tt.a,Fe.DefaultValueAccessor,nt.a,Fe.NgControlStatus,Fe.NgModel,u.p],pipes:[y.d],styles:[".file-name[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),e})();const st=r["\u0275\u0275getInheritedFactory"](it);let lt=(()=>{class e extends Ge{ngOnInit(){this.updateValue.emit(!0)}}return e.\u0275fac=function(t){return ot(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-boolean-value-input"]],features:[r["\u0275\u0275ProvidersFeature"]([],[{provide:Fe.ControlContainer,useFactory:O,deps:[[new r.Optional,Fe.NgForm]]}]),r["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:2,consts:[["type","hidden","value","true",3,"name","id"]],template:function(e,t){1&e&&(r["\u0275\u0275element"](0,"input",0),r["\u0275\u0275text"](1,"\n")),2&e&&(r["\u0275\u0275propertyInterpolate1"]("name","boolean-value-",t.index,""),r["\u0275\u0275propertyInterpolate1"]("id","boolean-value-",t.index,""))},styles:[""]}),e})();const ot=r["\u0275\u0275getInheritedFactory"](lt);function pt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"ds-string-value-input",3),r["\u0275\u0275listener"]("updateValue",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().updateValue.emit(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("initialValue",e.initialValue)("index",e.index)}}function ct(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"ds-string-value-input",3),r["\u0275\u0275listener"]("updateValue",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().updateValue.emit(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("initialValue",e.initialValue)("index",e.index)}}function dt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"ds-date-value-input",3),r["\u0275\u0275listener"]("updateValue",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().updateValue.emit(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("initialValue",e.initialValue)("index",e.index)}}function ut(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"ds-file-value-input",4),r["\u0275\u0275listener"]("updateValue",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().updateValue.emit(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("index",e.index)}}function mt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"ds-boolean-value-input",4),r["\u0275\u0275listener"]("updateValue",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().updateValue.emit(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("index",e.index)}}let ft=(()=>{class e{constructor(){this.updateValue=new r.EventEmitter,this.parameterTypes=Te}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-parameter-value-input"]],inputs:{index:"index",parameter:"parameter",initialValue:"initialValue"},outputs:{updateValue:"updateValue"},features:[r["\u0275\u0275ProvidersFeature"]([],[{provide:Fe.ControlContainer,useFactory:O,deps:[[new r.Optional,Fe.NgForm]]}])],decls:13,vars:6,consts:[[3,"ngSwitch"],[3,"initialValue","index","updateValue",4,"ngSwitchCase"],[3,"index","updateValue",4,"ngSwitchCase"],[3,"initialValue","index","updateValue"],[3,"index","updateValue"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275text"](1,"\n  "),r["\u0275\u0275template"](2,pt,1,2,"ds-string-value-input",1),r["\u0275\u0275text"](3,"\n  "),r["\u0275\u0275template"](4,ct,1,2,"ds-string-value-input",1),r["\u0275\u0275text"](5,"\n  "),r["\u0275\u0275template"](6,dt,1,2,"ds-date-value-input",1),r["\u0275\u0275text"](7,"\n  "),r["\u0275\u0275template"](8,ut,1,1,"ds-file-value-input",2),r["\u0275\u0275text"](9,"\n  "),r["\u0275\u0275template"](10,mt,1,1,"ds-boolean-value-input",2),r["\u0275\u0275text"](11,"\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](12,"\n")),2&e&&(r["\u0275\u0275property"]("ngSwitch",null==t.parameter?null:t.parameter.type),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngSwitchCase",t.parameterTypes.STRING),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngSwitchCase",t.parameterTypes.OUTPUT),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngSwitchCase",t.parameterTypes.DATE),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngSwitchCase",t.parameterTypes.FILE),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngSwitchCase",t.parameterTypes.BOOLEAN))},directives:[u.r,u.s,Ye,Qe,it,lt],styles:[""]}),e})();function xt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"option",3),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("ngValue",e.name),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n            ",e.nameLong||e.name,"\n        ")}}function vt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",8),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]();return t.removeParameter.emit(t.parameterValue)})),r["\u0275\u0275element"](1,"span",9),r["\u0275\u0275elementEnd"]()}}function gt(e,t){1&e&&r["\u0275\u0275element"](0,"span",10)}let ht=(()=>{class e{constructor(){this.parameterValue=new Ke.a,this.removeParameter=new r.EventEmitter,this.changeParameter=new r.EventEmitter}get selectedScriptParameter(){return this.parameters.find(e=>e.name===this.selectedParameter)}get selectedParameter(){return this.parameterValue?this.parameterValue.name:void 0}set selectedParameter(e){this.parameterValue.name=e,this.selectedParameterValue=void 0,this.changeParameter.emit(this.parameterValue)}get selectedParameterValue(){return this.parameterValue?this.parameterValue.value:void 0}set selectedParameterValue(e){this.parameterValue.value=e,this.changeParameter.emit(this.parameterValue)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-parameter-select"]],inputs:{index:"index",parameterValue:"parameterValue",parameters:"parameters",removable:"removable"},outputs:{removeParameter:"removeParameter",changeParameter:"changeParameter"},features:[r["\u0275\u0275ProvidersFeature"]([],[{provide:Fe.ControlContainer,useFactory:O,deps:[[new r.Optional,Fe.NgForm]]}])],decls:18,vars:9,consts:[[1,"form-row","mb-2","mx-0"],["id","process-parameters",1,"form-control","col",3,"name","ngModel","ngModelChange"],["param","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-block","col",3,"initialValue","parameter","index","updateValue"],["class","btn btn-light col-1 remove-button",3,"click",4,"ngIf"],["class","col-1",4,"ngIf"],[1,"btn","btn-light","col-1","remove-button",3,"click"],[1,"fas","fa-trash"],[1,"col-1"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275text"](1,"\n    "),r["\u0275\u0275elementStart"](2,"select",1,2),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectedParameter=e})),r["\u0275\u0275text"](4,"\n        "),r["\u0275\u0275elementStart"](5,"option",3),r["\u0275\u0275text"](6,"Add a parameter..."),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](7,"\n        "),r["\u0275\u0275template"](8,xt,2,2,"option",4),r["\u0275\u0275text"](9,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](10,"\n    "),r["\u0275\u0275elementStart"](11,"ds-parameter-value-input",5),r["\u0275\u0275listener"]("updateValue",(function(e){return t.selectedParameterValue=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](12,"\n    "),r["\u0275\u0275template"](13,vt,2,0,"button",6),r["\u0275\u0275text"](14,"\n    "),r["\u0275\u0275template"](15,gt,1,0,"span",7),r["\u0275\u0275text"](16,"\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](17,"\n\n")),2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate1"]("name","parameter-",t.index,""),r["\u0275\u0275property"]("ngModel",t.selectedParameter),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngValue",void 0),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngForOf",t.parameters),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("initialValue",t.parameterValue.value)("parameter",t.selectedScriptParameter)("index",t.index),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.removable),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!t.removable))},directives:[Fe.SelectControlValueAccessor,Fe.NgControlStatus,Fe.NgModel,Fe.NgSelectOption,Fe["\u0275angular_packages_forms_forms_z"],u.o,ft,u.p],styles:[""]}),e})();function yt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"ds-parameter-select",3),r["\u0275\u0275listener"]("removeParameter",(function(){r["\u0275\u0275restoreView"](e);const n=t.index;return r["\u0275\u0275nextContext"](2).removeParameter(n)}))("changeParameter",(function(n){r["\u0275\u0275restoreView"](e);const a=t.index;return r["\u0275\u0275nextContext"](2).updateParameter(n,a)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,a=t.last,i=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("parameters",i.script.parameters)("parameterValue",e)("removable",!a)("index",n)}}function St(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",1),r["\u0275\u0275text"](1,"\n    "),r["\u0275\u0275elementStart"](2,"label"),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](5,"\n    "),r["\u0275\u0275template"](6,yt,1,4,"ds-parameter-select",2),r["\u0275\u0275text"](7,"\n"),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](4,2,"process.new.select-parameters")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngForOf",e.parameterValues)}}let bt=(()=>{class e{constructor(){this.updateParameters=new r.EventEmitter}ngOnInit(){Object(v.b)(this.initialParams)&&(this.parameterValues=this.initialParams)}ngOnChanges(e){e.script&&this.initParameters()}initParameters(){Object(v.b)(this.initialParams)?this.parameterValues=this.initialParams:(this.parameterValues=[],this.initializeParameter())}updateParameter(e,t){this.parameterValues[t]=e,t===this.parameterValues.length-1&&this.addParameter(),this.updateParameters.emit(this.parameterValues.filter(e=>Object(v.b)(e.name)))}removeParameter(e){this.parameterValues=this.parameterValues.filter((t,n)=>n!==e),this.updateParameters.emit(this.parameterValues.filter(e=>Object(v.b)(e.name)))}initializeParameter(){Object(v.b)(this.script)&&(this.parameterValues=this.script.parameters.filter(e=>e.mandatory).map(e=>Object.assign(new Ke.a,{name:e.name}))),this.addParameter()}addParameter(){this.parameterValues=[...this.parameterValues,new Ke.a]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-process-parameters"]],inputs:{script:"script",initialParams:"initialParams"},outputs:{updateParameters:"updateParameters"},features:[r["\u0275\u0275ProvidersFeature"]([],[{provide:Fe.ControlContainer,useFactory:O,deps:[[new r.Optional,Fe.NgForm]]}]),r["\u0275\u0275NgOnChangesFeature"]],decls:2,vars:1,consts:[["class","form-group",4,"ngIf"],[1,"form-group"],[3,"parameters","parameterValue","removable","index","removeParameter","changeParameter",4,"ngFor","ngForOf"],[3,"parameters","parameterValue","removable","index","removeParameter","changeParameter"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,St,8,4,"div",0),r["\u0275\u0275text"](1,"\n")),2&e&&r["\u0275\u0275property"]("ngIf",t.script)},directives:[u.p,u.o,ht],pipes:[y.d],styles:[""]}),e})(),It=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({providers:[Oe,Ee],imports:[[Ce,a.a]]}),e})();r["\u0275\u0275setComponentScope"](E,[Fe["\u0275angular_packages_forms_forms_ba"],Fe.NgControlStatusGroup,Fe.NgForm,Ne,bt,i.i,Ue,u.p,u.o],[y.d])},tv3Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("zr/d"),a=n("LRne"),i=n("fXoL");let s=(()=>{class e{getBreadcrumbs(e,t){return Object(a.a)([new r.a(e+".breadcrumbs",t)])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"zr/d":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e,t){this.text=e,this.url=t}}}}]);
//# sourceMappingURL=29-es2015.714615a40c7888543d3a.js.map