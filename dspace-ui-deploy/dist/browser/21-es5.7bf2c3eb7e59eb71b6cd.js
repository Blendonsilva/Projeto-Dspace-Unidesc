!function(){function e(){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,r){var o=t(e,n);if(o){var i=Object.getOwnPropertyDescriptor(o,n);return i.get?i.get.call(arguments.length<3?e:r):i.value}}).apply(this,arguments)}function t(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"/RQ2":function(e,t,n){var r={"./custom/app/forgot-password/forgot-password-email/forgot-email.component":["6KPR",51]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id="/RQ2",e.exports=o},"8jtY":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("WL0R"),o={RESOLVED:Object(r.a)("dspace/resolver/RESOLVED")},i=function e(t,n){u(this,e),this.type=o.RESOLVED,this.payload={url:t,dso:n}}},JgOp:function(e,t,n){"use strict";n.r(t),n.d(t,"ForgotPasswordModule",(function(){return x}));var i=n("fXoL"),c=n("ofXK"),s=n("PCNd"),f=(n("bg75"),n("tyNb")),l=n("z3/6"),p=n("pY/b"),d=n("JTKQ");function m(e,t){}var v,h=((v=function(e){o(i,e);var t=a(i);function i(){return u(this,i),t.apply(this,arguments)}return r(i,[{key:"getComponentName",value:function(){return"ForgotPasswordFormComponent"}},{key:"importThemedComponent",value:function(e){return n("Jjgi")("./".concat(e,"/app/forgot-password/forgot-password-form/forgot-password-form.component"))}},{key:"importUnthemedComponent",value:function(){return Promise.resolve().then(n.bind(null,"uqR5"))}}]),i}(d.a)).\u0275fac=function(e){return b(e||v)},v.\u0275cmp=i["\u0275\u0275defineComponent"]({type:v,selectors:[["ds-themed-forgot-password-form"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:0,consts:[["vcr",""]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,m,0,0,"ng-template",null,0,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275text"](2,"\n"))},encapsulation:2}),v),b=i["\u0275\u0275getInheritedFactory"](h);function y(e,t){}var g,w,j,O=((g=function(e){o(i,e);var t=a(i);function i(){return u(this,i),t.apply(this,arguments)}return r(i,[{key:"getComponentName",value:function(){return"ForgotEmailComponent"}},{key:"importThemedComponent",value:function(e){return n("/RQ2")("./".concat(e,"/app/forgot-password/forgot-password-email/forgot-email.component"))}},{key:"importUnthemedComponent",value:function(){return Promise.resolve().then(n.bind(null,"bg75"))}}]),i}(d.a)).\u0275fac=function(e){return I(e||g)},g.\u0275cmp=i["\u0275\u0275defineComponent"]({type:g,selectors:[["ds-themed-forgot-email"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:0,consts:[["vcr",""]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,y,0,0,"ng-template",null,0,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275text"](2,"\n"))},encapsulation:2}),g),I=i["\u0275\u0275getInheritedFactory"](O),S=((w=function e(){u(this,e)}).\u0275fac=function(e){return new(e||w)},w.\u0275mod=i["\u0275\u0275defineNgModule"]({type:w}),w.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[p.a,l.a],imports:[[f.l.forChild([{path:"",component:O,data:{title:"forgot-password.title"}},{path:":token",component:h,resolve:{registration:p.a}}])]]}),w),E=n("a7RS"),k=(n("uqR5"),n("GVwY")),x=((j=function e(){u(this,e)}).\u0275fac=function(e){return new(e||j)},j.\u0275mod=i["\u0275\u0275defineNgModule"]({type:j}),j.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[],imports:[[c.c,s.a,S,E.a,k.ProfilePageModule]]}),j)},Jjgi:function(e,t,n){var r={"./custom/app/forgot-password/forgot-password-form/forgot-password-form.component":["k2Tu",52]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id="Jjgi",e.exports=o},Ssd4:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var o,i,a=n("fXoL"),c=n("B/au"),s=n("pLZG"),f=n("lJxs"),l=n("cBqT"),p=n("32Ea"),d=n("J3qs"),m=n("zBnI"),v=n("1QIV"),h=n("Kvit"),b=((o=function(){function e(){u(this,e)}return r(e,[{key:"parse",value:function(e,t){var n=t.payload,r=Object.assign(new m.a,n);return new h.c(t.statusCode,void 0,r)}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275prov=a["\u0275\u0275defineInjectable"]({token:o,factory:o.\u0275fac,providedIn:"root"}),o),y=n("X/78"),g=n("7vy/"),w=n("uLZQ"),j=((i=function(){function e(t,n,r){u(this,e),this.requestService=t,this.rdbService=n,this.halService=r,this.linkPath="registrations",this.searchByTokenPath="/search/findByToken?token="}return r(e,[{key:"getRegistrationEndpoint",value:function(){return this.halService.getEndpoint(this.linkPath)}},{key:"getTokenSearchEndpoint",value:function(e){var t=this;return this.halService.getEndpoint(this.linkPath).pipe(Object(s.a)((function(e){return Object(d.e)(e)})),Object(f.a)((function(n){return"".concat(n).concat(t.searchByTokenPath).concat(e)})))}},{key:"registerEmail",value:function(e){var t=this,n=new m.a;n.email=e;var r=this.requestService.generateRequestId();return this.getRegistrationEndpoint().pipe(Object(l.a)((function(e){return Object(d.b)(e)})),Object(f.a)((function(e){var o=new c.l(r,e,n);t.requestService.send(o)}))).subscribe(),this.rdbService.buildFromRequestUUID(r).pipe(Object(v.g)())}},{key:"searchByToken",value:function(e){var t=this,n=this.requestService.generateRequestId(),r=this.getTokenSearchEndpoint(e).pipe(Object(l.a)((function(e){return Object(d.b)(e)})));return r.subscribe((function(e){var r=new c.g(n,e);Object.assign(r,{getResponseParser:function(){return b}}),t.requestService.send(r,!0)})),this.rdbService.buildSingle(r).pipe(Object(p.a)((function(e){return e.isStale})),Object(v.i)(),Object(f.a)((function(t){return Object.assign(new m.a,{email:t.payload.email,token:e,user:t.payload.user})})))}}]),e}()).\u0275fac=function(e){return new(e||i)(a["\u0275\u0275inject"](y.a),a["\u0275\u0275inject"](g.a),a["\u0275\u0275inject"](w.a))},i.\u0275prov=a["\u0275\u0275defineInjectable"]({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},bg75:function(e,t,n){"use strict";n.r(t),n.d(t,"ForgotEmailComponent",(function(){return i}));var r=n("fXoL"),o=n("g1Lb"),i=function(){var e=function e(){u(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-forgot-email"]],decls:2,vars:1,consts:[[3,"MESSAGE_PREFIX"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"ds-register-email-form",0),r["\u0275\u0275text"](1,"\n"),r["\u0275\u0275elementEnd"]()),2&e&&r["\u0275\u0275property"]("MESSAGE_PREFIX","forgot-email.form")},directives:[o.a],styles:[""]}),e}()},kGaT:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var o=n("fXoL"),i=n("84Zn"),a=n("1QIV"),c=n("8jtY"),s=n("iqTE"),f=n("l7P3"),l=n("tyNb"),p=[Object(i.a)("owningCollection",{},Object(i.a)("parentCommunity",{},Object(i.a)("parentCommunity"))),Object(i.a)("relationships"),Object(i.a)("version",{},Object(i.a)("versionhistory")),Object(i.a)("thumbnail")],d=function(){var e=function(){function e(t,n,r){u(this,e),this.itemService=t,this.store=n,this.router=r}return r(e,[{key:"resolve",value:function(e,t){var n,r=this,o=(n=this.itemService).findById.apply(n,[e.params.id,!0,!1].concat(p)).pipe(Object(a.g)());return o.subscribe((function(e){r.store.dispatch(new c.a(t.url,e.payload))})),o}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](s.a),o["\u0275\u0275inject"](f.i),o["\u0275\u0275inject"](l.h))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}()},uqR5:function(e,t,n){"use strict";n.r(t),n.d(t,"ForgotPasswordFormComponent",(function(){return h}));var o=n("fXoL"),i=n("lJxs"),a=n("sIb/"),c=n("1QIV"),s=n("wLgS"),f=n("sYmb"),l=n("lI3o"),p=n("l7P3"),d=n("tyNb"),m=n("JKx6"),v=n("ofXK"),h=function(){var e=function(){function e(t,n,r,o,i,a){u(this,e),this.ePersonDataService=t,this.translateService=n,this.notificationsService=r,this.store=o,this.router=i,this.route=a,this.isInValid=!0,this.NOTIFICATIONS_PREFIX="forgot-password.form.notification"}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.registration$=this.route.data.pipe(Object(i.a)((function(e){return e.registration}))),this.registration$.subscribe((function(t){e.email=t.email,e.token=t.token,e.user=t.user}))}},{key:"setInValid",value:function(e){this.isInValid=e}},{key:"setPasswordValue",value:function(e){this.password=e}},{key:"submit",value:function(){var e=this;this.isInValid||this.ePersonDataService.patchPasswordWithToken(this.user,this.token,this.password).pipe(Object(c.g)()).subscribe((function(t){t.hasSucceeded?(e.notificationsService.success(e.translateService.instant(e.NOTIFICATIONS_PREFIX+".success.title"),e.translateService.instant(e.NOTIFICATIONS_PREFIX+".success.content")),e.store.dispatch(new a.c(e.email,e.password)),e.router.navigate(["/home"])):e.notificationsService.error(e.translateService.instant(e.NOTIFICATIONS_PREFIX+".error.title"),t.errorMessage)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](s.a),o["\u0275\u0275directiveInject"](f.e),o["\u0275\u0275directiveInject"](l.a),o["\u0275\u0275directiveInject"](p.i),o["\u0275\u0275directiveInject"](d.h),o["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-forgot-password-form"]],decls:51,vars:21,consts:[[1,"container"],[1,"mb-4"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12"],["for","email",1,"font-weight-bold"],["id","email"],[3,"passwordCanBeEmpty","FORM_PREFIX","isInvalid","passwordValue"],[1,"btn","btn-default","btn-primary",3,"disabled","click"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275text"](1,"\n    "),o["\u0275\u0275elementStart"](2,"h3",1),o["\u0275\u0275text"](3),o["\u0275\u0275pipe"](4,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](5,"\n    "),o["\u0275\u0275elementStart"](6,"div",2),o["\u0275\u0275text"](7,"\n        "),o["\u0275\u0275elementStart"](8,"div",3),o["\u0275\u0275text"](9),o["\u0275\u0275pipe"](10,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](11,"\n        "),o["\u0275\u0275elementStart"](12,"div",4),o["\u0275\u0275text"](13,"\n            "),o["\u0275\u0275elementStart"](14,"div",5),o["\u0275\u0275text"](15,"\n                "),o["\u0275\u0275elementStart"](16,"div",6),o["\u0275\u0275text"](17,"\n                    "),o["\u0275\u0275elementStart"](18,"label",7),o["\u0275\u0275text"](19),o["\u0275\u0275pipe"](20,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](21,"\n                    "),o["\u0275\u0275elementStart"](22,"span",8),o["\u0275\u0275text"](23),o["\u0275\u0275pipe"](24,"async"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](25,"\n            "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](26,"\n        "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](27,"\n    "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](28,"\n\n    "),o["\u0275\u0275elementStart"](29,"div",2),o["\u0275\u0275text"](30,"\n        "),o["\u0275\u0275elementStart"](31,"div",3),o["\u0275\u0275text"](32),o["\u0275\u0275pipe"](33,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](34,"\n        "),o["\u0275\u0275elementStart"](35,"div",4),o["\u0275\u0275text"](36,"\n\n            "),o["\u0275\u0275elementStart"](37,"ds-profile-page-security-form",9),o["\u0275\u0275listener"]("isInvalid",(function(e){return t.setInValid(e)}))("passwordValue",(function(e){return t.setPasswordValue(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](38,"\n        "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](39,"\n    "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](40,"\n\n    "),o["\u0275\u0275elementStart"](41,"div",5),o["\u0275\u0275text"](42,"\n        "),o["\u0275\u0275elementStart"](43,"div",6),o["\u0275\u0275text"](44,"\n            "),o["\u0275\u0275elementStart"](45,"button",10),o["\u0275\u0275listener"]("click",(function(){return t.submit()})),o["\u0275\u0275text"](46),o["\u0275\u0275pipe"](47,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](48,"\n        "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](49,"\n    "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](50,"\n"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](4,9,"forgot-password.form.head")),o["\u0275\u0275advance"](6),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](10,11,"forgot-password.form.identification.header")),o["\u0275\u0275advance"](10),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](20,13,"forgot-password.form.identification.email")),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](24,15,t.registration$).email),o["\u0275\u0275advance"](9),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](33,17,"forgot-password.form.card.security")),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("passwordCanBeEmpty",!1)("FORM_PREFIX","forgot-password.form."),o["\u0275\u0275advance"](8),o["\u0275\u0275property"]("disabled",t.isInValid),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](47,19,"forgot-password.form.submit")))},directives:[m.a],pipes:[f.d,v.b],styles:[""]}),e}()},"z3/6":function(t,n,i){"use strict";i.d(n,"a",(function(){return b}));var c=i("fXoL"),f=i("lJxs"),l=i("J3qs"),p=i("Xioo"),d=i("kGaT"),m=i("iqTE"),v=i("l7P3"),h=i("tyNb"),b=function(){var t=function(t){o(i,t);var n=a(i);function i(e,t,r){var o;return u(this,i),(o=n.call(this,e,t,r)).itemService=e,o.store=t,o.router=r,o}return r(i,[{key:"resolve",value:function(t,n){var r=this;return e(s(i.prototype),"resolve",this).call(this,t,n).pipe(Object(f.a)((function(e){if(e.hasSucceeded&&Object(l.b)(e.payload)){var t=Object(p.h)(e.payload),o=n.url;if(!o.startsWith(t)){var i=e.payload.uuid,a=o.substring(o.indexOf(i)+i.length,o.length);r.router.navigateByUrl(t+a)}}return e})))}}]),i}(d.b);return t.\u0275fac=function(e){return new(e||t)(c["\u0275\u0275inject"](m.a),c["\u0275\u0275inject"](v.i),c["\u0275\u0275inject"](h.h))},t.\u0275prov=c["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t}()}}])}();
//# sourceMappingURL=21-es5.7bf2c3eb7e59eb71b6cd.js.map