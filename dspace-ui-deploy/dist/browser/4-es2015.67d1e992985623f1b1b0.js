(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+Bs4":function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var r=n("fXoL"),i=n("2Vo4"),s=n("Cfvw"),a=n("pLZG"),o=n("128B"),c=n("lJxs"),l=n("/uUt"),p=n("bOdf"),u=n("Kqap"),d=n("IzEk"),m=n("JX91"),h=n("1QIV"),b=n("J3qs"),f=n("fM99"),x=n("84Zn"),g=n("TVZh"),v=n("mOAm"),y=n("C765"),S=n("wLgS"),E=n("YIpg"),I=n("lI3o"),O=n("X/78"),P=n("8a3C"),j=n("tyNb"),T=n("sYmb"),B=n("ofXK"),D=n("xPuV"),C=n("3Pt+");function R(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1,"\n                  "),r["\u0275\u0275element"](2,"i",14),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](4,1,"submission.workflow.tasks.generic.processing"),"\n                "))}function w(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1,"\n                  "),r["\u0275\u0275element"](2,"i",15),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"]("\n                  ",r["\u0275\u0275pipeBind1"](4,1,"resource-policies.delete.btn"),"\n                "))}function A(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"td"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"async"),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().$implicit,t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n          ",r["\u0275\u0275pipeBind1"](2,1,t.getEPersonName(e.policy)),"\n        ")}}function _(e,t){1&e&&r["\u0275\u0275element"](0,"td")}function L(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"td"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"async"),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().$implicit,t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n          ",r["\u0275\u0275pipeBind1"](2,1,t.getGroupName(e.policy)),"\n        ")}}function N(e,t){1&e&&r["\u0275\u0275element"](0,"td")}function k(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",19),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]().$implicit;return r["\u0275\u0275nextContext"](2).redirectToGroupEditPage(t.policy)})),r["\u0275\u0275pipe"](1,"translate"),r["\u0275\u0275text"](2,"\n              "),r["\u0275\u0275element"](3,"i",22),r["\u0275\u0275text"](4,"\n            "),r["\u0275\u0275elementEnd"]()}2&e&&r["\u0275\u0275property"]("title",r["\u0275\u0275pipeBind1"](1,1,"resource-policies.table.headers.edit.group"))}function F(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275text"](1,"\n        "),r["\u0275\u0275elementStart"](2,"td",9),r["\u0275\u0275text"](3,"\n          "),r["\u0275\u0275elementStart"](4,"div",10),r["\u0275\u0275text"](5,"\n            "),r["\u0275\u0275elementStart"](6,"input",16),r["\u0275\u0275listener"]("ngModelChange",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"](2).selectCheckbox(i,n)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](7,"\n            "),r["\u0275\u0275element"](8,"label",12),r["\u0275\u0275text"](9,"\n          "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](10,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](11,"\n        "),r["\u0275\u0275elementStart"](12,"th",17),r["\u0275\u0275text"](13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](14,"\n        "),r["\u0275\u0275elementStart"](15,"td"),r["\u0275\u0275text"](16),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](17,"\n        "),r["\u0275\u0275elementStart"](18,"td"),r["\u0275\u0275text"](19),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](20,"\n        "),r["\u0275\u0275elementStart"](21,"td"),r["\u0275\u0275text"](22),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](23,"\n        "),r["\u0275\u0275template"](24,A,3,3,"td",6),r["\u0275\u0275pipe"](25,"async"),r["\u0275\u0275text"](26,"\n        "),r["\u0275\u0275template"](27,_,1,0,"td",6),r["\u0275\u0275pipe"](28,"async"),r["\u0275\u0275text"](29,"\n        "),r["\u0275\u0275template"](30,L,3,3,"td",6),r["\u0275\u0275pipe"](31,"async"),r["\u0275\u0275text"](32,"\n        "),r["\u0275\u0275template"](33,N,1,0,"td",6),r["\u0275\u0275pipe"](34,"async"),r["\u0275\u0275text"](35,"\n        "),r["\u0275\u0275elementStart"](36,"td"),r["\u0275\u0275text"](37),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](38,"\n        "),r["\u0275\u0275elementStart"](39,"td"),r["\u0275\u0275text"](40),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](41,"\n        "),r["\u0275\u0275elementStart"](42,"td",9),r["\u0275\u0275text"](43,"\n\n          "),r["\u0275\u0275elementStart"](44,"div",18),r["\u0275\u0275text"](45,"\n            "),r["\u0275\u0275elementStart"](46,"button",19),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](2).redirectToResourcePolicyEditPage(n.policy)})),r["\u0275\u0275pipe"](47,"translate"),r["\u0275\u0275text"](48,"\n              "),r["\u0275\u0275element"](49,"i",20),r["\u0275\u0275text"](50,"\n            "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](51,"\n            "),r["\u0275\u0275template"](52,k,5,3,"button",21),r["\u0275\u0275pipe"](53,"async"),r["\u0275\u0275text"](54,"\n          "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](55,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](56,"\n      "),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("id",e.id)("ngModel",e.checked),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("for",e.id),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate1"]("\n          ",e.id,"\n        "),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.policy.name),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.policy.policyType),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.policy.action),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](25,15,n.hasEPerson(e.policy))),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",!r["\u0275\u0275pipeBind1"](28,17,n.hasEPerson(e.policy))),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](31,19,n.hasGroup(e.policy))),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",!r["\u0275\u0275pipeBind1"](34,21,n.hasGroup(e.policy))),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](n.formatDate(e.policy.startDate)),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](n.formatDate(e.policy.endDate)),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("title",r["\u0275\u0275pipeBind1"](47,23,"resource-policies.table.headers.edit.policy")),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](53,25,n.hasGroup(e.policy)))}}function M(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",1),r["\u0275\u0275text"](1,"\n  "),r["\u0275\u0275elementStart"](2,"table",2),r["\u0275\u0275text"](3,"\n    "),r["\u0275\u0275elementStart"](4,"thead"),r["\u0275\u0275text"](5,"\n      "),r["\u0275\u0275elementStart"](6,"tr"),r["\u0275\u0275text"](7,"\n        "),r["\u0275\u0275elementStart"](8,"th",3),r["\u0275\u0275text"](9,"\n          "),r["\u0275\u0275elementStart"](10,"div",4),r["\u0275\u0275text"](11),r["\u0275\u0275pipe"](12,"translate"),r["\u0275\u0275elementStart"](13,"div"),r["\u0275\u0275text"](14,"\n              "),r["\u0275\u0275elementStart"](15,"button",5),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().deleteSelectedResourcePolicies()})),r["\u0275\u0275pipe"](16,"async"),r["\u0275\u0275pipe"](17,"async"),r["\u0275\u0275pipe"](18,"translate"),r["\u0275\u0275text"](19,"\n                "),r["\u0275\u0275template"](20,R,5,3,"span",6),r["\u0275\u0275pipe"](21,"async"),r["\u0275\u0275text"](22,"\n                "),r["\u0275\u0275template"](23,w,5,3,"span",6),r["\u0275\u0275pipe"](24,"async"),r["\u0275\u0275text"](25,"\n              "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](26,"\n              "),r["\u0275\u0275elementStart"](27,"button",7),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().redirectToResourcePolicyCreatePage()})),r["\u0275\u0275pipe"](28,"async"),r["\u0275\u0275pipe"](29,"translate"),r["\u0275\u0275text"](30,"\n                "),r["\u0275\u0275element"](31,"i",8),r["\u0275\u0275text"](32),r["\u0275\u0275pipe"](33,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](34,"\n            "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](35,"\n          "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](36,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](37,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](38,"\n      "),r["\u0275\u0275elementStart"](39,"tr",9),r["\u0275\u0275text"](40,"\n        "),r["\u0275\u0275elementStart"](41,"th"),r["\u0275\u0275text"](42,"\n          "),r["\u0275\u0275elementStart"](43,"div",10),r["\u0275\u0275text"](44,"\n            "),r["\u0275\u0275elementStart"](45,"input",11),r["\u0275\u0275listener"]("change",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().selectAllCheckbox(t)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](46,"\n            "),r["\u0275\u0275element"](47,"label",12),r["\u0275\u0275text"](48,"\n          "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](49,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](50,"\n        "),r["\u0275\u0275elementStart"](51,"th"),r["\u0275\u0275text"](52),r["\u0275\u0275pipe"](53,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](54,"\n        "),r["\u0275\u0275elementStart"](55,"th"),r["\u0275\u0275text"](56),r["\u0275\u0275pipe"](57,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](58,"\n        "),r["\u0275\u0275elementStart"](59,"th"),r["\u0275\u0275text"](60),r["\u0275\u0275pipe"](61,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](62,"\n        "),r["\u0275\u0275elementStart"](63,"th"),r["\u0275\u0275text"](64),r["\u0275\u0275pipe"](65,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](66,"\n        "),r["\u0275\u0275elementStart"](67,"th"),r["\u0275\u0275text"](68),r["\u0275\u0275pipe"](69,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](70,"\n        "),r["\u0275\u0275elementStart"](71,"th"),r["\u0275\u0275text"](72),r["\u0275\u0275pipe"](73,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](74,"\n        "),r["\u0275\u0275elementStart"](75,"th"),r["\u0275\u0275text"](76),r["\u0275\u0275pipe"](77,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](78,"\n        "),r["\u0275\u0275elementStart"](79,"th"),r["\u0275\u0275text"](80),r["\u0275\u0275pipe"](81,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](82,"\n        "),r["\u0275\u0275elementStart"](83,"th"),r["\u0275\u0275text"](84),r["\u0275\u0275pipe"](85,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](86,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](87,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](88,"\n    "),r["\u0275\u0275elementStart"](89,"tbody"),r["\u0275\u0275text"](90,"\n      "),r["\u0275\u0275template"](91,F,57,27,"tr",13),r["\u0275\u0275pipe"](92,"async"),r["\u0275\u0275text"](93,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](94,"\n  "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](95,"\n"),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](11),r["\u0275\u0275textInterpolate2"]("\n            ",r["\u0275\u0275pipeBind1"](12,21,"resource-policies.table.headers.title.for."+e.resourceType)," ",e.resourceUUID,"\n            "),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("disabled",!r["\u0275\u0275pipeBind1"](16,23,e.canDelete())||r["\u0275\u0275pipeBind1"](17,25,e.isProcessingDelete()))("title",r["\u0275\u0275pipeBind1"](18,27,"resource-policies.delete.btn.title")),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](21,29,e.isProcessingDelete())),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",!r["\u0275\u0275pipeBind1"](24,31,e.isProcessingDelete())),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("disabled",r["\u0275\u0275pipeBind1"](28,33,e.isProcessingDelete()))("title",r["\u0275\u0275pipeBind1"](29,35,"resource-policies.add.for."+e.resourceType)),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate1"]("\n                ",r["\u0275\u0275pipeBind1"](33,37,"resource-policies.add.button"),"\n              "),r["\u0275\u0275advance"](13),r["\u0275\u0275property"]("id","selectAll_"+e.resourceUUID),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("for","selectAll_"+e.resourceUUID),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](53,39,"resource-policies.table.headers.id")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](57,41,"resource-policies.table.headers.name")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](61,43,"resource-policies.table.headers.policyType")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](65,45,"resource-policies.table.headers.action")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](69,47,"resource-policies.table.headers.eperson")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](73,49,"resource-policies.table.headers.group")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](77,51,"resource-policies.table.headers.date.start")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](81,53,"resource-policies.table.headers.date.end")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](85,55,"resource-policies.table.headers.edit")),r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("ngForOf",r["\u0275\u0275pipeBind1"](92,57,e.getResourcePolicies()))}}let V=(()=>{class e{constructor(e,t,n,r,s,a,o,c,l,p){this.cdr=e,this.dsoNameService=t,this.ePersonService=n,this.groupService=r,this.notificationsService=s,this.requestService=a,this.resourcePolicyService=o,this.route=c,this.router=l,this.translate=p,this.processingDelete$=new i.a(!1),this.resourcePoliciesEntries$=new i.a([]),this.subs=[]}ngOnInit(){this.isActive=!0,this.initResourcePolicyLIst()}canDelete(){return Object(s.a)(this.resourcePoliciesEntries$.value).pipe(Object(a.a)(e=>e.checked),Object(o.a)((e,t)=>[...e,t],[]),Object(c.a)(e=>Object(b.e)(e)),Object(l.a)())}deleteSelectedResourcePolicies(){this.processingDelete$.next(!0);const e=this.resourcePoliciesEntries$.value.filter(e=>e.checked);this.subs.push(Object(s.a)(e).pipe(Object(p.a)(e=>this.resourcePolicyService.delete(e.policy.id)),Object(u.a)((e,t)=>[...e,t],[]),Object(a.a)(t=>t.length===e.length),Object(d.a)(1)).subscribe(e=>{const t=e.filter(e=>!e);Object(b.d)(t)?this.notificationsService.success(null,this.translate.get("resource-policies.delete.success.content")):this.notificationsService.error(null,this.translate.get("resource-policies.delete.failure.content")),this.requestService.setStaleByHrefSubstring(this.resourceUUID),this.processingDelete$.next(!1)}))}formatDate(e){return Object(b.e)(e)?Object(f.b)(Object(f.d)(e)):""}getEPersonName(e){return e.eperson.pipe(Object(a.a)(()=>this.isActive),Object(h.k)(),Object(c.a)(e=>this.dsoNameService.getName(e)),Object(m.a)(""))}getGroupName(e){return e.group.pipe(Object(a.a)(()=>this.isActive),Object(h.k)(),Object(c.a)(e=>this.dsoNameService.getName(e)),Object(m.a)(""))}getResourcePolicies(){return this.resourcePoliciesEntries$.asObservable()}hasEPerson(e){return e.eperson.pipe(Object(a.a)(()=>this.isActive),Object(h.j)(),Object(c.a)(e=>Object(b.e)(e)),Object(m.a)(!1))}hasGroup(e){return e.group.pipe(Object(a.a)(()=>this.isActive),Object(h.j)(),Object(c.a)(e=>Object(b.e)(e)),Object(m.a)(!1))}initResourcePolicyLIst(){this.subs.push(this.resourcePolicyService.searchByResource(this.resourceUUID,null,!1,!0,Object(x.a)("eperson"),Object(x.a)("group")).pipe(Object(a.a)(()=>this.isActive),Object(h.c)()).subscribe(e=>{const t=e.payload.page.map(e=>({id:e.id,policy:e,checked:!1}));this.resourcePoliciesEntries$.next(t),this.cdr.detectChanges()}))}isProcessingDelete(){return this.processingDelete$.asObservable()}redirectToResourcePolicyCreatePage(){this.router.navigate(["./create"],{relativeTo:this.route,queryParams:{policyTargetId:this.resourceUUID,targetType:this.resourceType}})}redirectToResourcePolicyEditPage(e){this.router.navigate(["./edit"],{relativeTo:this.route,queryParams:{policyId:e.id}})}redirectToGroupEditPage(e){this.subs.push(this.groupService.findByHref(e._links.group.href,!1).pipe(Object(a.a)(()=>this.isActive),Object(h.j)(),Object(c.a)(e=>e.id)).subscribe(e=>{this.router.navigate([g.a,v.a,e])}))}selectAllCheckbox(e){const t=e.target.checked;this.resourcePoliciesEntries$.value.forEach(e=>e.checked=t)}selectCheckbox(e,t){e.checked=t}ngOnDestroy(){this.isActive=!1,this.resourcePoliciesEntries$=null,this.subs.filter(e=>Object(b.b)(e)).forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](y.a),r["\u0275\u0275directiveInject"](S.a),r["\u0275\u0275directiveInject"](E.a),r["\u0275\u0275directiveInject"](I.a),r["\u0275\u0275directiveInject"](O.a),r["\u0275\u0275directiveInject"](P.a),r["\u0275\u0275directiveInject"](j.a),r["\u0275\u0275directiveInject"](j.h),r["\u0275\u0275directiveInject"](T.e))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-resource-policies"]],inputs:{resourceUUID:"resourceUUID",resourceType:"resourceType"},decls:3,vars:3,consts:[["class","table-responsive",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","table-hover"],["colspan","10"],[1,"d-flex","justify-content-between","align-items-center","m-0"],[1,"btn","btn-danger","float-right","ml-1",3,"disabled","title","click"],[4,"ngIf"],[1,"btn","btn-success","float-right",3,"disabled","title","click"],[1,"fas","fa-plus"],[1,"text-center"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id","change"],[1,"custom-control-label",3,"for"],[4,"ngFor","ngForTrackById","ngForOf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-trash-alt","fa-fw"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","ngModelChange"],["scope","row"],[1,"btn-group","edit-field"],[1,"btn","btn-outline-primary","btn-sm",3,"title","click"],[1,"fas","fa-edit","fa-fw"],["class","btn btn-outline-primary btn-sm",3,"title","click",4,"ngIf"],[1,"fas","fa-users","fa-fw"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,M,96,59,"div",0),r["\u0275\u0275pipe"](1,"async"),r["\u0275\u0275text"](2,"\n")),2&e){let e=null;r["\u0275\u0275property"]("ngIf",(null==(e=r["\u0275\u0275pipeBind1"](1,1,t.getResourcePolicies()))?null:e.length)>0)}},directives:[B.p,B.o,D.a,C.CheckboxControlValueAccessor,C.NgControlStatus,C.NgModel],pipes:[B.b,T.d],styles:["td[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{-webkit-box-shadow:none!important;box-shadow:none!important}"]}),e})()},"539a":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("fXoL"),i=n("2Vo4"),s=n("lJxs"),a=n("LvDl"),o=n("7DXY"),c=n("J3qs"),l=n("B/au"),p=n("zQ+x"),u=n("qFpP"),d=n("Rulr"),m=n("mEo1"),h=n("1QIV"),b=n("C765"),f=n("MFUF");function x(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"ds-eperson-search-box",3),r["\u0275\u0275listener"]("search",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onSearch(t)})),r["\u0275\u0275elementEnd"]()}}function g(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"ds-group-search-box",3),r["\u0275\u0275listener"]("search",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onSearch(t)})),r["\u0275\u0275elementEnd"]()}}function v(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275pipe"](1,"async"),r["\u0275\u0275text"](2,"\n          "),r["\u0275\u0275elementStart"](3,"td"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](5,"\n          "),r["\u0275\u0275elementStart"](6,"td"),r["\u0275\u0275text"](7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](8,"\n          "),r["\u0275\u0275elementStart"](9,"td",7),r["\u0275\u0275text"](10,"\n            "),r["\u0275\u0275elementStart"](11,"button",9),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](2).emitSelect(n)})),r["\u0275\u0275text"](12),r["\u0275\u0275pipe"](13,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](14,"\n          "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](15,"\n        "),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275classProp"]("table-primary",r["\u0275\u0275pipeBind1"](1,5,n.isSelected(e))),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](e.id),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](n.dsoNameService.getName(e)),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate1"]("\n              ",r["\u0275\u0275pipeBind1"](13,7,"resource-policies.form.eperson-group-list.select.btn"),"\n            ")}}function y(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"ds-pagination",4),r["\u0275\u0275pipe"](1,"async"),r["\u0275\u0275text"](2,"\n\n    "),r["\u0275\u0275elementStart"](3,"div",5),r["\u0275\u0275text"](4,"\n      "),r["\u0275\u0275elementStart"](5,"table",6),r["\u0275\u0275text"](6,"\n        "),r["\u0275\u0275elementStart"](7,"thead"),r["\u0275\u0275text"](8,"\n        "),r["\u0275\u0275elementStart"](9,"tr",7),r["\u0275\u0275text"](10,"\n          "),r["\u0275\u0275elementStart"](11,"th"),r["\u0275\u0275text"](12),r["\u0275\u0275pipe"](13,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](14,"\n          "),r["\u0275\u0275elementStart"](15,"th"),r["\u0275\u0275text"](16),r["\u0275\u0275pipe"](17,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](18,"\n          "),r["\u0275\u0275elementStart"](19,"th"),r["\u0275\u0275text"](20),r["\u0275\u0275pipe"](21,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](22,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](23,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](24,"\n        "),r["\u0275\u0275elementStart"](25,"tbody"),r["\u0275\u0275text"](26,"\n        "),r["\u0275\u0275template"](27,v,16,9,"tr",8),r["\u0275\u0275pipe"](28,"async"),r["\u0275\u0275text"](29,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](30,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](31,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](32,"\n\n  "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();let t=null,n=null;r["\u0275\u0275property"]("paginationOptions",e.paginationOptions)("collectionSize",null==(t=r["\u0275\u0275pipeBind1"](1,8,e.getList()))||null==t.payload?null:t.payload.totalElements)("retainScrollPosition",!0)("hideGear",!0),r["\u0275\u0275advance"](12),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](13,10,"resource-policies.form.eperson-group-list.table.headers.id")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](17,12,"resource-policies.form.eperson-group-list.table.headers.name")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](21,14,"resource-policies.form.eperson-group-list.table.headers.action")),r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("ngForOf",null==(n=r["\u0275\u0275pipeBind1"](28,16,e.getList()))||null==n.payload?null:n.payload.page)}}let S=(()=>{class e{constructor(e,t,n){this.dsoNameService=e,this.parentInjector=t,this.paginationService=n,this.isListOfEPerson=!0,this.select=new r.EventEmitter,this.currentSearchQuery="",this.currentSearchScope="metadata",this.paginationOptions=new o.a,this.list$=new i.a({}),this.entrySelectedId=new i.a(""),this.subs=[]}ngOnInit(){const e=this.isListOfEPerson?u.a:d.a,t=Object(p.f)(e);this.dataService=r.Injector.create({providers:[],parent:this.parentInjector}).get(t),this.paginationOptions.id=Object(a.uniqueId)("egl"),this.paginationOptions.pageSize=5,this.initSelected&&this.entrySelectedId.next(this.initSelected),this.updateList(this.currentSearchScope,this.currentSearchQuery)}emitSelect(e){this.select.emit(e),this.entrySelectedId.next(e.id)}getList(){return this.list$.asObservable()}isSelected(e){return this.entrySelectedId.asObservable().pipe(Object(s.a)(t=>Object(c.e)(t)&&t===e.id))}onSearch(e){this.currentSearchQuery=e.query,this.currentSearchScope=e.scope,this.paginationService.resetPage(this.paginationOptions.id),this.updateList(this.currentSearchScope,this.currentSearchQuery)}updateList(e,t){Object(c.b)(this.pageConfigSub)&&this.pageConfigSub.unsubscribe(),this.pageConfigSub=this.paginationService.getCurrentPagination(this.paginationOptions.id,this.paginationOptions).subscribe(n=>{const r=Object.assign({},new l.f,{elementsPerPage:n.pageSize,currentPage:n.currentPage}),i=this.isListOfEPerson?this.dataService.searchByScope(e,t,r):this.dataService.searchGroups(t,r);this.subs.push(i.pipe(Object(h.g)()).subscribe(e=>{Object(c.b)(this.list$)&&this.list$.next(e)}))})}ngOnDestroy(){this.list$=null,this.subs.filter(e=>Object(c.b)(e)).forEach(e=>e.unsubscribe()),this.paginationService.clearPagination(this.paginationOptions.id)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](b.a),r["\u0275\u0275directiveInject"](r.Injector),r["\u0275\u0275directiveInject"](f.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-eperson-group-list"]],inputs:{isListOfEPerson:"isListOfEPerson",initSelected:"initSelected"},outputs:{select:"select"},decls:10,vars:6,consts:[[1,"mt-3"],[3,"search",4,"ngIf"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear",4,"ngIf"],[3,"search"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear"],[1,"table-responsive"],["id","groups",1,"table","table-sm","table-striped","table-hover","table-bordered"],[1,"text-center"],[3,"table-primary",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275text"](1,"\n  "),r["\u0275\u0275template"](2,x,1,0,"ds-eperson-search-box",1),r["\u0275\u0275text"](3,"\n  "),r["\u0275\u0275template"](4,g,1,0,"ds-group-search-box",1),r["\u0275\u0275text"](5,"\n\n  "),r["\u0275\u0275template"](6,y,33,18,"ds-pagination",2),r["\u0275\u0275pipe"](7,"async"),r["\u0275\u0275text"](8,"\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](9,"\n")),2&e){let e=null;r["\u0275\u0275property"]("@fadeInOut",void 0),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.isListOfEPerson),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!t.isListOfEPerson),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",(null==(e=r["\u0275\u0275pipeBind1"](7,4,t.getList()))||null==e.payload?null:e.payload.totalElements)>0)}},styles:[""],data:{animation:[m.c]}}),e})()},ALMP:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("fXoL"),i=n("2Vo4"),s=n("lJxs"),a=n("IzEk"),o=n("TLL5"),c=n("jrTz"),l=n("1QIV"),p=n("lI3o"),u=n("8a3C"),d=n("tyNb"),m=n("sYmb"),h=n("O/Ly");let b=(()=>{class e{constructor(e,t,n,r,s){this.notificationsService=e,this.resourcePolicyService=t,this.route=n,this.router=r,this.translate=s,this.processing$=new i.a(!1)}ngOnInit(){this.route.data.pipe(Object(s.a)(e=>e),Object(a.a)(1)).subscribe(e=>{this.resourcePolicy=e.resourcePolicy.payload})}isProcessing(){return this.processing$.asObservable()}redirectToAuthorizationsPage(){this.router.navigate([`../../${c.a}`],{relativeTo:this.route})}updateResourcePolicy(e){this.processing$.next(!0);const t=Object.assign({},e.object,{id:this.resourcePolicy.id,type:o.a.value,_links:this.resourcePolicy._links});this.resourcePolicyService.update(t).pipe(Object(l.g)()).subscribe(e=>{this.processing$.next(!1),e&&e.hasSucceeded?(this.notificationsService.success(null,this.translate.get("resource-policies.edit.page.success.content")),this.redirectToAuthorizationsPage()):this.notificationsService.error(null,this.translate.get("resource-policies.edit.page.failure.content"))})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](p.a),r["\u0275\u0275directiveInject"](u.a),r["\u0275\u0275directiveInject"](d.a),r["\u0275\u0275directiveInject"](d.h),r["\u0275\u0275directiveInject"](m.e))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-resource-policy-edit"]],decls:9,vars:6,consts:[[1,"container"],[1,"mb-3"],[3,"resourcePolicy","isProcessing","reset","submit"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275text"](1,"\n  "),r["\u0275\u0275elementStart"](2,"h4",1),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](5,"\n\n  "),r["\u0275\u0275elementStart"](6,"ds-resource-policy-form",2),r["\u0275\u0275listener"]("reset",(function(){return t.redirectToAuthorizationsPage()}))("submit",(function(e){return t.updateResourcePolicy(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](7,"\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](8,"\n")),2&e&&(r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate2"]("",r["\u0275\u0275pipeBind1"](4,4,"resource-policies.edit.page.heading")," ",t.resourcePolicy.id,""),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("resourcePolicy",t.resourcePolicy)("isProcessing",t.isProcessing()))},directives:[h.a],pipes:[m.d],encapsulation:2}),e})()},EEUA:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("fXoL"),i=n("2Vo4"),s=n("lJxs"),a=n("IzEk"),o=n("jrTz"),c=n("1QIV"),l=n("C765"),p=n("lI3o"),u=n("8a3C"),d=n("tyNb"),m=n("sYmb"),h=n("O/Ly");let b=(()=>{class e{constructor(e,t,n,r,s,a){this.dsoNameService=e,this.notificationsService=t,this.resourcePolicyService=n,this.route=r,this.router=s,this.translate=a,this.processing$=new i.a(!1)}ngOnInit(){this.route.data.pipe(Object(s.a)(e=>e),Object(a.a)(1)).subscribe(e=>{this.targetResourceUUID=e.resourcePolicyTarget.payload.id,this.targetResourceName=this.dsoNameService.getName(e.resourcePolicyTarget.payload)})}isProcessing(){return this.processing$.asObservable()}redirectToAuthorizationsPage(){this.router.navigate([`../../${o.a}`],{relativeTo:this.route})}createResourcePolicy(e){let t;this.processing$.next(!0),t="eperson"===e.target.type?this.resourcePolicyService.create(e.object,this.targetResourceUUID,e.target.uuid):this.resourcePolicyService.create(e.object,this.targetResourceUUID,null,e.target.uuid),t.pipe(Object(c.g)()).subscribe(e=>{this.processing$.next(!1),e.hasSucceeded?(this.notificationsService.success(null,this.translate.get("resource-policies.create.page.success.content")),this.redirectToAuthorizationsPage()):this.notificationsService.error(null,this.translate.get("resource-policies.create.page.failure.content"))})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](l.a),r["\u0275\u0275directiveInject"](p.a),r["\u0275\u0275directiveInject"](u.a),r["\u0275\u0275directiveInject"](d.a),r["\u0275\u0275directiveInject"](d.h),r["\u0275\u0275directiveInject"](m.e))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-resource-policy-create"]],decls:9,vars:5,consts:[[1,"container"],[1,"mb-3"],[3,"isProcessing","reset","submit"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275text"](1,"\n  "),r["\u0275\u0275elementStart"](2,"h4",1),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](5,"\n\n  "),r["\u0275\u0275elementStart"](6,"ds-resource-policy-form",2),r["\u0275\u0275listener"]("reset",(function(){return t.redirectToAuthorizationsPage()}))("submit",(function(e){return t.createResourcePolicy(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](7,"\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](8,"\n")),2&e&&(r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate2"]("",r["\u0275\u0275pipeBind1"](4,3,"resource-policies.create.page.heading")," ",t.targetResourceName,""),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("isProcessing",t.isProcessing()))},directives:[h.a],pipes:[m.d],encapsulation:2}),e})()},G5zm:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("fXoL"),i=n("J3qs"),s=n("84Zn"),a=n("1QIV"),o=n("8a3C"),c=n("tyNb");let l=(()=>{class e{constructor(e,t){this.resourcePolicyService=e,this.router=t}resolve(e,t){const n=e.queryParamMap.get("policyId");return Object(i.d)(n)&&this.router.navigateByUrl("/404",{skipLocationChange:!0}),this.resourcePolicyService.findById(n,!0,!1,Object(s.a)("eperson"),Object(s.a)("group")).pipe(Object(a.g)())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](o.a),r["\u0275\u0275inject"](c.h))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})()},GFj5:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("fXoL"),i=n("ofXK"),s=n("sYmb"),a=(n("+Bs4"),n("O/Ly"),n("ALMP"),n("EEUA"),n("kcqd")),o=n("G5zm"),c=n("n1Qy"),l=n("539a"),p=n("3Pt+");let u=(()=>{class e{constructor(e){this.formBuilder=e,this.labelPrefix="admin.access-control.groups.",this.subs=[],this.search=new r.EventEmitter,this.searchForm=this.formBuilder.group({query:""})}reset(){this.searchForm=this.formBuilder.group({query:""})}submit(e){this.search.emit({scope:"",query:e.query})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](p.FormBuilder))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-group-search-box"]],outputs:{search:"search"},decls:27,vars:7,consts:[[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"form",0),r["\u0275\u0275listener"]("ngSubmit",(function(e){return t.submit(t.searchForm.value),e.stopImmediatePropagation()})),r["\u0275\u0275text"](1,"\n  "),r["\u0275\u0275elementStart"](2,"div",1),r["\u0275\u0275text"](3,"\n    "),r["\u0275\u0275elementStart"](4,"div",2),r["\u0275\u0275text"](5,"\n      "),r["\u0275\u0275element"](6,"input",3),r["\u0275\u0275text"](7,"\n      "),r["\u0275\u0275elementStart"](8,"span",4),r["\u0275\u0275text"](9,"\n        "),r["\u0275\u0275elementStart"](10,"button",5),r["\u0275\u0275text"](11,"\n          "),r["\u0275\u0275element"](12,"i",6),r["\u0275\u0275text"](13),r["\u0275\u0275pipe"](14,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](15,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](16,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](17,"\n  "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](18,"\n  "),r["\u0275\u0275elementStart"](19,"div"),r["\u0275\u0275text"](20,"\n    "),r["\u0275\u0275elementStart"](21,"button",7),r["\u0275\u0275listener"]("click",(function(){return t.submit(null),t.reset()})),r["\u0275\u0275text"](22),r["\u0275\u0275pipe"](23,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](24,"\n  "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](25,"\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](26,"\n")),2&e&&(r["\u0275\u0275property"]("formGroup",t.searchForm),r["\u0275\u0275advance"](13),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](14,3,t.labelPrefix+"search.button"),"\n        "),r["\u0275\u0275advance"](9),r["\u0275\u0275textInterpolate1"]("\n      ",r["\u0275\u0275pipeBind1"](23,5,t.labelPrefix+"button.see-all"),"\n    "))},directives:[p["\u0275angular_packages_forms_forms_ba"],p.NgControlStatusGroup,p.FormGroupDirective,p.DefaultValueAccessor,p.NgControlStatus,p.FormControlName],pipes:[s.d],encapsulation:2}),e})();var d=n("J3qs");let m=(()=>{class e{constructor(e){this.formBuilder=e,this.labelPrefix="admin.access-control.epeople.",this.subs=[],this.search=new r.EventEmitter,this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}reset(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}submit(e){const t={scope:Object(d.g)(e)?e.scope:"metadata",query:Object(d.g)(e)?e.query:""};this.search.emit(t)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](p.FormBuilder))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-eperson-search-box"]],outputs:{search:"search"},decls:41,vars:13,consts:[[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],["name","scope","id","scope","formControlName","scope","aria-label","Search scope",1,"form-control"],["value","metadata"],["value","email"],[1,"flex-grow-1","mr-3","ml-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"form",0),r["\u0275\u0275listener"]("ngSubmit",(function(e){return t.submit(t.searchForm.value),e.stopImmediatePropagation()})),r["\u0275\u0275text"](1,"\n  "),r["\u0275\u0275elementStart"](2,"div"),r["\u0275\u0275text"](3,"\n    "),r["\u0275\u0275elementStart"](4,"select",1),r["\u0275\u0275text"](5,"\n      "),r["\u0275\u0275elementStart"](6,"option",2),r["\u0275\u0275text"](7),r["\u0275\u0275pipe"](8,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](9,"\n      "),r["\u0275\u0275elementStart"](10,"option",3),r["\u0275\u0275text"](11),r["\u0275\u0275pipe"](12,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](13,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](14,"\n  "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](15,"\n  "),r["\u0275\u0275elementStart"](16,"div",4),r["\u0275\u0275text"](17,"\n    "),r["\u0275\u0275elementStart"](18,"div",5),r["\u0275\u0275text"](19,"\n      "),r["\u0275\u0275element"](20,"input",6),r["\u0275\u0275text"](21,"\n      "),r["\u0275\u0275elementStart"](22,"span",7),r["\u0275\u0275text"](23,"\n        "),r["\u0275\u0275elementStart"](24,"button",8),r["\u0275\u0275text"](25,"\n          "),r["\u0275\u0275element"](26,"i",9),r["\u0275\u0275text"](27),r["\u0275\u0275pipe"](28,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](29,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](30,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](31,"\n  "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](32,"\n  "),r["\u0275\u0275elementStart"](33,"div"),r["\u0275\u0275text"](34,"\n    "),r["\u0275\u0275elementStart"](35,"button",10),r["\u0275\u0275listener"]("click",(function(){return t.submit(null),t.reset()})),r["\u0275\u0275text"](36),r["\u0275\u0275pipe"](37,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](38,"\n  "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](39,"\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](40,"\n")),2&e&&(r["\u0275\u0275property"]("formGroup",t.searchForm),r["\u0275\u0275advance"](7),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](8,5,t.labelPrefix+"search.scope.metadata")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](12,7,t.labelPrefix+"search.scope.email")),r["\u0275\u0275advance"](16),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](28,9,t.labelPrefix+"search.button"),"\n        "),r["\u0275\u0275advance"](9),r["\u0275\u0275textInterpolate1"]("\n      ",r["\u0275\u0275pipeBind1"](37,11,t.labelPrefix+"button.see-all"),"\n    "))},directives:[p["\u0275angular_packages_forms_forms_ba"],p.NgControlStatusGroup,p.FormGroupDirective,p.SelectControlValueAccessor,p.NgControlStatus,p.FormControlName,p.NgSelectOption,p["\u0275angular_packages_forms_forms_z"],p.DefaultValueAccessor],pipes:[s.d],encapsulation:2}),e})();var h=n("1kSV"),b=n("PCNd"),f=n("Exvd");const x=[o.a,c.a];let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({providers:[...x],imports:[[h.s,i.c,a.a,s.c,b.a]]}),e})();r["\u0275\u0275setComponentScope"](l.a,[i.p,m,u,f.a,i.o],[i.b,s.d])},"O/Ly":function(e,t,n){"use strict";n.d(t,"a",(function(){return K}));var r=n("fXoL"),i=n("LRne"),s=n("2Vo4"),a=n("itXk"),o=n("lJxs"),c=n("pLZG"),l=n("IzEk"),p=n("e+Av"),u=n("szIk"),d=n("JGHn"),m=function(e){return e.TYPE_SUBMISSION="TYPE_SUBMISSION",e.TYPE_WORKFLOW="TYPE_WORKFLOW",e.TYPE_INHERITED="TYPE_INHERITED",e.TYPE_CUSTOM="TYPE_CUSTOM",e}({}),h=function(e){return e.READ="READ",e.WRITE="WRITE",e.DELETE="DELETE",e.ADD="ADD",e.REMOVE="REMOVE",e[e.WORKFLOW_STEP_1=5]="WORKFLOW_STEP_1",e[e.WORKFLOW_STEP_2=6]="WORKFLOW_STEP_2",e[e.WORKFLOW_STEP_3=7]="WORKFLOW_STEP_3",e[e.WORKFLOW_ABORT=8]="WORKFLOW_ABORT",e.DEFAULT_BITSTREAM_READ="DEFAULT_BITSTREAM_READ",e.DEFAULT_ITEM_READ="DEFAULT_ITEM_READ",e.ADMIN="ADMIN",e.WITHDRAWN_READ="WITHDRAWN_READ",e}({});const b=[{label:m.TYPE_SUBMISSION,value:m.TYPE_SUBMISSION},{label:m.TYPE_WORKFLOW,value:m.TYPE_WORKFLOW},{label:m.TYPE_INHERITED,value:m.TYPE_INHERITED},{label:m.TYPE_CUSTOM,value:m.TYPE_CUSTOM}],f=[{label:h.READ.toString(),value:h.READ},{label:h.WRITE.toString(),value:h.WRITE},{label:h.REMOVE.toString(),value:h.REMOVE},{label:h.ADMIN.toString(),value:h.ADMIN},{label:h.DELETE.toString(),value:h.DELETE},{label:h.WITHDRAWN_READ.toString(),value:h.WITHDRAWN_READ},{label:h.DEFAULT_BITSTREAM_READ.toString(),value:h.DEFAULT_BITSTREAM_READ},{label:h.DEFAULT_ITEM_READ.toString(),value:h.DEFAULT_ITEM_READ}],x={id:"name",label:"resource-policies.form.name.label",metadataFields:[],repeatable:!1,submissionId:"",hasSelectableMetadata:!1},g={id:"description",label:"resource-policies.form.description.label",metadataFields:[],repeatable:!1,rows:10,submissionId:"",hasSelectableMetadata:!1},v={id:"policyType",label:"resource-policies.form.policy-type.label",options:b,required:!0,validators:{required:null},errorMessages:{required:"resource-policies.form.policy-type.required"}},y={id:"action",label:"resource-policies.form.action-type.label",options:f,required:!0,validators:{required:null},errorMessages:{required:"resource-policies.form.action-type.required"}},S={id:"date",group:[]},E={element:{control:"form-row"}},I={id:"start",label:"resource-policies.form.date.start.label",placeholder:"resource-policies.form.date.start.label",inline:!1,toggleIcon:"far fa-calendar-alt"},O={element:{container:"p-0",label:"col-form-label"},grid:{host:"col-md-6"}},P={id:"end",label:"resource-policies.form.date.end.label",placeholder:"resource-policies.form.date.end.label",inline:!1,toggleIcon:"far fa-calendar-alt"},j={element:{container:"p-0",label:"col-form-label"},grid:{host:"col-md-6"}};var T=n("c/qf"),B=n("J3qs"),D=n("TLL5"),C=n("fM99"),R=n("1QIV"),w=n("C765"),A=n("wLgS"),_=n("NFsL"),L=n("YIpg"),N=n("X/78"),k=n("ofXK"),F=n("hqmO"),M=n("1kSV"),V=n("539a"),U=n("sYmb");function q(e,t){if(1&e&&r["\u0275\u0275element"](0,"ds-form",9,10),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("formId",e.formId)("formModel",e.formModel)("displaySubmit",!1)("displayCancel",!1)}}function G(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275text"](0,"\n            "),r["\u0275\u0275elementStart"](1,"ds-eperson-group-list",17),r["\u0275\u0275listener"]("select",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).updateObjectSelected(t,!0)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](2,"\n          ")}}function $(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275text"](0,"\n            "),r["\u0275\u0275elementStart"](1,"ds-eperson-group-list",18),r["\u0275\u0275listener"]("select",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).updateObjectSelected(t,!1)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](2,"\n          ")}2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("isListOfEPerson",!1))}function W(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275text"](1,"\n      "),r["\u0275\u0275elementStart"](2,"ul",11,12),r["\u0275\u0275text"](4,"\n        "),r["\u0275\u0275elementStart"](5,"li",13),r["\u0275\u0275text"](6,"\n          "),r["\u0275\u0275elementStart"](7,"a",14),r["\u0275\u0275text"](8),r["\u0275\u0275pipe"](9,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](10,"\n          "),r["\u0275\u0275template"](11,G,3,0,"ng-template",15),r["\u0275\u0275text"](12,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](13,"\n        "),r["\u0275\u0275elementStart"](14,"li",13),r["\u0275\u0275text"](15,"\n          "),r["\u0275\u0275elementStart"](16,"a",14),r["\u0275\u0275text"](17),r["\u0275\u0275pipe"](18,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](19,"\n          "),r["\u0275\u0275template"](20,$,3,1,"ng-template",15),r["\u0275\u0275text"](21,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](22,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](23,"\n      "),r["\u0275\u0275element"](24,"div",16),r["\u0275\u0275text"](25,"\n    "),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275reference"](3);r["\u0275\u0275advance"](8),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](9,3,"resource-policies.form.eperson-group-list.tab.eperson")),r["\u0275\u0275advance"](9),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](18,5,"resource-policies.form.eperson-group-list.tab.group")),r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("ngbNavOutlet",e)}}function z(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1,"\n                  "),r["\u0275\u0275element"](2,"i",19),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](4,1,"submission.workflow.tasks.generic.processing"),"\n                "))}function Y(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n                  ",r["\u0275\u0275pipeBind1"](2,1,"form.submit"),"\n                "))}let K=(()=>{class e{constructor(e,t,n,a,o){this.dsoNameService=e,this.ePersonService=t,this.formService=n,this.groupService=a,this.requestService=o,this.isProcessing=Object(i.a)(!1),this.reset=new r.EventEmitter,this.submit=new r.EventEmitter,this.resourcePolicyTargetName$=new s.a(""),this.subs=[]}ngOnInit(){if(this.isActive=!0,this.formId=this.formService.getUniqueId("resource-policy-form"),this.formModel=this.buildResourcePolicyForm(),!this.canSetGrant()){const e=this.ePersonService.findByHref(this.resourcePolicy._links.eperson.href,!1).pipe(Object(R.i)()),t=this.groupService.findByHref(this.resourcePolicy._links.group.href,!1).pipe(Object(R.i)()),n=Object(a.a)([e,t]).pipe(Object(o.a)(e=>e.find(e=>Object(B.e)(e.payload))),Object(B.c)());this.subs.push(n.pipe(Object(c.a)(()=>this.isActive)).subscribe(e=>{this.resourcePolicyGrant=e.payload,this.resourcePolicyTargetName$.next(this.getResourcePolicyTargetName())}))}}isFormValid(){return this.formService.isValid(this.formId).pipe(Object(o.a)(e=>e&&Object(B.e)(this.resourcePolicyGrant)))}buildResourcePolicyForm(){const e=[],t=Object.assign({},v,{disabled:Object(B.e)(this.resourcePolicy)}),n=Object.assign({},y,{disabled:Object(B.e)(this.resourcePolicy)});e.push(new d.a(x),new T.a(g),new p.N(t),new p.N(n));const r=new p.t(I,O),i=new p.t(P,j),s=Object.assign({},S,{group:[]});return s.group.push(r,i),e.push(new p.D(s,E)),this.initModelsValue(e),e}initModelsValue(e){return this.resourcePolicy&&e.forEach(e=>{"date"===e.id?(Object(B.b)(this.resourcePolicy.startDate)&&(e.get(0).value=Object(C.d)(this.resourcePolicy.startDate)),Object(B.b)(this.resourcePolicy.endDate)&&(e.get(1).value=Object(C.d)(this.resourcePolicy.endDate))):this.resourcePolicy.hasOwnProperty(e.id)&&this.resourcePolicy[e.id]&&(e.value=this.resourcePolicy[e.id])}),e}canSetGrant(){return Object(B.d)(this.resourcePolicy)}getResourcePolicyTargetName(){return Object(B.e)(this.resourcePolicyGrant)?this.dsoNameService.getName(this.resourcePolicyGrant):""}updateObjectSelected(e,t){this.resourcePolicyGrant=e,this.resourcePolicyGrantType=t?"eperson":"group"}onReset(){this.reset.emit()}onSubmit(){this.formService.getFormData(this.formId).pipe(Object(l.a)(1)).subscribe(e=>{const t=Object.create({});t.object=this.createResourcePolicyByFormData(e),t.target={type:this.resourcePolicyGrantType,uuid:this.resourcePolicyGrant.id},this.submit.emit(t)})}createResourcePolicyByFormData(e){const t=new u.a;return t.name=e.name?e.name[0].value:null,t.description=e.description?e.description[0].value:null,t.policyType=e.policyType?e.policyType[0].value:null,t.action=e.action?e.action[0].value:null,t.startDate=e.date&&e.date.start?Object(C.a)(e.date.start[0].value):null,t.endDate=e.date&&e.date.end?Object(C.a)(e.date.end[0].value):null,t.type=D.a,t}ngOnDestroy(){this.isActive=!1,this.formModel=null,this.subs.filter(e=>Object(B.b)(e)).forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](w.a),r["\u0275\u0275directiveInject"](A.a),r["\u0275\u0275directiveInject"](_.a),r["\u0275\u0275directiveInject"](L.a),r["\u0275\u0275directiveInject"](N.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-resource-policy-form"]],inputs:{resourcePolicy:"resourcePolicy",isProcessing:"isProcessing"},outputs:{reset:"reset",submit:"submit"},decls:44,vars:25,consts:[[3,"formId","formModel","displaySubmit","displayCancel",4,"ngIf"],[1,"container-fluid"],["for","ResourcePolicyObject"],["id","ResourcePolicyObject","type","text","readonly","",1,"form-control","mb-3",3,"value"],[4,"ngIf"],[1,"form-group","row"],[1,"col","text-right"],["type","reset",1,"btn","btn-default",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"formId","formModel","displaySubmit","displayCancel"],["formRef","formComponent"],["ngbNav","",1,"nav-pills"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[3,"select"],[3,"isListOfEPerson","select"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275text"](1,"\n  "),r["\u0275\u0275template"](2,q,2,4,"ds-form",0),r["\u0275\u0275text"](3,"\n  "),r["\u0275\u0275elementStart"](4,"div",1),r["\u0275\u0275text"](5,"\n    "),r["\u0275\u0275elementStart"](6,"label",2),r["\u0275\u0275text"](7),r["\u0275\u0275pipe"](8,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](9,"\n    "),r["\u0275\u0275element"](10,"input",3),r["\u0275\u0275pipe"](11,"async"),r["\u0275\u0275text"](12,"\n    "),r["\u0275\u0275template"](13,W,26,7,"ng-container",4),r["\u0275\u0275text"](14,"\n    "),r["\u0275\u0275elementStart"](15,"div"),r["\u0275\u0275text"](16,"\n      "),r["\u0275\u0275element"](17,"hr"),r["\u0275\u0275text"](18,"\n      "),r["\u0275\u0275elementStart"](19,"div",5),r["\u0275\u0275text"](20,"\n\n        "),r["\u0275\u0275elementStart"](21,"div",6),r["\u0275\u0275text"](22,"\n          "),r["\u0275\u0275elementStart"](23,"button",7),r["\u0275\u0275listener"]("click",(function(){return t.onReset()})),r["\u0275\u0275pipe"](24,"async"),r["\u0275\u0275text"](25),r["\u0275\u0275pipe"](26,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](27,"\n          "),r["\u0275\u0275elementStart"](28,"button",8),r["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),r["\u0275\u0275pipe"](29,"async"),r["\u0275\u0275pipe"](30,"async"),r["\u0275\u0275text"](31,"\n            "),r["\u0275\u0275template"](32,z,5,3,"span",4),r["\u0275\u0275pipe"](33,"async"),r["\u0275\u0275text"](34,"\n            "),r["\u0275\u0275template"](35,Y,3,3,"span",4),r["\u0275\u0275pipe"](36,"async"),r["\u0275\u0275text"](37,"\n          "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](38,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](39,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](40,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](41,"\n  "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](42,"\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](43,"\n")),2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.formModel),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](8,9,"resource-policies.form.eperson-group-list.label")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("value",r["\u0275\u0275pipeBind1"](11,11,t.resourcePolicyTargetName$)),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.canSetGrant()),r["\u0275\u0275advance"](10),r["\u0275\u0275property"]("disabled",r["\u0275\u0275pipeBind1"](24,13,t.isProcessing)),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](26,15,"form.cancel")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disabled",!r["\u0275\u0275pipeBind1"](29,17,t.isFormValid())||r["\u0275\u0275pipeBind1"](30,19,t.isProcessing)),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](33,21,t.isProcessing)),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",!r["\u0275\u0275pipeBind1"](36,23,t.isProcessing)))},directives:[k.p,F.a,M.t,M.v,M.w,M.u,M.y,V.a],pipes:[U.d,k.b],encapsulation:2}),e})()},jrTz:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l}));const r="withdraw",i="reinstate",s="private",a="public",o="delete",c="move",l="authorizations"},n1Qy:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("fXoL"),i=n("zQ+x"),s=n("+1Sv"),a=n("J3qs"),o=n("1QIV"),c=n("tyNb");let l=(()=>{class e{constructor(e,t){this.parentInjector=e,this.router=t}resolve(e,t){const n=e.queryParamMap.get("targetType"),c=e.queryParamMap.get("policyTargetId");(Object(a.d)(n)||Object(a.d)(c))&&this.router.navigateByUrl("/404",{skipLocationChange:!0});const l=Object(i.f)(new s.a(n));return this.dataService=r.Injector.create({providers:[],parent:this.parentInjector}).get(l),this.dataService.findById(c).pipe(Object(o.g)())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](r.Injector),r["\u0275\u0275inject"](c.h))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})()}}]);
//# sourceMappingURL=4-es2015.67d1e992985623f1b1b0.js.map