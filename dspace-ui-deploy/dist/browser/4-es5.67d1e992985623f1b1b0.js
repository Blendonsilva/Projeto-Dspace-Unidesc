!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+Bs4":function(t,r,a){"use strict";a.d(r,"a",(function(){return G}));var o=a("fXoL"),c=a("2Vo4"),s=a("Cfvw"),l=a("pLZG"),u=a("128B"),p=a("lJxs"),d=a("/uUt"),m=a("bOdf"),f=a("Kqap"),b=a("IzEk"),v=a("JX91"),h=a("1QIV"),y=a("J3qs"),x=a("fM99"),g=a("84Zn"),S=a("TVZh"),E=a("mOAm"),I=a("C765"),O=a("wLgS"),P=a("YIpg"),j=a("lI3o"),k=a("X/78"),T=a("8a3C"),B=a("tyNb"),C=a("sYmb"),D=a("ofXK"),w=a("xPuV"),R=a("3Pt+");function A(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1,"\n                  "),o["\u0275\u0275element"](2,"i",14),o["\u0275\u0275text"](3),o["\u0275\u0275pipe"](4,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](4,1,"submission.workflow.tasks.generic.processing"),"\n                "))}function _(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1,"\n                  "),o["\u0275\u0275element"](2,"i",15),o["\u0275\u0275text"](3),o["\u0275\u0275pipe"](4,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"]("\n                  ",o["\u0275\u0275pipeBind1"](4,1,"resource-policies.delete.btn"),"\n                "))}function L(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"td"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"async"),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]().$implicit,r=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"]("\n          ",o["\u0275\u0275pipeBind1"](2,1,r.getEPersonName(n.policy)),"\n        ")}}function N(e,t){1&e&&o["\u0275\u0275element"](0,"td")}function F(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"td"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"async"),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]().$implicit,r=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"]("\n          ",o["\u0275\u0275pipeBind1"](2,1,r.getGroupName(n.policy)),"\n        ")}}function M(e,t){1&e&&o["\u0275\u0275element"](0,"td")}function V(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",19),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=o["\u0275\u0275nextContext"]().$implicit;return o["\u0275\u0275nextContext"](2).redirectToGroupEditPage(e.policy)})),o["\u0275\u0275pipe"](1,"translate"),o["\u0275\u0275text"](2,"\n              "),o["\u0275\u0275element"](3,"i",22),o["\u0275\u0275text"](4,"\n            "),o["\u0275\u0275elementEnd"]()}2&e&&o["\u0275\u0275property"]("title",o["\u0275\u0275pipeBind1"](1,1,"resource-policies.table.headers.edit.group"))}function U(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"tr"),o["\u0275\u0275text"](1,"\n        "),o["\u0275\u0275elementStart"](2,"td",9),o["\u0275\u0275text"](3,"\n          "),o["\u0275\u0275elementStart"](4,"div",10),o["\u0275\u0275text"](5,"\n            "),o["\u0275\u0275elementStart"](6,"input",16),o["\u0275\u0275listener"]("ngModelChange",(function(e){o["\u0275\u0275restoreView"](n);var r=t.$implicit;return o["\u0275\u0275nextContext"](2).selectCheckbox(r,e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](7,"\n            "),o["\u0275\u0275element"](8,"label",12),o["\u0275\u0275text"](9,"\n          "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](10,"\n        "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](11,"\n        "),o["\u0275\u0275elementStart"](12,"th",17),o["\u0275\u0275text"](13),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](14,"\n        "),o["\u0275\u0275elementStart"](15,"td"),o["\u0275\u0275text"](16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](17,"\n        "),o["\u0275\u0275elementStart"](18,"td"),o["\u0275\u0275text"](19),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](20,"\n        "),o["\u0275\u0275elementStart"](21,"td"),o["\u0275\u0275text"](22),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](23,"\n        "),o["\u0275\u0275template"](24,L,3,3,"td",6),o["\u0275\u0275pipe"](25,"async"),o["\u0275\u0275text"](26,"\n        "),o["\u0275\u0275template"](27,N,1,0,"td",6),o["\u0275\u0275pipe"](28,"async"),o["\u0275\u0275text"](29,"\n        "),o["\u0275\u0275template"](30,F,3,3,"td",6),o["\u0275\u0275pipe"](31,"async"),o["\u0275\u0275text"](32,"\n        "),o["\u0275\u0275template"](33,M,1,0,"td",6),o["\u0275\u0275pipe"](34,"async"),o["\u0275\u0275text"](35,"\n        "),o["\u0275\u0275elementStart"](36,"td"),o["\u0275\u0275text"](37),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](38,"\n        "),o["\u0275\u0275elementStart"](39,"td"),o["\u0275\u0275text"](40),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](41,"\n        "),o["\u0275\u0275elementStart"](42,"td",9),o["\u0275\u0275text"](43,"\n\n          "),o["\u0275\u0275elementStart"](44,"div",18),o["\u0275\u0275text"](45,"\n            "),o["\u0275\u0275elementStart"](46,"button",19),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=t.$implicit;return o["\u0275\u0275nextContext"](2).redirectToResourcePolicyEditPage(e.policy)})),o["\u0275\u0275pipe"](47,"translate"),o["\u0275\u0275text"](48,"\n              "),o["\u0275\u0275element"](49,"i",20),o["\u0275\u0275text"](50,"\n            "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](51,"\n            "),o["\u0275\u0275template"](52,V,5,3,"button",21),o["\u0275\u0275pipe"](53,"async"),o["\u0275\u0275text"](54,"\n          "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](55,"\n        "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](56,"\n      "),o["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,i=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("id",r.id)("ngModel",r.checked),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("for",r.id),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate1"]("\n          ",r.id,"\n        "),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](r.policy.name),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](r.policy.policyType),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](r.policy.action),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](25,15,i.hasEPerson(r.policy))),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",!o["\u0275\u0275pipeBind1"](28,17,i.hasEPerson(r.policy))),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](31,19,i.hasGroup(r.policy))),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",!o["\u0275\u0275pipeBind1"](34,21,i.hasGroup(r.policy))),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](i.formatDate(r.policy.startDate)),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](i.formatDate(r.policy.endDate)),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("title",o["\u0275\u0275pipeBind1"](47,23,"resource-policies.table.headers.edit.policy")),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](53,25,i.hasGroup(r.policy)))}}function q(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",1),o["\u0275\u0275text"](1,"\n  "),o["\u0275\u0275elementStart"](2,"table",2),o["\u0275\u0275text"](3,"\n    "),o["\u0275\u0275elementStart"](4,"thead"),o["\u0275\u0275text"](5,"\n      "),o["\u0275\u0275elementStart"](6,"tr"),o["\u0275\u0275text"](7,"\n        "),o["\u0275\u0275elementStart"](8,"th",3),o["\u0275\u0275text"](9,"\n          "),o["\u0275\u0275elementStart"](10,"div",4),o["\u0275\u0275text"](11),o["\u0275\u0275pipe"](12,"translate"),o["\u0275\u0275elementStart"](13,"div"),o["\u0275\u0275text"](14,"\n              "),o["\u0275\u0275elementStart"](15,"button",5),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().deleteSelectedResourcePolicies()})),o["\u0275\u0275pipe"](16,"async"),o["\u0275\u0275pipe"](17,"async"),o["\u0275\u0275pipe"](18,"translate"),o["\u0275\u0275text"](19,"\n                "),o["\u0275\u0275template"](20,A,5,3,"span",6),o["\u0275\u0275pipe"](21,"async"),o["\u0275\u0275text"](22,"\n                "),o["\u0275\u0275template"](23,_,5,3,"span",6),o["\u0275\u0275pipe"](24,"async"),o["\u0275\u0275text"](25,"\n              "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](26,"\n              "),o["\u0275\u0275elementStart"](27,"button",7),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().redirectToResourcePolicyCreatePage()})),o["\u0275\u0275pipe"](28,"async"),o["\u0275\u0275pipe"](29,"translate"),o["\u0275\u0275text"](30,"\n                "),o["\u0275\u0275element"](31,"i",8),o["\u0275\u0275text"](32),o["\u0275\u0275pipe"](33,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](34,"\n            "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](35,"\n          "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](36,"\n        "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](37,"\n      "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](38,"\n      "),o["\u0275\u0275elementStart"](39,"tr",9),o["\u0275\u0275text"](40,"\n        "),o["\u0275\u0275elementStart"](41,"th"),o["\u0275\u0275text"](42,"\n          "),o["\u0275\u0275elementStart"](43,"div",10),o["\u0275\u0275text"](44,"\n            "),o["\u0275\u0275elementStart"](45,"input",11),o["\u0275\u0275listener"]("change",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().selectAllCheckbox(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](46,"\n            "),o["\u0275\u0275element"](47,"label",12),o["\u0275\u0275text"](48,"\n          "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](49,"\n        "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](50,"\n        "),o["\u0275\u0275elementStart"](51,"th"),o["\u0275\u0275text"](52),o["\u0275\u0275pipe"](53,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](54,"\n        "),o["\u0275\u0275elementStart"](55,"th"),o["\u0275\u0275text"](56),o["\u0275\u0275pipe"](57,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](58,"\n        "),o["\u0275\u0275elementStart"](59,"th"),o["\u0275\u0275text"](60),o["\u0275\u0275pipe"](61,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](62,"\n        "),o["\u0275\u0275elementStart"](63,"th"),o["\u0275\u0275text"](64),o["\u0275\u0275pipe"](65,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](66,"\n        "),o["\u0275\u0275elementStart"](67,"th"),o["\u0275\u0275text"](68),o["\u0275\u0275pipe"](69,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](70,"\n        "),o["\u0275\u0275elementStart"](71,"th"),o["\u0275\u0275text"](72),o["\u0275\u0275pipe"](73,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](74,"\n        "),o["\u0275\u0275elementStart"](75,"th"),o["\u0275\u0275text"](76),o["\u0275\u0275pipe"](77,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](78,"\n        "),o["\u0275\u0275elementStart"](79,"th"),o["\u0275\u0275text"](80),o["\u0275\u0275pipe"](81,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](82,"\n        "),o["\u0275\u0275elementStart"](83,"th"),o["\u0275\u0275text"](84),o["\u0275\u0275pipe"](85,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](86,"\n      "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](87,"\n    "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](88,"\n    "),o["\u0275\u0275elementStart"](89,"tbody"),o["\u0275\u0275text"](90,"\n      "),o["\u0275\u0275template"](91,U,57,27,"tr",13),o["\u0275\u0275pipe"](92,"async"),o["\u0275\u0275text"](93,"\n    "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](94,"\n  "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](95,"\n"),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](11),o["\u0275\u0275textInterpolate2"]("\n            ",o["\u0275\u0275pipeBind1"](12,21,"resource-policies.table.headers.title.for."+r.resourceType)," ",r.resourceUUID,"\n            "),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("disabled",!o["\u0275\u0275pipeBind1"](16,23,r.canDelete())||o["\u0275\u0275pipeBind1"](17,25,r.isProcessingDelete()))("title",o["\u0275\u0275pipeBind1"](18,27,"resource-policies.delete.btn.title")),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](21,29,r.isProcessingDelete())),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",!o["\u0275\u0275pipeBind1"](24,31,r.isProcessingDelete())),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("disabled",o["\u0275\u0275pipeBind1"](28,33,r.isProcessingDelete()))("title",o["\u0275\u0275pipeBind1"](29,35,"resource-policies.add.for."+r.resourceType)),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate1"]("\n                ",o["\u0275\u0275pipeBind1"](33,37,"resource-policies.add.button"),"\n              "),o["\u0275\u0275advance"](13),o["\u0275\u0275property"]("id","selectAll_"+r.resourceUUID),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("for","selectAll_"+r.resourceUUID),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](53,39,"resource-policies.table.headers.id")),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](57,41,"resource-policies.table.headers.name")),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](61,43,"resource-policies.table.headers.policyType")),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](65,45,"resource-policies.table.headers.action")),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](69,47,"resource-policies.table.headers.eperson")),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](73,49,"resource-policies.table.headers.group")),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](77,51,"resource-policies.table.headers.date.start")),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](81,53,"resource-policies.table.headers.date.end")),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](85,55,"resource-policies.table.headers.edit")),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngForOf",o["\u0275\u0275pipeBind1"](92,57,r.getResourcePolicies()))}}var G=function(){var t=function(){function t(e,r,i,a,o,s,l,u,p,d){n(this,t),this.cdr=e,this.dsoNameService=r,this.ePersonService=i,this.groupService=a,this.notificationsService=o,this.requestService=s,this.resourcePolicyService=l,this.route=u,this.router=p,this.translate=d,this.processingDelete$=new c.a(!1),this.resourcePoliciesEntries$=new c.a([]),this.subs=[]}return i(t,[{key:"ngOnInit",value:function(){this.isActive=!0,this.initResourcePolicyLIst()}},{key:"canDelete",value:function(){return Object(s.a)(this.resourcePoliciesEntries$.value).pipe(Object(l.a)((function(e){return e.checked})),Object(u.a)((function(t,n){return[].concat(e(t),[n])}),[]),Object(p.a)((function(e){return Object(y.e)(e)})),Object(d.a)())}},{key:"deleteSelectedResourcePolicies",value:function(){var t=this;this.processingDelete$.next(!0);var n=this.resourcePoliciesEntries$.value.filter((function(e){return e.checked}));this.subs.push(Object(s.a)(n).pipe(Object(m.a)((function(e){return t.resourcePolicyService.delete(e.policy.id)})),Object(f.a)((function(t,n){return[].concat(e(t),[n])}),[]),Object(l.a)((function(e){return e.length===n.length})),Object(b.a)(1)).subscribe((function(e){var n=e.filter((function(e){return!e}));Object(y.d)(n)?t.notificationsService.success(null,t.translate.get("resource-policies.delete.success.content")):t.notificationsService.error(null,t.translate.get("resource-policies.delete.failure.content")),t.requestService.setStaleByHrefSubstring(t.resourceUUID),t.processingDelete$.next(!1)})))}},{key:"formatDate",value:function(e){return Object(y.e)(e)?Object(x.b)(Object(x.d)(e)):""}},{key:"getEPersonName",value:function(e){var t=this;return e.eperson.pipe(Object(l.a)((function(){return t.isActive})),Object(h.k)(),Object(p.a)((function(e){return t.dsoNameService.getName(e)})),Object(v.a)(""))}},{key:"getGroupName",value:function(e){var t=this;return e.group.pipe(Object(l.a)((function(){return t.isActive})),Object(h.k)(),Object(p.a)((function(e){return t.dsoNameService.getName(e)})),Object(v.a)(""))}},{key:"getResourcePolicies",value:function(){return this.resourcePoliciesEntries$.asObservable()}},{key:"hasEPerson",value:function(e){var t=this;return e.eperson.pipe(Object(l.a)((function(){return t.isActive})),Object(h.j)(),Object(p.a)((function(e){return Object(y.e)(e)})),Object(v.a)(!1))}},{key:"hasGroup",value:function(e){var t=this;return e.group.pipe(Object(l.a)((function(){return t.isActive})),Object(h.j)(),Object(p.a)((function(e){return Object(y.e)(e)})),Object(v.a)(!1))}},{key:"initResourcePolicyLIst",value:function(){var e=this;this.subs.push(this.resourcePolicyService.searchByResource(this.resourceUUID,null,!1,!0,Object(g.a)("eperson"),Object(g.a)("group")).pipe(Object(l.a)((function(){return e.isActive})),Object(h.c)()).subscribe((function(t){var n=t.payload.page.map((function(e){return{id:e.id,policy:e,checked:!1}}));e.resourcePoliciesEntries$.next(n),e.cdr.detectChanges()})))}},{key:"isProcessingDelete",value:function(){return this.processingDelete$.asObservable()}},{key:"redirectToResourcePolicyCreatePage",value:function(){this.router.navigate(["./create"],{relativeTo:this.route,queryParams:{policyTargetId:this.resourceUUID,targetType:this.resourceType}})}},{key:"redirectToResourcePolicyEditPage",value:function(e){this.router.navigate(["./edit"],{relativeTo:this.route,queryParams:{policyId:e.id}})}},{key:"redirectToGroupEditPage",value:function(e){var t=this;this.subs.push(this.groupService.findByHref(e._links.group.href,!1).pipe(Object(l.a)((function(){return t.isActive})),Object(h.j)(),Object(p.a)((function(e){return e.id}))).subscribe((function(e){t.router.navigate([S.a,E.a,e])})))}},{key:"selectAllCheckbox",value:function(e){var t=e.target.checked;this.resourcePoliciesEntries$.value.forEach((function(e){return e.checked=t}))}},{key:"selectCheckbox",value:function(e,t){e.checked=t}},{key:"ngOnDestroy",value:function(){this.isActive=!1,this.resourcePoliciesEntries$=null,this.subs.filter((function(e){return Object(y.b)(e)})).forEach((function(e){return e.unsubscribe()}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](o.ChangeDetectorRef),o["\u0275\u0275directiveInject"](I.a),o["\u0275\u0275directiveInject"](O.a),o["\u0275\u0275directiveInject"](P.a),o["\u0275\u0275directiveInject"](j.a),o["\u0275\u0275directiveInject"](k.a),o["\u0275\u0275directiveInject"](T.a),o["\u0275\u0275directiveInject"](B.a),o["\u0275\u0275directiveInject"](B.h),o["\u0275\u0275directiveInject"](C.e))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["ds-resource-policies"]],inputs:{resourceUUID:"resourceUUID",resourceType:"resourceType"},decls:3,vars:3,consts:[["class","table-responsive",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","table-hover"],["colspan","10"],[1,"d-flex","justify-content-between","align-items-center","m-0"],[1,"btn","btn-danger","float-right","ml-1",3,"disabled","title","click"],[4,"ngIf"],[1,"btn","btn-success","float-right",3,"disabled","title","click"],[1,"fas","fa-plus"],[1,"text-center"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id","change"],[1,"custom-control-label",3,"for"],[4,"ngFor","ngForTrackById","ngForOf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-trash-alt","fa-fw"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","ngModelChange"],["scope","row"],[1,"btn-group","edit-field"],[1,"btn","btn-outline-primary","btn-sm",3,"title","click"],[1,"fas","fa-edit","fa-fw"],["class","btn btn-outline-primary btn-sm",3,"title","click",4,"ngIf"],[1,"fas","fa-users","fa-fw"]],template:function(e,t){if(1&e&&(o["\u0275\u0275template"](0,q,96,59,"div",0),o["\u0275\u0275pipe"](1,"async"),o["\u0275\u0275text"](2,"\n")),2&e){var n;o["\u0275\u0275property"]("ngIf",(null==(n=o["\u0275\u0275pipeBind1"](1,1,t.getResourcePolicies()))?null:n.length)>0)}},directives:[D.p,D.o,w.a,R.CheckboxControlValueAccessor,R.NgControlStatus,R.NgModel],pipes:[D.b,C.d],styles:["td[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{-webkit-box-shadow:none!important;box-shadow:none!important}"]}),t}()},"539a":function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var a=r("fXoL"),o=r("2Vo4"),c=r("lJxs"),s=r("LvDl"),l=r("7DXY"),u=r("J3qs"),p=r("B/au"),d=r("zQ+x"),m=r("qFpP"),f=r("Rulr"),b=r("mEo1"),v=r("1QIV"),h=r("C765"),y=r("MFUF");function x(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"ds-eperson-search-box",3),a["\u0275\u0275listener"]("search",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onSearch(e)})),a["\u0275\u0275elementEnd"]()}}function g(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"ds-group-search-box",3),a["\u0275\u0275listener"]("search",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onSearch(e)})),a["\u0275\u0275elementEnd"]()}}function S(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275pipe"](1,"async"),a["\u0275\u0275text"](2,"\n          "),a["\u0275\u0275elementStart"](3,"td"),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](5,"\n          "),a["\u0275\u0275elementStart"](6,"td"),a["\u0275\u0275text"](7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](8,"\n          "),a["\u0275\u0275elementStart"](9,"td",7),a["\u0275\u0275text"](10,"\n            "),a["\u0275\u0275elementStart"](11,"button",9),a["\u0275\u0275listener"]("click",(function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"](2).emitSelect(e)})),a["\u0275\u0275text"](12),a["\u0275\u0275pipe"](13,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](14,"\n          "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](15,"\n        "),a["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,i=a["\u0275\u0275nextContext"](2);a["\u0275\u0275classProp"]("table-primary",a["\u0275\u0275pipeBind1"](1,5,i.isSelected(r))),a["\u0275\u0275advance"](4),a["\u0275\u0275textInterpolate"](r.id),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](i.dsoNameService.getName(r)),a["\u0275\u0275advance"](5),a["\u0275\u0275textInterpolate1"]("\n              ",a["\u0275\u0275pipeBind1"](13,7,"resource-policies.form.eperson-group-list.select.btn"),"\n            ")}}function E(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ds-pagination",4),a["\u0275\u0275pipe"](1,"async"),a["\u0275\u0275text"](2,"\n\n    "),a["\u0275\u0275elementStart"](3,"div",5),a["\u0275\u0275text"](4,"\n      "),a["\u0275\u0275elementStart"](5,"table",6),a["\u0275\u0275text"](6,"\n        "),a["\u0275\u0275elementStart"](7,"thead"),a["\u0275\u0275text"](8,"\n        "),a["\u0275\u0275elementStart"](9,"tr",7),a["\u0275\u0275text"](10,"\n          "),a["\u0275\u0275elementStart"](11,"th"),a["\u0275\u0275text"](12),a["\u0275\u0275pipe"](13,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](14,"\n          "),a["\u0275\u0275elementStart"](15,"th"),a["\u0275\u0275text"](16),a["\u0275\u0275pipe"](17,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](18,"\n          "),a["\u0275\u0275elementStart"](19,"th"),a["\u0275\u0275text"](20),a["\u0275\u0275pipe"](21,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](22,"\n        "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](23,"\n        "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](24,"\n        "),a["\u0275\u0275elementStart"](25,"tbody"),a["\u0275\u0275text"](26,"\n        "),a["\u0275\u0275template"](27,S,16,9,"tr",8),a["\u0275\u0275pipe"](28,"async"),a["\u0275\u0275text"](29,"\n        "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](30,"\n      "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](31,"\n    "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](32,"\n\n  "),a["\u0275\u0275elementEnd"]()),2&e){var n,r,i=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("paginationOptions",i.paginationOptions)("collectionSize",null==(n=a["\u0275\u0275pipeBind1"](1,8,i.getList()))||null==n.payload?null:n.payload.totalElements)("retainScrollPosition",!0)("hideGear",!0),a["\u0275\u0275advance"](12),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](13,10,"resource-policies.form.eperson-group-list.table.headers.id")),a["\u0275\u0275advance"](4),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](17,12,"resource-policies.form.eperson-group-list.table.headers.name")),a["\u0275\u0275advance"](4),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](21,14,"resource-policies.form.eperson-group-list.table.headers.action")),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",null==(r=a["\u0275\u0275pipeBind1"](28,16,i.getList()))||null==r.payload?null:r.payload.page)}}var I=function(){var e=function(){function e(t,r,i){n(this,e),this.dsoNameService=t,this.parentInjector=r,this.paginationService=i,this.isListOfEPerson=!0,this.select=new a.EventEmitter,this.currentSearchQuery="",this.currentSearchScope="metadata",this.paginationOptions=new l.a,this.list$=new o.a({}),this.entrySelectedId=new o.a(""),this.subs=[]}return i(e,[{key:"ngOnInit",value:function(){var e=this.isListOfEPerson?m.a:f.a,t=Object(d.f)(e);this.dataService=a.Injector.create({providers:[],parent:this.parentInjector}).get(t),this.paginationOptions.id=Object(s.uniqueId)("egl"),this.paginationOptions.pageSize=5,this.initSelected&&this.entrySelectedId.next(this.initSelected),this.updateList(this.currentSearchScope,this.currentSearchQuery)}},{key:"emitSelect",value:function(e){this.select.emit(e),this.entrySelectedId.next(e.id)}},{key:"getList",value:function(){return this.list$.asObservable()}},{key:"isSelected",value:function(e){return this.entrySelectedId.asObservable().pipe(Object(c.a)((function(t){return Object(u.e)(t)&&t===e.id})))}},{key:"onSearch",value:function(e){this.currentSearchQuery=e.query,this.currentSearchScope=e.scope,this.paginationService.resetPage(this.paginationOptions.id),this.updateList(this.currentSearchScope,this.currentSearchQuery)}},{key:"updateList",value:function(e,t){var n=this;Object(u.b)(this.pageConfigSub)&&this.pageConfigSub.unsubscribe(),this.pageConfigSub=this.paginationService.getCurrentPagination(this.paginationOptions.id,this.paginationOptions).subscribe((function(r){var i=Object.assign({},new p.f,{elementsPerPage:r.pageSize,currentPage:r.currentPage}),a=n.isListOfEPerson?n.dataService.searchByScope(e,t,i):n.dataService.searchGroups(t,i);n.subs.push(a.pipe(Object(v.g)()).subscribe((function(e){Object(u.b)(n.list$)&&n.list$.next(e)})))}))}},{key:"ngOnDestroy",value:function(){this.list$=null,this.subs.filter((function(e){return Object(u.b)(e)})).forEach((function(e){return e.unsubscribe()})),this.paginationService.clearPagination(this.paginationOptions.id)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](h.a),a["\u0275\u0275directiveInject"](a.Injector),a["\u0275\u0275directiveInject"](y.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-eperson-group-list"]],inputs:{isListOfEPerson:"isListOfEPerson",initSelected:"initSelected"},outputs:{select:"select"},decls:10,vars:6,consts:[[1,"mt-3"],[3,"search",4,"ngIf"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear",4,"ngIf"],[3,"search"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear"],[1,"table-responsive"],["id","groups",1,"table","table-sm","table-striped","table-hover","table-bordered"],[1,"text-center"],[3,"table-primary",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:function(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275text"](1,"\n  "),a["\u0275\u0275template"](2,x,1,0,"ds-eperson-search-box",1),a["\u0275\u0275text"](3,"\n  "),a["\u0275\u0275template"](4,g,1,0,"ds-group-search-box",1),a["\u0275\u0275text"](5,"\n\n  "),a["\u0275\u0275template"](6,E,33,18,"ds-pagination",2),a["\u0275\u0275pipe"](7,"async"),a["\u0275\u0275text"](8,"\n"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](9,"\n")),2&e){var n;a["\u0275\u0275property"]("@fadeInOut",void 0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.isListOfEPerson),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",!t.isListOfEPerson),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",(null==(n=a["\u0275\u0275pipeBind1"](7,4,t.getList()))||null==n.payload?null:n.payload.totalElements)>0)}},styles:[""],data:{animation:[b.c]}}),e}()},ALMP:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var a=r("fXoL"),o=r("2Vo4"),c=r("lJxs"),s=r("IzEk"),l=r("TLL5"),u=r("jrTz"),p=r("1QIV"),d=r("lI3o"),m=r("8a3C"),f=r("tyNb"),b=r("sYmb"),v=r("O/Ly"),h=function(){var e=function(){function e(t,r,i,a,c){n(this,e),this.notificationsService=t,this.resourcePolicyService=r,this.route=i,this.router=a,this.translate=c,this.processing$=new o.a(!1)}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.route.data.pipe(Object(c.a)((function(e){return e})),Object(s.a)(1)).subscribe((function(t){e.resourcePolicy=t.resourcePolicy.payload}))}},{key:"isProcessing",value:function(){return this.processing$.asObservable()}},{key:"redirectToAuthorizationsPage",value:function(){this.router.navigate(["../../".concat(u.a)],{relativeTo:this.route})}},{key:"updateResourcePolicy",value:function(e){var t=this;this.processing$.next(!0);var n=Object.assign({},e.object,{id:this.resourcePolicy.id,type:l.a.value,_links:this.resourcePolicy._links});this.resourcePolicyService.update(n).pipe(Object(p.g)()).subscribe((function(e){t.processing$.next(!1),e&&e.hasSucceeded?(t.notificationsService.success(null,t.translate.get("resource-policies.edit.page.success.content")),t.redirectToAuthorizationsPage()):t.notificationsService.error(null,t.translate.get("resource-policies.edit.page.failure.content"))}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](d.a),a["\u0275\u0275directiveInject"](m.a),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](f.h),a["\u0275\u0275directiveInject"](b.e))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-resource-policy-edit"]],decls:9,vars:6,consts:[[1,"container"],[1,"mb-3"],[3,"resourcePolicy","isProcessing","reset","submit"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275text"](1,"\n  "),a["\u0275\u0275elementStart"](2,"h4",1),a["\u0275\u0275text"](3),a["\u0275\u0275pipe"](4,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](5,"\n\n  "),a["\u0275\u0275elementStart"](6,"ds-resource-policy-form",2),a["\u0275\u0275listener"]("reset",(function(){return t.redirectToAuthorizationsPage()}))("submit",(function(e){return t.updateResourcePolicy(e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](7,"\n"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](8,"\n")),2&e&&(a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate2"]("",a["\u0275\u0275pipeBind1"](4,4,"resource-policies.edit.page.heading")," ",t.resourcePolicy.id,""),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("resourcePolicy",t.resourcePolicy)("isProcessing",t.isProcessing()))},directives:[v.a],pipes:[b.d],encapsulation:2}),e}()},EEUA:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var a=r("fXoL"),o=r("2Vo4"),c=r("lJxs"),s=r("IzEk"),l=r("jrTz"),u=r("1QIV"),p=r("C765"),d=r("lI3o"),m=r("8a3C"),f=r("tyNb"),b=r("sYmb"),v=r("O/Ly"),h=function(){var e=function(){function e(t,r,i,a,c,s){n(this,e),this.dsoNameService=t,this.notificationsService=r,this.resourcePolicyService=i,this.route=a,this.router=c,this.translate=s,this.processing$=new o.a(!1)}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.route.data.pipe(Object(c.a)((function(e){return e})),Object(s.a)(1)).subscribe((function(t){e.targetResourceUUID=t.resourcePolicyTarget.payload.id,e.targetResourceName=e.dsoNameService.getName(t.resourcePolicyTarget.payload)}))}},{key:"isProcessing",value:function(){return this.processing$.asObservable()}},{key:"redirectToAuthorizationsPage",value:function(){this.router.navigate(["../../".concat(l.a)],{relativeTo:this.route})}},{key:"createResourcePolicy",value:function(e){var t=this;this.processing$.next(!0),("eperson"===e.target.type?this.resourcePolicyService.create(e.object,this.targetResourceUUID,e.target.uuid):this.resourcePolicyService.create(e.object,this.targetResourceUUID,null,e.target.uuid)).pipe(Object(u.g)()).subscribe((function(e){t.processing$.next(!1),e.hasSucceeded?(t.notificationsService.success(null,t.translate.get("resource-policies.create.page.success.content")),t.redirectToAuthorizationsPage()):t.notificationsService.error(null,t.translate.get("resource-policies.create.page.failure.content"))}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](p.a),a["\u0275\u0275directiveInject"](d.a),a["\u0275\u0275directiveInject"](m.a),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](f.h),a["\u0275\u0275directiveInject"](b.e))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-resource-policy-create"]],decls:9,vars:5,consts:[[1,"container"],[1,"mb-3"],[3,"isProcessing","reset","submit"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275text"](1,"\n  "),a["\u0275\u0275elementStart"](2,"h4",1),a["\u0275\u0275text"](3),a["\u0275\u0275pipe"](4,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](5,"\n\n  "),a["\u0275\u0275elementStart"](6,"ds-resource-policy-form",2),a["\u0275\u0275listener"]("reset",(function(){return t.redirectToAuthorizationsPage()}))("submit",(function(e){return t.createResourcePolicy(e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](7,"\n"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](8,"\n")),2&e&&(a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate2"]("",a["\u0275\u0275pipeBind1"](4,3,"resource-policies.create.page.heading")," ",t.targetResourceName,""),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("isProcessing",t.isProcessing()))},directives:[v.a],pipes:[b.d],encapsulation:2}),e}()},G5zm:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var a=r("fXoL"),o=r("J3qs"),c=r("84Zn"),s=r("1QIV"),l=r("8a3C"),u=r("tyNb"),p=function(){var e=function(){function e(t,r){n(this,e),this.resourcePolicyService=t,this.router=r}return i(e,[{key:"resolve",value:function(e,t){var n=e.queryParamMap.get("policyId");return Object(o.d)(n)&&this.router.navigateByUrl("/404",{skipLocationChange:!0}),this.resourcePolicyService.findById(n,!0,!1,Object(c.a)("eperson"),Object(c.a)("group")).pipe(Object(s.g)())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](l.a),a["\u0275\u0275inject"](u.h))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}()},GFj5:function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var a,o,c,s=r("fXoL"),l=r("ofXK"),u=r("sYmb"),p=(r("+Bs4"),r("O/Ly"),r("ALMP"),r("EEUA"),r("kcqd")),d=r("G5zm"),m=r("n1Qy"),f=r("539a"),b=r("3Pt+"),v=((a=function(){function e(t){n(this,e),this.formBuilder=t,this.labelPrefix="admin.access-control.groups.",this.subs=[],this.search=new s.EventEmitter,this.searchForm=this.formBuilder.group({query:""})}return i(e,[{key:"reset",value:function(){this.searchForm=this.formBuilder.group({query:""})}},{key:"submit",value:function(e){this.search.emit({scope:"",query:e.query})}}]),e}()).\u0275fac=function(e){return new(e||a)(s["\u0275\u0275directiveInject"](b.FormBuilder))},a.\u0275cmp=s["\u0275\u0275defineComponent"]({type:a,selectors:[["ds-group-search-box"]],outputs:{search:"search"},decls:27,vars:7,consts:[[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"form",0),s["\u0275\u0275listener"]("ngSubmit",(function(e){return t.submit(t.searchForm.value),e.stopImmediatePropagation()})),s["\u0275\u0275text"](1,"\n  "),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275text"](3,"\n    "),s["\u0275\u0275elementStart"](4,"div",2),s["\u0275\u0275text"](5,"\n      "),s["\u0275\u0275element"](6,"input",3),s["\u0275\u0275text"](7,"\n      "),s["\u0275\u0275elementStart"](8,"span",4),s["\u0275\u0275text"](9,"\n        "),s["\u0275\u0275elementStart"](10,"button",5),s["\u0275\u0275text"](11,"\n          "),s["\u0275\u0275element"](12,"i",6),s["\u0275\u0275text"](13),s["\u0275\u0275pipe"](14,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](15,"\n      "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](16,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](17,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](18,"\n  "),s["\u0275\u0275elementStart"](19,"div"),s["\u0275\u0275text"](20,"\n    "),s["\u0275\u0275elementStart"](21,"button",7),s["\u0275\u0275listener"]("click",(function(){return t.submit(null),t.reset()})),s["\u0275\u0275text"](22),s["\u0275\u0275pipe"](23,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](24,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](25,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](26,"\n")),2&e&&(s["\u0275\u0275property"]("formGroup",t.searchForm),s["\u0275\u0275advance"](13),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](14,3,t.labelPrefix+"search.button"),"\n        "),s["\u0275\u0275advance"](9),s["\u0275\u0275textInterpolate1"]("\n      ",s["\u0275\u0275pipeBind1"](23,5,t.labelPrefix+"button.see-all"),"\n    "))},directives:[b["\u0275angular_packages_forms_forms_ba"],b.NgControlStatusGroup,b.FormGroupDirective,b.DefaultValueAccessor,b.NgControlStatus,b.FormControlName],pipes:[u.d],encapsulation:2}),a),h=r("J3qs"),y=((o=function(){function e(t){n(this,e),this.formBuilder=t,this.labelPrefix="admin.access-control.epeople.",this.subs=[],this.search=new s.EventEmitter,this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}return i(e,[{key:"reset",value:function(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}},{key:"submit",value:function(e){var t={scope:Object(h.g)(e)?e.scope:"metadata",query:Object(h.g)(e)?e.query:""};this.search.emit(t)}}]),e}()).\u0275fac=function(e){return new(e||o)(s["\u0275\u0275directiveInject"](b.FormBuilder))},o.\u0275cmp=s["\u0275\u0275defineComponent"]({type:o,selectors:[["ds-eperson-search-box"]],outputs:{search:"search"},decls:41,vars:13,consts:[[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],["name","scope","id","scope","formControlName","scope","aria-label","Search scope",1,"form-control"],["value","metadata"],["value","email"],[1,"flex-grow-1","mr-3","ml-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"form",0),s["\u0275\u0275listener"]("ngSubmit",(function(e){return t.submit(t.searchForm.value),e.stopImmediatePropagation()})),s["\u0275\u0275text"](1,"\n  "),s["\u0275\u0275elementStart"](2,"div"),s["\u0275\u0275text"](3,"\n    "),s["\u0275\u0275elementStart"](4,"select",1),s["\u0275\u0275text"](5,"\n      "),s["\u0275\u0275elementStart"](6,"option",2),s["\u0275\u0275text"](7),s["\u0275\u0275pipe"](8,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9,"\n      "),s["\u0275\u0275elementStart"](10,"option",3),s["\u0275\u0275text"](11),s["\u0275\u0275pipe"](12,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](13,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](14,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](15,"\n  "),s["\u0275\u0275elementStart"](16,"div",4),s["\u0275\u0275text"](17,"\n    "),s["\u0275\u0275elementStart"](18,"div",5),s["\u0275\u0275text"](19,"\n      "),s["\u0275\u0275element"](20,"input",6),s["\u0275\u0275text"](21,"\n      "),s["\u0275\u0275elementStart"](22,"span",7),s["\u0275\u0275text"](23,"\n        "),s["\u0275\u0275elementStart"](24,"button",8),s["\u0275\u0275text"](25,"\n          "),s["\u0275\u0275element"](26,"i",9),s["\u0275\u0275text"](27),s["\u0275\u0275pipe"](28,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](29,"\n      "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](30,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](31,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](32,"\n  "),s["\u0275\u0275elementStart"](33,"div"),s["\u0275\u0275text"](34,"\n    "),s["\u0275\u0275elementStart"](35,"button",10),s["\u0275\u0275listener"]("click",(function(){return t.submit(null),t.reset()})),s["\u0275\u0275text"](36),s["\u0275\u0275pipe"](37,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](38,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](39,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](40,"\n")),2&e&&(s["\u0275\u0275property"]("formGroup",t.searchForm),s["\u0275\u0275advance"](7),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](8,5,t.labelPrefix+"search.scope.metadata")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](12,7,t.labelPrefix+"search.scope.email")),s["\u0275\u0275advance"](16),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](28,9,t.labelPrefix+"search.button"),"\n        "),s["\u0275\u0275advance"](9),s["\u0275\u0275textInterpolate1"]("\n      ",s["\u0275\u0275pipeBind1"](37,11,t.labelPrefix+"button.see-all"),"\n    "))},directives:[b["\u0275angular_packages_forms_forms_ba"],b.NgControlStatusGroup,b.FormGroupDirective,b.SelectControlValueAccessor,b.NgControlStatus,b.FormControlName,b.NgSelectOption,b["\u0275angular_packages_forms_forms_z"],b.DefaultValueAccessor],pipes:[u.d],encapsulation:2}),o),x=r("1kSV"),g=r("PCNd"),S=r("Exvd"),E=[d.a,m.a],I=((c=function e(){n(this,e)}).\u0275fac=function(e){return new(e||c)},c.\u0275mod=s["\u0275\u0275defineNgModule"]({type:c}),c.\u0275inj=s["\u0275\u0275defineInjector"]({providers:[].concat(E),imports:[[x.s,l.c,p.a,u.c,g.a]]}),c);s["\u0275\u0275setComponentScope"](f.a,[l.p,y,v,S.a,l.o],[l.b,u.d])},"O/Ly":function(e,t,r){"use strict";r.d(t,"a",(function(){return Q}));var a=r("fXoL"),o=r("LRne"),c=r("2Vo4"),s=r("itXk"),l=r("lJxs"),u=r("pLZG"),p=r("IzEk"),d=r("e+Av"),m=r("szIk"),f=r("JGHn"),b=function(e){return e.TYPE_SUBMISSION="TYPE_SUBMISSION",e.TYPE_WORKFLOW="TYPE_WORKFLOW",e.TYPE_INHERITED="TYPE_INHERITED",e.TYPE_CUSTOM="TYPE_CUSTOM",e}({}),v=function(e){return e.READ="READ",e.WRITE="WRITE",e.DELETE="DELETE",e.ADD="ADD",e.REMOVE="REMOVE",e[e.WORKFLOW_STEP_1=5]="WORKFLOW_STEP_1",e[e.WORKFLOW_STEP_2=6]="WORKFLOW_STEP_2",e[e.WORKFLOW_STEP_3=7]="WORKFLOW_STEP_3",e[e.WORKFLOW_ABORT=8]="WORKFLOW_ABORT",e.DEFAULT_BITSTREAM_READ="DEFAULT_BITSTREAM_READ",e.DEFAULT_ITEM_READ="DEFAULT_ITEM_READ",e.ADMIN="ADMIN",e.WITHDRAWN_READ="WITHDRAWN_READ",e}({}),h=[{label:b.TYPE_SUBMISSION,value:b.TYPE_SUBMISSION},{label:b.TYPE_WORKFLOW,value:b.TYPE_WORKFLOW},{label:b.TYPE_INHERITED,value:b.TYPE_INHERITED},{label:b.TYPE_CUSTOM,value:b.TYPE_CUSTOM}],y=[{label:v.READ.toString(),value:v.READ},{label:v.WRITE.toString(),value:v.WRITE},{label:v.REMOVE.toString(),value:v.REMOVE},{label:v.ADMIN.toString(),value:v.ADMIN},{label:v.DELETE.toString(),value:v.DELETE},{label:v.WITHDRAWN_READ.toString(),value:v.WITHDRAWN_READ},{label:v.DEFAULT_BITSTREAM_READ.toString(),value:v.DEFAULT_BITSTREAM_READ},{label:v.DEFAULT_ITEM_READ.toString(),value:v.DEFAULT_ITEM_READ}],x={id:"name",label:"resource-policies.form.name.label",metadataFields:[],repeatable:!1,submissionId:"",hasSelectableMetadata:!1},g={id:"description",label:"resource-policies.form.description.label",metadataFields:[],repeatable:!1,rows:10,submissionId:"",hasSelectableMetadata:!1},S={id:"policyType",label:"resource-policies.form.policy-type.label",options:h,required:!0,validators:{required:null},errorMessages:{required:"resource-policies.form.policy-type.required"}},E={id:"action",label:"resource-policies.form.action-type.label",options:y,required:!0,validators:{required:null},errorMessages:{required:"resource-policies.form.action-type.required"}},I={id:"date",group:[]},O={element:{control:"form-row"}},P={id:"start",label:"resource-policies.form.date.start.label",placeholder:"resource-policies.form.date.start.label",inline:!1,toggleIcon:"far fa-calendar-alt"},j={element:{container:"p-0",label:"col-form-label"},grid:{host:"col-md-6"}},k={id:"end",label:"resource-policies.form.date.end.label",placeholder:"resource-policies.form.date.end.label",inline:!1,toggleIcon:"far fa-calendar-alt"},T={element:{container:"p-0",label:"col-form-label"},grid:{host:"col-md-6"}},B=r("c/qf"),C=r("J3qs"),D=r("TLL5"),w=r("fM99"),R=r("1QIV"),A=r("C765"),_=r("wLgS"),L=r("NFsL"),N=r("YIpg"),F=r("X/78"),M=r("ofXK"),V=r("hqmO"),U=r("1kSV"),q=r("539a"),G=r("sYmb");function W(e,t){if(1&e&&a["\u0275\u0275element"](0,"ds-form",9,10),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formId",n.formId)("formModel",n.formModel)("displaySubmit",!1)("displayCancel",!1)}}function $(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275text"](0,"\n            "),a["\u0275\u0275elementStart"](1,"ds-eperson-group-list",17),a["\u0275\u0275listener"]("select",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"](2).updateObjectSelected(e,!0)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](2,"\n          ")}}function z(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275text"](0,"\n            "),a["\u0275\u0275elementStart"](1,"ds-eperson-group-list",18),a["\u0275\u0275listener"]("select",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"](2).updateObjectSelected(e,!1)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](2,"\n          ")}2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("isListOfEPerson",!1))}function Y(e,t){if(1&e&&(a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275text"](1,"\n      "),a["\u0275\u0275elementStart"](2,"ul",11,12),a["\u0275\u0275text"](4,"\n        "),a["\u0275\u0275elementStart"](5,"li",13),a["\u0275\u0275text"](6,"\n          "),a["\u0275\u0275elementStart"](7,"a",14),a["\u0275\u0275text"](8),a["\u0275\u0275pipe"](9,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](10,"\n          "),a["\u0275\u0275template"](11,$,3,0,"ng-template",15),a["\u0275\u0275text"](12,"\n        "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](13,"\n        "),a["\u0275\u0275elementStart"](14,"li",13),a["\u0275\u0275text"](15,"\n          "),a["\u0275\u0275elementStart"](16,"a",14),a["\u0275\u0275text"](17),a["\u0275\u0275pipe"](18,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](19,"\n          "),a["\u0275\u0275template"](20,z,3,1,"ng-template",15),a["\u0275\u0275text"](21,"\n        "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](22,"\n      "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](23,"\n      "),a["\u0275\u0275element"](24,"div",16),a["\u0275\u0275text"](25,"\n    "),a["\u0275\u0275elementContainerEnd"]()),2&e){var n=a["\u0275\u0275reference"](3);a["\u0275\u0275advance"](8),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](9,3,"resource-policies.form.eperson-group-list.tab.eperson")),a["\u0275\u0275advance"](9),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](18,5,"resource-policies.form.eperson-group-list.tab.group")),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngbNavOutlet",n)}}function K(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1,"\n                  "),a["\u0275\u0275element"](2,"i",19),a["\u0275\u0275text"](3),a["\u0275\u0275pipe"](4,"translate"),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](4,1,"submission.workflow.tasks.generic.processing"),"\n                "))}function X(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"translate"),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("\n                  ",a["\u0275\u0275pipeBind1"](2,1,"form.submit"),"\n                "))}var J,Q=((J=function(){function e(t,r,i,s,l){n(this,e),this.dsoNameService=t,this.ePersonService=r,this.formService=i,this.groupService=s,this.requestService=l,this.isProcessing=Object(o.a)(!1),this.reset=new a.EventEmitter,this.submit=new a.EventEmitter,this.resourcePolicyTargetName$=new c.a(""),this.subs=[]}return i(e,[{key:"ngOnInit",value:function(){var e=this;if(this.isActive=!0,this.formId=this.formService.getUniqueId("resource-policy-form"),this.formModel=this.buildResourcePolicyForm(),!this.canSetGrant()){var t=this.ePersonService.findByHref(this.resourcePolicy._links.eperson.href,!1).pipe(Object(R.i)()),n=this.groupService.findByHref(this.resourcePolicy._links.group.href,!1).pipe(Object(R.i)()),r=Object(s.a)([t,n]).pipe(Object(l.a)((function(e){return e.find((function(e){return Object(C.e)(e.payload)}))})),Object(C.c)());this.subs.push(r.pipe(Object(u.a)((function(){return e.isActive}))).subscribe((function(t){e.resourcePolicyGrant=t.payload,e.resourcePolicyTargetName$.next(e.getResourcePolicyTargetName())})))}}},{key:"isFormValid",value:function(){var e=this;return this.formService.isValid(this.formId).pipe(Object(l.a)((function(t){return t&&Object(C.e)(e.resourcePolicyGrant)})))}},{key:"buildResourcePolicyForm",value:function(){var e=[],t=Object.assign({},S,{disabled:Object(C.e)(this.resourcePolicy)}),n=Object.assign({},E,{disabled:Object(C.e)(this.resourcePolicy)});e.push(new f.a(x),new B.a(g),new d.N(t),new d.N(n));var r=new d.t(P,j),i=new d.t(k,T),a=Object.assign({},I,{group:[]});return a.group.push(r,i),e.push(new d.D(a,O)),this.initModelsValue(e),e}},{key:"initModelsValue",value:function(e){var t=this;return this.resourcePolicy&&e.forEach((function(e){"date"===e.id?(Object(C.b)(t.resourcePolicy.startDate)&&(e.get(0).value=Object(w.d)(t.resourcePolicy.startDate)),Object(C.b)(t.resourcePolicy.endDate)&&(e.get(1).value=Object(w.d)(t.resourcePolicy.endDate))):t.resourcePolicy.hasOwnProperty(e.id)&&t.resourcePolicy[e.id]&&(e.value=t.resourcePolicy[e.id])})),e}},{key:"canSetGrant",value:function(){return Object(C.d)(this.resourcePolicy)}},{key:"getResourcePolicyTargetName",value:function(){return Object(C.e)(this.resourcePolicyGrant)?this.dsoNameService.getName(this.resourcePolicyGrant):""}},{key:"updateObjectSelected",value:function(e,t){this.resourcePolicyGrant=e,this.resourcePolicyGrantType=t?"eperson":"group"}},{key:"onReset",value:function(){this.reset.emit()}},{key:"onSubmit",value:function(){var e=this;this.formService.getFormData(this.formId).pipe(Object(p.a)(1)).subscribe((function(t){var n=Object.create({});n.object=e.createResourcePolicyByFormData(t),n.target={type:e.resourcePolicyGrantType,uuid:e.resourcePolicyGrant.id},e.submit.emit(n)}))}},{key:"createResourcePolicyByFormData",value:function(e){var t=new m.a;return t.name=e.name?e.name[0].value:null,t.description=e.description?e.description[0].value:null,t.policyType=e.policyType?e.policyType[0].value:null,t.action=e.action?e.action[0].value:null,t.startDate=e.date&&e.date.start?Object(w.a)(e.date.start[0].value):null,t.endDate=e.date&&e.date.end?Object(w.a)(e.date.end[0].value):null,t.type=D.a,t}},{key:"ngOnDestroy",value:function(){this.isActive=!1,this.formModel=null,this.subs.filter((function(e){return Object(C.b)(e)})).forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||J)(a["\u0275\u0275directiveInject"](A.a),a["\u0275\u0275directiveInject"](_.a),a["\u0275\u0275directiveInject"](L.a),a["\u0275\u0275directiveInject"](N.a),a["\u0275\u0275directiveInject"](F.a))},J.\u0275cmp=a["\u0275\u0275defineComponent"]({type:J,selectors:[["ds-resource-policy-form"]],inputs:{resourcePolicy:"resourcePolicy",isProcessing:"isProcessing"},outputs:{reset:"reset",submit:"submit"},decls:44,vars:25,consts:[[3,"formId","formModel","displaySubmit","displayCancel",4,"ngIf"],[1,"container-fluid"],["for","ResourcePolicyObject"],["id","ResourcePolicyObject","type","text","readonly","",1,"form-control","mb-3",3,"value"],[4,"ngIf"],[1,"form-group","row"],[1,"col","text-right"],["type","reset",1,"btn","btn-default",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"formId","formModel","displaySubmit","displayCancel"],["formRef","formComponent"],["ngbNav","",1,"nav-pills"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[3,"select"],[3,"isListOfEPerson","select"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275text"](1,"\n  "),a["\u0275\u0275template"](2,W,2,4,"ds-form",0),a["\u0275\u0275text"](3,"\n  "),a["\u0275\u0275elementStart"](4,"div",1),a["\u0275\u0275text"](5,"\n    "),a["\u0275\u0275elementStart"](6,"label",2),a["\u0275\u0275text"](7),a["\u0275\u0275pipe"](8,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](9,"\n    "),a["\u0275\u0275element"](10,"input",3),a["\u0275\u0275pipe"](11,"async"),a["\u0275\u0275text"](12,"\n    "),a["\u0275\u0275template"](13,Y,26,7,"ng-container",4),a["\u0275\u0275text"](14,"\n    "),a["\u0275\u0275elementStart"](15,"div"),a["\u0275\u0275text"](16,"\n      "),a["\u0275\u0275element"](17,"hr"),a["\u0275\u0275text"](18,"\n      "),a["\u0275\u0275elementStart"](19,"div",5),a["\u0275\u0275text"](20,"\n\n        "),a["\u0275\u0275elementStart"](21,"div",6),a["\u0275\u0275text"](22,"\n          "),a["\u0275\u0275elementStart"](23,"button",7),a["\u0275\u0275listener"]("click",(function(){return t.onReset()})),a["\u0275\u0275pipe"](24,"async"),a["\u0275\u0275text"](25),a["\u0275\u0275pipe"](26,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](27,"\n          "),a["\u0275\u0275elementStart"](28,"button",8),a["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),a["\u0275\u0275pipe"](29,"async"),a["\u0275\u0275pipe"](30,"async"),a["\u0275\u0275text"](31,"\n            "),a["\u0275\u0275template"](32,K,5,3,"span",4),a["\u0275\u0275pipe"](33,"async"),a["\u0275\u0275text"](34,"\n            "),a["\u0275\u0275template"](35,X,3,3,"span",4),a["\u0275\u0275pipe"](36,"async"),a["\u0275\u0275text"](37,"\n          "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](38,"\n        "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](39,"\n      "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](40,"\n    "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](41,"\n  "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](42,"\n"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](43,"\n")),2&e&&(a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.formModel),a["\u0275\u0275advance"](5),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](8,9,"resource-policies.form.eperson-group-list.label")),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("value",a["\u0275\u0275pipeBind1"](11,11,t.resourcePolicyTargetName$)),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",t.canSetGrant()),a["\u0275\u0275advance"](10),a["\u0275\u0275property"]("disabled",a["\u0275\u0275pipeBind1"](24,13,t.isProcessing)),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](26,15,"form.cancel")),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("disabled",!a["\u0275\u0275pipeBind1"](29,17,t.isFormValid())||a["\u0275\u0275pipeBind1"](30,19,t.isProcessing)),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngIf",a["\u0275\u0275pipeBind1"](33,21,t.isProcessing)),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",!a["\u0275\u0275pipeBind1"](36,23,t.isProcessing)))},directives:[M.p,V.a,U.t,U.v,U.w,U.u,U.y,q.a],pipes:[G.d,M.b],encapsulation:2}),J)},jrTz:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l}));var r="withdraw",i="reinstate",a="private",o="public",c="delete",s="move",l="authorizations"},n1Qy:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var a=r("fXoL"),o=r("zQ+x"),c=r("+1Sv"),s=r("J3qs"),l=r("1QIV"),u=r("tyNb"),p=function(){var e=function(){function e(t,r){n(this,e),this.parentInjector=t,this.router=r}return i(e,[{key:"resolve",value:function(e,t){var n=e.queryParamMap.get("targetType"),r=e.queryParamMap.get("policyTargetId");(Object(s.d)(n)||Object(s.d)(r))&&this.router.navigateByUrl("/404",{skipLocationChange:!0});var i=Object(o.f)(new c.a(n));return this.dataService=a.Injector.create({providers:[],parent:this.parentInjector}).get(i),this.dataService.findById(r).pipe(Object(l.g)())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](a.Injector),a["\u0275\u0275inject"](u.h))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}()}}])}();
//# sourceMappingURL=4-es5.67d1e992985623f1b1b0.js.map