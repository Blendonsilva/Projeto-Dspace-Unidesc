(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{f6n5:function(t,e,n){"use strict";n.r(e),n.d(e,"LookupIdModule",(function(){return N}));var i=n("fXoL"),r=n("ofXK"),o=n("PCNd"),s=n("B/au"),a=n("lJxs"),c=n("vkgz"),d=n("J3qs"),p=n("h5qW"),u=n("1QIV"),l=n("Xioo"),m=n("X/78"),h=n("7vy/"),f=n("l7P3"),b=n("mycY"),y=n("uLZQ"),j=n("lI3o"),v=n("tk/3"),I=n("42gE"),E=n("tyNb");let x=(()=>{class t extends p.a{constructor(t,e,n,i,r,o,s,a,c){super(),this.requestService=t,this.rdbService=e,this.store=n,this.objectCache=i,this.halService=r,this.notificationsService=o,this.http=s,this.comparator=a,this.router=c,this.linkPath="pid",this.uuidEndpoint="dso"}setLinkPath(t){t===s.h.UUID&&(this.linkPath=this.uuidEndpoint)}getIDHref(t,e,...n){return this.buildHrefFromFindOptions(t.replace(/\{\?id\}/,`?id=${e}`).replace(/\{\?uuid\}/,`?uuid=${e}`),{},[],...n)}findByIdAndIDType(t,e=s.h.UUID){return this.setLinkPath(e),this.findById(t).pipe(Object(u.g)(),Object(c.a)(t=>{if(t.hasSucceeded){const e=t.payload,n=e.uuid;if(Object(d.b)(n)){let i=this.getEndpointFromDSOType(t.payload.type);e.type.startsWith("item")?i=Object(l.h)(e):Object(d.b)(i)&&(i+="/"+n),Object(d.b)(i)&&this.router.navigate([i])}}}))}getEndpointFromDSOType(t){return t.startsWith("item")?"items":t.startsWith("community")?"communities":t.startsWith("collection")?"collections":""}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](m.a),i["\u0275\u0275inject"](h.a),i["\u0275\u0275inject"](f.i),i["\u0275\u0275inject"](b.a),i["\u0275\u0275inject"](y.a),i["\u0275\u0275inject"](j.a),i["\u0275\u0275inject"](v.b),i["\u0275\u0275inject"](I.a),i["\u0275\u0275inject"](E.h))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),k=(()=>{class t{constructor(t){this.dsoService=t}canActivate(t,e){const n=this.getLookupParams(t);return this.dsoService.findByIdAndIDType(n.id,n.type).pipe(Object(a.a)(t=>t.hasFailed))}getLookupParams(t){let e,n;const i=t.params.idType;return i!==s.h.HANDLE&&i!==s.h.UUID?(e=s.h.HANDLE,n=`hdl:${t.params.idType}/${t.params.id}`):t.params.idType===s.h.HANDLE?(e=s.h.HANDLE,n="hdl:"+t.params.id):(e=s.h.UUID,n=t.params.id),{type:e,id:n}}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](x))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();var O=n("JTKQ");function g(t,e){}let T=(()=>{class t extends O.a{getComponentName(){return"ObjectNotFoundComponent"}importThemedComponent(t){return n("rPnB")(`./${t}/app/lookup-by-id/objectnotfound/objectnotfound.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(null,"lME7"))}}return t.\u0275fac=function(e){return D(e||t)},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["ds-themed-objnotfound"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:0,consts:[["vcr",""]],template:function(t,e){1&t&&(i["\u0275\u0275template"](0,g,0,0,"ng-template",null,0,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275text"](2,"\n"))},encapsulation:2}),t})();const D=i["\u0275\u0275getInheritedFactory"](T);let S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[k],imports:[[E.l.forChild([{matcher:w,canActivate:[k],component:T}])]]}),t})();function w(t){const e=t[0].path,n=t.slice(1).map(t=>t.path).join("/");return Object(d.e)(e)&&Object(d.e)(n)?{consumed:t,posParams:{idType:new E.o(e,{}),id:new E.o(n,{})}}:null}n("lME7");let N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[x],imports:[[S,r.c,o.a]]}),t})()},lME7:function(t,e,n){"use strict";n.r(e),n.d(e,"ObjectNotFoundComponent",(function(){return s}));var i=n("fXoL"),r=n("tyNb"),o=n("sYmb");let s=(()=>{class t{constructor(t){this.route=t,t.params.subscribe(t=>{this.idType=t.idType,this.id=t.id})}ngOnInit(){this.missingItem=this.idType.startsWith("handle")||this.idType.startsWith("uuid")?this.idType+": "+this.id:"handle: "+this.idType+"/"+this.id}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](r.a))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["ds-objnotfound"]],decls:21,vars:7,consts:[[1,"object-not-found","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275text"](1,"\n  "),i["\u0275\u0275elementStart"](2,"h1"),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](5,"\n  "),i["\u0275\u0275elementStart"](6,"h2"),i["\u0275\u0275elementStart"](7,"small"),i["\u0275\u0275elementStart"](8,"em"),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](10,"\n  "),i["\u0275\u0275element"](11,"br"),i["\u0275\u0275text"](12,"\n  "),i["\u0275\u0275elementStart"](13,"p",1),i["\u0275\u0275text"](14,"\n    "),i["\u0275\u0275elementStart"](15,"a",2),i["\u0275\u0275text"](16),i["\u0275\u0275pipe"](17,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](18,"\n  "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](19,"\n"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](20,"\n")),2&t&&(i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](4,3,"error.identifier")),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](e.missingItem),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](17,5,"404.link.home-page")))},directives:[r.k],pipes:[o.d],styles:[""]}),t})()},rPnB:function(t,e,n){var i={"./custom/app/lookup-by-id/objectnotfound/objectnotfound.component":["RrNC",65]};function r(t){if(!n.o(i,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=i[t],r=e[0];return n.e(e[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(i)},r.id="rPnB",t.exports=r}}]);
//# sourceMappingURL=13-es2015.60e38f55fcd571a1c5ce.js.map