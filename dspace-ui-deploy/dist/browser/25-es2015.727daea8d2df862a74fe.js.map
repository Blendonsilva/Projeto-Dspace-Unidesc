{"version":3,"sources":["webpack:///src/app/admin/admin-registries/bitstream-formats/bitstream-formats.component.html","webpack:///src/app/admin/admin-registries/bitstream-formats/bitstream-formats.component.ts","webpack:///src/app/admin/admin-registries/bitstream-formats/format-form/format-form.component.html","webpack:///src/app/admin/admin-registries/bitstream-formats/format-form/format-form.component.ts","webpack:///src/app/admin/admin-registries/bitstream-formats/edit-bitstream-format/edit-bitstream-format.component.ts","webpack:///src/app/admin/admin-registries/bitstream-formats/edit-bitstream-format/edit-bitstream-format.component.html","webpack:///src/app/admin/admin-registries/bitstream-formats/bitstream-formats.resolver.ts","webpack:///src/app/admin/admin-registries/bitstream-formats/add-bitstream-format/add-bitstream-format.component.ts","webpack:///src/app/admin/admin-registries/bitstream-formats/add-bitstream-format/add-bitstream-format.component.html","webpack:///src/app/admin/admin-registries/bitstream-formats/bitstream-formats-routing.module.ts","webpack:///src/app/admin/admin-registries/bitstream-formats/bitstream-formats.module.ts","webpack:///src/app/admin/admin-routing-paths.ts","webpack:///src/app/shared/pagination/pagination.utils.ts","webpack:///src/app/admin/admin-registries/metadata-registry/metadata-schema-form/metadata-schema-form.component.html","webpack:///src/app/admin/admin-registries/metadata-registry/metadata-schema-form/metadata-schema-form.component.ts","webpack:///src/app/admin/admin-registries/metadata-registry/metadata-registry.component.html","webpack:///src/app/admin/admin-registries/metadata-registry/metadata-registry.component.ts","webpack:///src/app/admin/admin-registries/metadata-schema/metadata-field-form/metadata-field-form.component.html","webpack:///src/app/admin/admin-registries/metadata-schema/metadata-field-form/metadata-field-form.component.ts","webpack:///src/app/admin/admin-registries/metadata-schema/metadata-schema.component.html","webpack:///src/app/admin/admin-registries/metadata-schema/metadata-schema.component.ts","webpack:///src/app/admin/admin-registries/admin-registries-routing.module.ts","webpack:///src/app/admin/admin-registries/admin-registries.module.ts","webpack:///src/app/admin/admin-import-metadata-page/metadata-import-page.component.ts","webpack:///src/app/admin/admin-import-metadata-page/metadata-import-page.component.html","webpack:///src/app/admin/admin-search-page/admin-search-page.component.ts","webpack:///src/app/admin/admin-search-page/admin-search-page.component.html","webpack:///src/app/admin/admin-workflow-page/admin-workflow-page.component.ts","webpack:///src/app/admin/admin-workflow-page/admin-workflow-page.component.html","webpack:///src/app/admin/admin-curation-tasks/admin-curation-tasks.component.ts","webpack:///src/app/admin/admin-curation-tasks/admin-curation-tasks.component.html","webpack:///src/app/admin/admin-routing.module.ts","webpack:///src/app/admin/admin-workflow-page/admin-workflow-search-results/workflow-item-admin-workflow-actions.component.html","webpack:///src/app/admin/admin-workflow-page/admin-workflow-search-results/workflow-item-admin-workflow-actions.component.ts","webpack:///src/app/admin/admin-workflow-page/admin-workflow-search-results/admin-workflow-search-result-grid-element/workflow-item/workflow-item-search-result-admin-workflow-grid-element.component.html","webpack:///src/app/admin/admin-workflow-page/admin-workflow-search-results/admin-workflow-search-result-grid-element/workflow-item/workflow-item-search-result-admin-workflow-grid-element.component.ts","webpack:///src/app/admin/admin-workflow-page/admin-workflow-search-results/admin-workflow-search-result-list-element/workflow-item/workflow-item-search-result-admin-workflow-list-element.component.html","webpack:///src/app/admin/admin-workflow-page/admin-workflow-search-results/admin-workflow-search-result-list-element/workflow-item/workflow-item-search-result-admin-workflow-list-element.component.ts","webpack:///src/app/admin/admin-workflow-page/admin-workflow.module.ts","webpack:///src/app/admin/admin-search-page/admin-search-results/item-admin-search-result-actions.component.html","webpack:///src/app/admin/admin-search-page/admin-search-results/item-admin-search-result-actions.component.ts","webpack:///src/app/admin/admin-search-page/admin-search-results/admin-search-result-list-element/item-search-result/item-admin-search-result-list-element.component.ts","webpack:///src/app/admin/admin-search-page/admin-search-results/admin-search-result-list-element/item-search-result/item-admin-search-result-list-element.component.html","webpack:///src/app/admin/admin-search-page/admin-search-results/admin-search-result-list-element/community-search-result/community-admin-search-result-list-element.component.ts","webpack:///src/app/admin/admin-search-page/admin-search-results/admin-search-result-list-element/community-search-result/community-admin-search-result-list-element.component.html","webpack:///src/app/admin/admin-search-page/admin-search-results/admin-search-result-list-element/collection-search-result/collection-admin-search-result-list-element.component.ts","webpack:///src/app/admin/admin-search-page/admin-search-results/admin-search-result-list-element/collection-search-result/collection-admin-search-result-list-element.component.html","webpack:///src/app/admin/admin-search-page/admin-search-results/admin-search-result-grid-element/item-search-result/item-admin-search-result-grid-element.component.html","webpack:///src/app/admin/admin-search-page/admin-search-results/admin-search-result-grid-element/item-search-result/item-admin-search-result-grid-element.component.ts","webpack:///src/app/admin/admin-search-page/admin-search-results/admin-search-result-grid-element/community-search-result/community-admin-search-result-grid-element.component.ts","webpack:///src/app/admin/admin-search-page/admin-search-results/admin-search-result-grid-element/community-search-result/community-admin-search-result-grid-element.component.html","webpack:///src/app/admin/admin-search-page/admin-search-results/admin-search-result-grid-element/collection-search-result/collection-admin-search-result-grid-element.component.ts","webpack:///src/app/admin/admin-search-page/admin-search-results/admin-search-result-grid-element/collection-search-result/collection-admin-search-result-grid-element.component.html","webpack:///src/app/admin/admin-search-page/admin-search.module.ts","webpack:///src/app/admin/admin.module.ts","webpack:///src/app/item-page/edit-item-page/edit-item-page.routing-paths.ts","webpack:///src/app/admin/admin-registries/admin-registries-routing-paths.ts"],"names":["BitstreamFormatsComponent","constructor","notificationsService","router","translateService","bitstreamFormatService","paginationService","config","Object","assign","elementsPerPage","pageConfig","id","pageSize","deleteFormats","this","clearBitStreamFormatRequests","subscribe","getSelectedBitstreamFormats","pipe","take","formats","tasks$","format","push","delete","map","response","hasSucceeded","zip","results","successResponses","filter","result","failedResponses","length","showNotification","deselectAll","resetPage","deselectAllBitstreamFormats","isSelected","bitstreamFormat","bitstreamFormats","find","selectedFormat","selectBitStreamFormat","event","target","checked","selectBitstreamFormat","deselectBitstreamFormat","success","amount","prefix","suffix","get","head","content","error","ngOnInit","getFindListOptions","switchMap","findListOptions","findAll","ngOnDestroy","clearPagination","FormatFormComponent","dynamicFormService","updatedFormat","EventEmitter","supportLevelOptions","label","Known","value","Unknown","Supported","arrayElementLayout","grid","group","arrayInputElementLayout","host","formModel","name","hint","required","validators","errorMessages","options","groupFactory","placeholder","initValues","forEach","fieldModel","extensions","extenstions","formArray","i","insertGroup","onSubmit","updatedBitstreamFormat","groups","emit","onCancel","navigate","EditBitstreamFormatComponent","route","notificationService","bitstreamFormatDataService","bitstreamFormatRD$","data","updateFormat","updateBitstreamFormat","g","BitstreamFormatsResolver","resolve","state","findById","params","AddBitstreamFormatComponent","createBitstreamFormat","BitstreamFormatsRoutingModule","forChild","path","component","breadcrumb","breadcrumbKey","BitstreamFormatsModule","REGISTRIES_MODULE_PATH","getRegistriesModuleRoute","toString","toFindListOptions","pagination","original","currentPage","MetadataSchemaFormComponent","registryService","formBuilderService","formId","messagePrefix","formLayout","namespace","submitForm","combineLatest","pattern","D","formGroup","createFormGroup","getActiveMetadataSchema","schema","patchValue","metadatadataschemagroup","cancelEditMetadataSchema","clearMetadataSchemaRequests","values","createOrUpdateMetadataSchema","newSchema","updatedSchema","clearFields","MetadataRegistryComponent","needsUpdate$","BehaviorSubject","updateSchemas","metadataSchemas","update","getCurrentPagination","currentPagination","getMetadataSchemas","forceUpdateSchemas","next","editSchema","getActiveSchema","activeSchema","editMetadataSchema","isActive","selectMetadataSchema","deselectMetadataSchema","getSelectedMetadataSchemas","schemas","selectedSchema","deleteSchemas","deleteMetadataSchema","responses","hasFailed","deselectAllMetadataSchema","MetadataFieldFormComponent","element","qualifier","scopeNote","scopenote","getActiveMetadataField","field","metadatadatafieldgroup","cancelEditMetadataField","createMetadataField","metadataSchema","newField","updateMetadataField","updatedField","MetadataSchemaComponent","pageSizeOptions","initialize","metadataSchema$","getMetadataSchemaByPrefix","schemaName","updateFields","metadataFields$","getMetadataFieldsBySchema","forceUpdateFields","clearMetadataFieldRequests","editField","getActiveField","activeField","editMetadataField","selectMetadataField","deselectMetadataField","getSelectedMetadataFields","fields","selectedField","deleteFields","deleteMetadataField","deselectAllMetadataField","AdminRegistriesRoutingModule","title","children","loadChildren","then","m","AdminRegistriesModule","MetadataImportPageComponent","location","translate","scriptDataService","setFile","file","fileObject","onReturn","back","importMetadata","parameterValues","invoke","rd","payload","navigateByUrl","processId","AdminSearchPageComponent","context","AdminSearch","AdminWorkflowPageComponent","AdminWorkflowSearch","AdminCurationTasksComponent","AdminRoutingModule","WorkflowItemAdminWorkflowActionsComponent","getDeleteRoute","wfi","getSendBackRoute","WorkflowItemSearchResultAdminWorkflowGridElementComponent","componentFactoryResolver","linkService","truncatableService","themeService","bitstreamDataService","super","dso","resolveLink","item$","item","componentFactory","resolveComponentFactory","getComponent","viewContainerRef","listableObjectDirective","clear","componentRef","createComponent","undefined","badges","nativeElement","buttons","instance","object","index","linkType","listID","changeDetectorRef","detectChanges","getRenderTypes","GridElement","getThemeName","WorkflowItemSearchResultAdminWorkflowListElementComponent","dsoNameService","ListElement","ENTRY_COMPONENTS","AdminWorkflowModuleModule","static","ngModule","providers","provide","withEntryComponents","ItemAdminSearchResultActionsComponent","getEditRoute","getMoveRoute","getWithdrawRoute","getReinstateRoute","getPrivateRoute","getPublicRoute","ItemAdminSearchResultListElementComponent","CommunityAdminSearchResultListElementComponent","editPath","uuid","CollectionAdminSearchResultListElementComponent","ItemAdminSearchResultGridElementComponent","CommunityAdminSearchResultGridElementComponent","CollectionAdminSearchResultGridElementComponent","AdminSearchModule","AdminModule","AccessControlModule","ITEM_EDIT_WITHDRAW_PATH","ITEM_EDIT_REINSTATE_PATH","ITEM_EDIT_PRIVATE_PATH","ITEM_EDIT_PUBLIC_PATH","ITEM_EDIT_DELETE_PATH","ITEM_EDIT_MOVE_PATH","ITEM_EDIT_AUTHORIZATIONS_PATH","BITSTREAMFORMATS_MODULE_PATH","getBitstreamFormatsModuleRoute"],"mappings":"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","file":"x","sourcesContent":["<div class=\"container\">\n  <div class=\"bitstream-formats row\">\n    <div class=\"col-12\">\n\n      <h2 id=\"header\" class=\"border-bottom pb-2 \">{{'admin.registries.bitstream-formats.head' | translate}}</h2>\n\n      <p id=\"description\">{{'admin.registries.bitstream-formats.description' | translate}}</p>\n      <p id=\"create-new\" class=\"mb-2\"><a [routerLink]=\"'add'\" class=\"btn btn-success\">{{'admin.registries.bitstream-formats.create.new' | translate}}</a></p>\n\n\n      <ds-pagination\n        *ngIf=\"(bitstreamFormats | async)?.payload?.totalElements > 0\"\n        [paginationOptions]=\"pageConfig\"\n        [pageInfoState]=\"(bitstreamFormats | async)?.payload\"\n        [collectionSize]=\"(bitstreamFormats | async)?.payload?.totalElements\"\n        [hideGear]=\"true\"\n        [hidePagerWhenSinglePage]=\"true\">\n        <div class=\"table-responsive\">\n          <table id=\"formats\" class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th scope=\"col\"></th>\n                <th scope=\"col\">{{'admin.registries.bitstream-formats.table.name' | translate}}</th>\n                <th scope=\"col\">{{'admin.registries.bitstream-formats.table.mimetype' | translate}}</th>\n                <th scope=\"col\">{{'admin.registries.bitstream-formats.table.supportLevel.head' | translate}}</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr *ngFor=\"let bitstreamFormat of (bitstreamFormats | async)?.payload?.page\">\n                <td>\n                  <label>\n                    <input type=\"checkbox\"\n                           [checked]=\"isSelected(bitstreamFormat) | async\"\n                           (change)=\"selectBitStreamFormat(bitstreamFormat, $event)\"\n                    >\n                  </label>\n                </td>\n                <td><a [routerLink]=\"['/admin/registries/bitstream-formats', bitstreamFormat.id, 'edit']\">{{bitstreamFormat.shortDescription}}</a></td>\n                <td><a [routerLink]=\"['/admin/registries/bitstream-formats', bitstreamFormat.id, 'edit']\">{{bitstreamFormat.mimetype}} <span *ngIf=\"bitstreamFormat.internal\">({{'admin.registries.bitstream-formats.table.internal' | translate}})</span></a></td>\n                <td><a [routerLink]=\"['/admin/registries/bitstream-formats', bitstreamFormat.id, 'edit']\">{{'admin.registries.bitstream-formats.table.supportLevel.'+bitstreamFormat.supportLevel | translate}}</a></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </ds-pagination>\n      <div *ngIf=\"(bitstreamFormats | async)?.payload?.totalElements == 0\" class=\"alert alert-info\" role=\"alert\">\n        {{'admin.registries.bitstream-formats.no-items' | translate}}\n      </div>\n\n      <div>\n        <button *ngIf=\"(bitstreamFormats | async)?.payload?.page?.length > 0\" class=\"btn btn-primary deselect\" (click)=\"deselectAll()\">{{'admin.registries.bitstream-formats.table.deselect-all' | translate}}</button>\n        <button *ngIf=\"(bitstreamFormats | async)?.payload?.page?.length > 0\" type=\"submit\" class=\"btn btn-danger float-right\" (click)=\"deleteFormats()\">{{'admin.registries.bitstream-formats.table.delete' | translate}}</button>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { combineLatest as observableCombineLatest, Observable, zip } from 'rxjs';\nimport { RemoteData } from '../../../core/data/remote-data';\nimport { PaginatedList } from '../../../core/data/paginated-list.model';\nimport { PaginationComponentOptions } from '../../../shared/pagination/pagination-component-options.model';\nimport { BitstreamFormat } from '../../../core/shared/bitstream-format.model';\nimport { BitstreamFormatDataService } from '../../../core/data/bitstream-format-data.service';\nimport { FindListOptions } from '../../../core/data/request.models';\nimport { map, switchMap, take } from 'rxjs/operators';\nimport { hasValue } from '../../../shared/empty.util';\nimport { NotificationsService } from '../../../shared/notifications/notifications.service';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { NoContent } from '../../../core/shared/NoContent.model';\nimport { PaginationService } from '../../../core/pagination/pagination.service';\n\n/**\n * This component renders a list of bitstream formats\n */\n@Component({\n  selector: 'ds-bitstream-formats',\n  templateUrl: './bitstream-formats.component.html'\n})\nexport class BitstreamFormatsComponent implements OnInit, OnDestroy {\n\n  /**\n   * A paginated list of bitstream formats to be shown on the page\n   */\n  bitstreamFormats: Observable<RemoteData<PaginatedList<BitstreamFormat>>>;\n\n  /**\n   * The current pagination configuration for the page used by the FindAll method\n   * Currently simply renders all bitstream formats\n   */\n  config: FindListOptions = Object.assign(new FindListOptions(), {\n    elementsPerPage: 20\n  });\n\n  /**\n   * The current pagination configuration for the page\n   * Currently simply renders all bitstream formats\n   */\n  pageConfig: PaginationComponentOptions = Object.assign(new PaginationComponentOptions(), {\n    id: 'rbp',\n    pageSize: 20\n  });\n\n  constructor(private notificationsService: NotificationsService,\n              private router: Router,\n              private translateService: TranslateService,\n              private bitstreamFormatService: BitstreamFormatDataService,\n              private paginationService: PaginationService,\n              ) {\n  }\n\n\n  /**\n   * Deletes the currently selected formats from the registry and updates the presented list\n   */\n  deleteFormats() {\n    this.bitstreamFormatService.clearBitStreamFormatRequests().subscribe();\n    this.bitstreamFormatService.getSelectedBitstreamFormats().pipe(take(1)).subscribe(\n      (formats) => {\n        const tasks$ = [];\n        for (const format of formats) {\n          if (hasValue(format.id)) {\n            tasks$.push(this.bitstreamFormatService.delete(format.id).pipe(map((response: RemoteData<NoContent>) => response.hasSucceeded)));\n          }\n        }\n        zip(...tasks$).subscribe((results: boolean[]) => {\n          const successResponses = results.filter((result: boolean) => result);\n          const failedResponses = results.filter((result: boolean) => !result);\n          if (successResponses.length > 0) {\n            this.showNotification(true, successResponses.length);\n          }\n          if (failedResponses.length > 0) {\n            this.showNotification(false, failedResponses.length);\n          }\n\n          this.deselectAll();\n\n          this.paginationService.resetPage(this.pageConfig.id);\n        });\n      }\n    );\n  }\n\n  /**\n   * Deselects all selecetd bitstream formats\n   */\n  deselectAll() {\n    this.bitstreamFormatService.deselectAllBitstreamFormats();\n  }\n\n  /**\n   * Checks whether a given bitstream format is selected in the list (checkbox)\n   * @param bitstreamFormat\n   */\n  isSelected(bitstreamFormat: BitstreamFormat): Observable<boolean> {\n    return this.bitstreamFormatService.getSelectedBitstreamFormats().pipe(\n      map((bitstreamFormats: BitstreamFormat[]) => {\n        return bitstreamFormats.find((selectedFormat) => selectedFormat.id === bitstreamFormat.id) != null;\n      })\n    );\n  }\n\n  /**\n   * Selects or deselects a bitstream format based on the checkbox state\n   * @param bitstreamFormat\n   * @param event\n   */\n  selectBitStreamFormat(bitstreamFormat: BitstreamFormat, event) {\n    event.target.checked ?\n      this.bitstreamFormatService.selectBitstreamFormat(bitstreamFormat) :\n      this.bitstreamFormatService.deselectBitstreamFormat(bitstreamFormat);\n  }\n\n  /**\n   * Show notifications for an amount of deleted bitstream formats\n   * @param success   Whether or not the notification should be a success message (error message when false)\n   * @param amount    The amount of deleted bitstream formats\n   */\n  private showNotification(success: boolean, amount: number) {\n    const prefix = 'admin.registries.bitstream-formats.delete';\n    const suffix = success ? 'success' : 'failure';\n\n    const messages = observableCombineLatest(\n      this.translateService.get(`${prefix}.${suffix}.head`),\n      this.translateService.get(`${prefix}.${suffix}.amount`, {amount: amount})\n    );\n    messages.subscribe(([head, content]) => {\n\n      if (success) {\n        this.notificationsService.success(head, content);\n      } else {\n        this.notificationsService.error(head, content);\n      }\n    });\n  }\n\n  ngOnInit(): void {\n\n    this.bitstreamFormats = this.paginationService.getFindListOptions(this.pageConfig.id, this.config).pipe(\n      switchMap((findListOptions: FindListOptions) => {\n        return this.bitstreamFormatService.findAll(findListOptions);\n      })\n    );\n  }\n\n\n  ngOnDestroy(): void {\n    this.paginationService.clearPagination(this.pageConfig.id);\n  }\n}\n","<ds-form *ngIf=\"formModel\"\n         [formId]=\"'comcol-form-id'\"\n         [formModel]=\"formModel\" (submitForm)=\"onSubmit()\" (cancel)=\"onCancel()\"></ds-form>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { BitstreamFormat } from '../../../../core/shared/bitstream-format.model';\nimport { BitstreamFormatSupportLevel } from '../../../../core/shared/bitstream-format-support-level';\nimport {\n  DynamicCheckboxModel,\n  DynamicFormArrayModel,\n  DynamicFormControlLayout,\n  DynamicFormControlModel,\n  DynamicFormService,\n  DynamicInputModel,\n  DynamicSelectModel,\n  DynamicTextAreaModel\n} from '@ng-dynamic-forms/core';\nimport { Router } from '@angular/router';\nimport { hasValue, isEmpty } from '../../../../shared/empty.util';\nimport { TranslateService } from '@ngx-translate/core';\nimport { getBitstreamFormatsModuleRoute } from '../../admin-registries-routing-paths';\n\n/**\n * The component responsible for rendering the form to create/edit a bitstream format\n */\n@Component({\n  selector: 'ds-bitstream-format-form',\n  templateUrl: './format-form.component.html'\n})\nexport class FormatFormComponent implements OnInit {\n\n  /**\n   * The current bitstream format\n   * This can either be and existing one or a new one\n   */\n  @Input() bitstreamFormat: BitstreamFormat = new BitstreamFormat();\n\n  /**\n   * EventEmitter that will emit the updated bitstream format\n   */\n  @Output() updatedFormat: EventEmitter<BitstreamFormat> = new EventEmitter<BitstreamFormat>();\n\n  /**\n   * The different supported support level of the bitstream format\n   */\n  supportLevelOptions = [{label: BitstreamFormatSupportLevel.Known, value: BitstreamFormatSupportLevel.Known},\n    {label: BitstreamFormatSupportLevel.Unknown, value: BitstreamFormatSupportLevel.Unknown},\n    {label: BitstreamFormatSupportLevel.Supported, value: BitstreamFormatSupportLevel.Supported}];\n\n  /**\n   * Styling element for repeatable field\n   */\n  arrayElementLayout: DynamicFormControlLayout = {\n    grid: {\n      group: 'form-row',\n    },\n  };\n\n  /**\n   * Styling element for element of repeatable field\n   */\n  arrayInputElementLayout: DynamicFormControlLayout = {\n    grid: {\n      host: 'col'\n    }\n  };\n\n  /**\n   * The form model representing the bitstream format\n   */\n  formModel: DynamicFormControlModel[] = [\n    new DynamicInputModel({\n      id: 'shortDescription',\n      name: 'shortDescription',\n      label: 'admin.registries.bitstream-formats.edit.shortDescription.label',\n      hint: 'admin.registries.bitstream-formats.edit.shortDescription.hint',\n      required: true,\n      validators: {\n        required: null\n      },\n      errorMessages: {\n        required: 'Please enter a name for this bitstream format'\n      },\n    }),\n    new DynamicInputModel({\n      id: 'mimetype',\n      name: 'mimetype',\n      label: 'admin.registries.bitstream-formats.edit.mimetype.label',\n      hint: 'admin.registries.bitstream-formats.edit.mimetype.hint',\n\n    }),\n    new DynamicTextAreaModel({\n      id: 'description',\n      name: 'description',\n      label: 'admin.registries.bitstream-formats.edit.description.label',\n      hint: 'admin.registries.bitstream-formats.edit.description.hint',\n\n    }),\n    new DynamicSelectModel({\n      id: 'supportLevel',\n      name: 'supportLevel',\n      options: this.supportLevelOptions,\n      label: 'admin.registries.bitstream-formats.edit.supportLevel.label',\n      hint: 'admin.registries.bitstream-formats.edit.supportLevel.hint',\n      value: this.supportLevelOptions[0].value\n\n    }),\n    new DynamicCheckboxModel({\n      id: 'internal',\n      name: 'internal',\n      label: 'Internal',\n      hint: 'admin.registries.bitstream-formats.edit.internal.hint',\n    }),\n    new DynamicFormArrayModel({\n      id: 'extensions',\n      name: 'extensions',\n      label: 'admin.registries.bitstream-formats.edit.extensions.label',\n      groupFactory: () => [\n        new DynamicInputModel({\n          id: 'extension',\n          placeholder: 'admin.registries.bitstream-formats.edit.extensions.placeholder',\n        }, this.arrayInputElementLayout)\n      ]\n    }, this.arrayElementLayout),\n  ];\n\n  constructor(private dynamicFormService: DynamicFormService,\n              private translateService: TranslateService,\n              private router: Router) {\n\n  }\n\n  ngOnInit(): void {\n\n    this.initValues();\n  }\n\n  /**\n   * Initializes the form based on the provided bitstream format\n   */\n  initValues() {\n    this.formModel.forEach(\n      (fieldModel: DynamicFormControlModel) => {\n        if (fieldModel.name === 'extensions') {\n          if (hasValue(this.bitstreamFormat.extensions)) {\n            const extenstions = this.bitstreamFormat.extensions;\n            const formArray = (fieldModel as DynamicFormArrayModel);\n            for (let i = 0; i < extenstions.length; i++) {\n              formArray.insertGroup(i).group[0] = new DynamicInputModel({\n                id: `extension-${i}`,\n                value: extenstions[i]\n              }, this.arrayInputElementLayout);\n            }\n          }\n        } else {\n          if (hasValue(this.bitstreamFormat[fieldModel.name])) {\n            (fieldModel as DynamicInputModel).value = this.bitstreamFormat[fieldModel.name];\n          }\n        }\n      });\n  }\n\n  /**\n   * Creates an updated bistream format based on the current values in the form\n   * Emits the updated bitstream format trouhg the updatedFormat emitter\n   */\n  onSubmit() {\n    const updatedBitstreamFormat = Object.assign(new BitstreamFormat(),\n      {\n        id: this.bitstreamFormat.id\n      });\n\n    this.formModel.forEach(\n      (fieldModel: DynamicFormControlModel) => {\n        if (fieldModel.name === 'extensions') {\n          const formArray = (fieldModel as DynamicFormArrayModel);\n          const extensions = [];\n          for (let i = 0; i < formArray.groups.length; i++) {\n            const value = (formArray.get(i).get(0) as DynamicInputModel).value;\n            if (!isEmpty(value)) {\n              extensions.push((formArray.get(i).get(0) as DynamicInputModel).value);\n            }\n          }\n          updatedBitstreamFormat.extensions = extensions;\n        } else {\n          updatedBitstreamFormat[fieldModel.name] = (fieldModel as DynamicInputModel).value;\n        }\n      });\n    this.updatedFormat.emit(updatedBitstreamFormat);\n  }\n\n  /**\n   * Cancels the edit/create action of the bitstream format and navigates back to the bitstream format registry\n   */\n  onCancel() {\n    this.router.navigate([getBitstreamFormatsModuleRoute()]);\n  }\n}\n","import { map } from 'rxjs/operators';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Component, OnInit } from '@angular/core';\nimport { RemoteData } from '../../../../core/data/remote-data';\nimport { BitstreamFormat } from '../../../../core/shared/bitstream-format.model';\nimport { BitstreamFormatDataService } from '../../../../core/data/bitstream-format-data.service';\nimport { NotificationsService } from '../../../../shared/notifications/notifications.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { getBitstreamFormatsModuleRoute } from '../../admin-registries-routing-paths';\nimport { getFirstCompletedRemoteData } from '../../../../core/shared/operators';\n\n/**\n * This component renders the edit page of a bitstream format.\n * The route parameter 'id' is used to request the bitstream format.\n */\n@Component({\n  selector: 'ds-edit-bitstream-format',\n  templateUrl: './edit-bitstream-format.component.html',\n})\nexport class EditBitstreamFormatComponent implements OnInit {\n\n  /**\n   * The bitstream format wrapped in a remote-data object\n   */\n  bitstreamFormatRD$: Observable<RemoteData<BitstreamFormat>>;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private notificationService: NotificationsService,\n    private translateService: TranslateService,\n    private bitstreamFormatDataService: BitstreamFormatDataService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.bitstreamFormatRD$ = this.route.data.pipe(\n      map((data) => data.bitstreamFormat as RemoteData<BitstreamFormat>)\n    );\n  }\n\n  /**\n   * Updates the bitstream format based on the provided bitstream format emitted by the form.\n   * When successful, a success notification will be shown and the user will be navigated back to the overview page.\n   * When failed, an error  notification will be shown.\n   */\n  updateFormat(bitstreamFormat: BitstreamFormat) {\n    this.bitstreamFormatDataService.updateBitstreamFormat(bitstreamFormat).pipe(\n      getFirstCompletedRemoteData(),\n    ).subscribe((response: RemoteData<BitstreamFormat>) => {\n        if (response.hasSucceeded) {\n          this.notificationService.success(this.translateService.get('admin.registries.bitstream-formats.edit.success.head'),\n            this.translateService.get('admin.registries.bitstream-formats.edit.success.content'));\n          this.router.navigate([getBitstreamFormatsModuleRoute()]);\n        } else {\n          this.notificationService.error('admin.registries.bitstream-formats.edit.failure.head',\n            'admin.registries.bitstream-formats.create.edit.content');\n        }\n      }\n    );\n  }\n}\n","<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col-12 mb-4\">\n            <h2 id=\"sub-header\"\n                class=\"border-bottom mb-2\">{{'admin.registries.bitstream-formats.edit.head' | translate:{format: (bitstreamFormatRD$ | async)?.payload.shortDescription} }}</h2>\n\n             <ds-bitstream-format-form [bitstreamFormat]=\"(bitstreamFormatRD$ | async)?.payload\" (updatedFormat)=\"updateFormat($event)\"></ds-bitstream-format-form>\n\n        </div>\n    </div>\n</div>","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { RemoteData } from '../../../core/data/remote-data';\nimport { BitstreamFormat } from '../../../core/shared/bitstream-format.model';\nimport { BitstreamFormatDataService } from '../../../core/data/bitstream-format-data.service';\nimport { getFirstCompletedRemoteData } from '../../../core/shared/operators';\n\n/**\n * This class represents a resolver that requests a specific bitstreamFormat before the route is activated\n */\n@Injectable()\nexport class BitstreamFormatsResolver implements Resolve<RemoteData<BitstreamFormat>> {\n  constructor(private bitstreamFormatDataService: BitstreamFormatDataService) {\n  }\n\n  /**\n   * Method for resolving an bitstreamFormat based on the parameters in the current route\n   * @param {ActivatedRouteSnapshot} route The current ActivatedRouteSnapshot\n   * @param {RouterStateSnapshot} state The current RouterStateSnapshot\n   * @returns Observable<<RemoteData<BitstreamFormat>> Emits the found bitstreamFormat based on the parameters in the current route,\n   * or an error if something went wrong\n   */\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<RemoteData<BitstreamFormat>> {\n    return this.bitstreamFormatDataService.findById(route.params.id)\n      .pipe(\n        getFirstCompletedRemoteData()\n      );\n  }\n}\n","import { Router } from '@angular/router';\nimport { Component } from '@angular/core';\nimport { BitstreamFormat } from '../../../../core/shared/bitstream-format.model';\nimport { BitstreamFormatDataService } from '../../../../core/data/bitstream-format-data.service';\nimport { NotificationsService } from '../../../../shared/notifications/notifications.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { getBitstreamFormatsModuleRoute } from '../../admin-registries-routing-paths';\nimport { RemoteData } from '../../../../core/data/remote-data';\nimport { getFirstCompletedRemoteData } from '../../../../core/shared/operators';\n\n/**\n * This component renders the page to create a new bitstream format.\n */\n@Component({\n  selector: 'ds-add-bitstream-format',\n  templateUrl: './add-bitstream-format.component.html',\n})\nexport class AddBitstreamFormatComponent {\n\n  constructor(\n    private router: Router,\n    private notificationService: NotificationsService,\n    private translateService: TranslateService,\n    private bitstreamFormatDataService: BitstreamFormatDataService,\n  ) {\n  }\n\n  /**\n   * Creates a new bitstream format based on the provided bitstream format emitted by the form.\n   * When successful, a success notification will be shown and the user will be navigated back to the overview page.\n   * When failed, an error  notification will be shown.\n   * @param bitstreamFormat\n   */\n  createBitstreamFormat(bitstreamFormat: BitstreamFormat) {\n    this.bitstreamFormatDataService.createBitstreamFormat(bitstreamFormat).pipe(\n      getFirstCompletedRemoteData(),\n    ).subscribe((response: RemoteData<BitstreamFormat>) => {\n        if (response.hasSucceeded) {\n          this.notificationService.success(this.translateService.get('admin.registries.bitstream-formats.create.success.head'),\n            this.translateService.get('admin.registries.bitstream-formats.create.success.content'));\n          this.router.navigate([getBitstreamFormatsModuleRoute()]);\n          this.bitstreamFormatDataService.clearBitStreamFormatRequests().subscribe();\n        } else {\n          this.notificationService.error(this.translateService.get('admin.registries.bitstream-formats.create.failure.head'),\n            this.translateService.get('admin.registries.bitstream-formats.create.failure.content'));\n        }\n      }\n    );\n  }\n}\n","<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col-12 mb-4\">\n            <h2 id=\"sub-header\"\n                class=\"border-bottom mb-2\">{{ 'admin.registries.bitstream-formats.create.new' | translate }}</h2>\n\n            <ds-bitstream-format-form (updatedFormat)=\"createBitstreamFormat($event)\"></ds-bitstream-format-form>\n\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { BitstreamFormatsResolver } from './bitstream-formats.resolver';\nimport { EditBitstreamFormatComponent } from './edit-bitstream-format/edit-bitstream-format.component';\nimport { BitstreamFormatsComponent } from './bitstream-formats.component';\nimport { AddBitstreamFormatComponent } from './add-bitstream-format/add-bitstream-format.component';\nimport { I18nBreadcrumbResolver } from '../../../core/breadcrumbs/i18n-breadcrumb.resolver';\n\nconst BITSTREAMFORMAT_EDIT_PATH = ':id/edit';\nconst BITSTREAMFORMAT_ADD_PATH = 'add';\n\n@NgModule({\n  imports: [\n    RouterModule.forChild([\n      {\n        path: '',\n        component: BitstreamFormatsComponent\n      },\n      {\n        path: BITSTREAMFORMAT_ADD_PATH,\n        resolve: { breadcrumb: I18nBreadcrumbResolver },\n        component: AddBitstreamFormatComponent,\n        data: {breadcrumbKey: 'admin.registries.bitstream-formats.create'}\n      },\n      {\n        path: BITSTREAMFORMAT_EDIT_PATH,\n        component: EditBitstreamFormatComponent,\n        resolve: {\n          bitstreamFormat: BitstreamFormatsResolver,\n          breadcrumb: I18nBreadcrumbResolver\n        },\n        data: {breadcrumbKey: 'admin.registries.bitstream-formats.edit'}\n      },\n    ])\n  ],\n  providers: [\n    BitstreamFormatsResolver,\n  ]\n})\nexport class BitstreamFormatsRoutingModule {\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { BitstreamFormatsComponent } from './bitstream-formats.component';\nimport { SharedModule } from '../../../shared/shared.module';\nimport { FormatFormComponent } from './format-form/format-form.component';\nimport { EditBitstreamFormatComponent } from './edit-bitstream-format/edit-bitstream-format.component';\nimport { BitstreamFormatsRoutingModule } from './bitstream-formats-routing.module';\nimport { AddBitstreamFormatComponent } from './add-bitstream-format/add-bitstream-format.component';\nimport { FormModule } from '../../../shared/form/form.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    RouterModule,\n    BitstreamFormatsRoutingModule,\n    FormModule\n  ],\n  declarations: [\n    BitstreamFormatsComponent,\n    EditBitstreamFormatComponent,\n    AddBitstreamFormatComponent,\n    FormatFormComponent\n  ]\n})\nexport class BitstreamFormatsModule {\n\n}\n","import { URLCombiner } from '../core/url-combiner/url-combiner';\nimport { getAdminModuleRoute } from '../app-routing-paths';\n\nexport const REGISTRIES_MODULE_PATH = 'registries';\n\nexport function getRegistriesModuleRoute() {\n  return new URLCombiner(getAdminModuleRoute(), REGISTRIES_MODULE_PATH).toString();\n}\n","import { PaginationComponentOptions } from './pagination-component-options.model';\nimport { FindListOptions } from '../../core/data/request.models';\n\n/**\n * Transform a PaginationComponentOptions object into a FindListOptions object\n * @param pagination  The PaginationComponentOptions to transform\n * @param original    An original FindListOptions object to start from\n */\nexport function toFindListOptions(pagination: PaginationComponentOptions, original?: FindListOptions): FindListOptions {\n  return Object.assign(new FindListOptions(), original, {\n    currentPage: pagination.currentPage,\n    elementsPerPage: pagination.pageSize\n  });\n}\n","<div *ngIf=\"registryService.getActiveMetadataSchema() | async; then editheader; else createHeader\"></div>\n\n<ng-template #createHeader>\n    <h4>{{messagePrefix + '.create' |translate}}</h4>\n</ng-template>\n\n<ng-template #editheader>\n    <h4>{{messagePrefix + '.edit' |translate}}</h4>\n</ng-template>\n\n<ds-form [formId]=\"formId\"\n         [formModel]=\"formModel\"\n         [formGroup]=\"formGroup\"\n         [formLayout]=\"formLayout\"\n         (cancel)=\"onCancel()\"\n         (submitForm)=\"onSubmit()\">\n\n</ds-form>\n","import { Component, EventEmitter, OnDestroy, OnInit, Output } from '@angular/core';\nimport {\n  DynamicFormControlModel,\n  DynamicFormGroupModel,\n  DynamicFormLayout,\n  DynamicInputModel\n} from '@ng-dynamic-forms/core';\nimport { FormGroup } from '@angular/forms';\nimport { RegistryService } from '../../../../core/registry/registry.service';\nimport { FormBuilderService } from '../../../../shared/form/builder/form-builder.service';\nimport { take } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\nimport { combineLatest } from 'rxjs';\nimport { MetadataSchema } from '../../../../core/metadata/metadata-schema.model';\n\n@Component({\n  selector: 'ds-metadata-schema-form',\n  templateUrl: './metadata-schema-form.component.html'\n})\n/**\n * A form used for creating and editing metadata schemas\n */\nexport class MetadataSchemaFormComponent implements OnInit, OnDestroy {\n\n  /**\n   * A unique id used for ds-form\n   */\n  formId = 'metadata-schema-form';\n\n  /**\n   * The prefix for all messages related to this form\n   */\n  messagePrefix = 'admin.registries.metadata.form';\n\n  /**\n   * A dynamic input model for the name field\n   */\n  name: DynamicInputModel;\n\n  /**\n   * A dynamic input model for the namespace field\n   */\n  namespace: DynamicInputModel;\n\n  /**\n   * A list of all dynamic input models\n   */\n  formModel: DynamicFormControlModel[];\n\n  /**\n   * Layout used for structuring the form inputs\n   */\n  formLayout: DynamicFormLayout = {\n    name: {\n      grid: {\n        host: 'col col-sm-6 d-inline-block'\n      }\n    },\n    namespace: {\n      grid: {\n        host: 'col col-sm-6 d-inline-block'\n      }\n    }\n  };\n\n  /**\n   * A FormGroup that combines all inputs\n   */\n  formGroup: FormGroup;\n\n  /**\n   * An EventEmitter that's fired whenever the form is being submitted\n   */\n  @Output() submitForm: EventEmitter<any> = new EventEmitter();\n\n  constructor(public registryService: RegistryService, private formBuilderService: FormBuilderService, private translateService: TranslateService) {\n  }\n\n  ngOnInit() {\n    combineLatest(\n      this.translateService.get(`${this.messagePrefix}.name`),\n      this.translateService.get(`${this.messagePrefix}.namespace`)\n    ).subscribe(([name, namespace]) => {\n      this.name = new DynamicInputModel({\n          id: 'name',\n          label: name,\n          name: 'name',\n          validators: {\n            required: null,\n            pattern: '^[^ ,_]{1,32}$'\n          },\n          required: true,\n        });\n      this.namespace = new DynamicInputModel({\n          id: 'namespace',\n          label: namespace,\n          name: 'namespace',\n          validators: {\n            required: null,\n          },\n          required: true,\n        });\n      this.formModel = [\n        new DynamicFormGroupModel(\n          {\n            id: 'metadatadataschemagroup',\n            group:[this.namespace, this.name]\n          })\n      ];\n      this.formGroup = this.formBuilderService.createFormGroup(this.formModel);\n      this.registryService.getActiveMetadataSchema().subscribe((schema) => {\n        this.formGroup.patchValue({\n          metadatadataschemagroup:{\n            name: schema != null ? schema.prefix : '',\n            namespace: schema != null ? schema.namespace : ''\n          }\n        });\n      });\n    });\n  }\n\n  /**\n   * Stop editing the currently selected metadata schema\n   */\n  onCancel() {\n    this.registryService.cancelEditMetadataSchema();\n  }\n\n  /**\n   * Submit the form\n   * When the schema has an id attached -> Edit the schema\n   * When the schema has no id attached -> Create new schema\n   * Emit the updated/created schema using the EventEmitter submitForm\n   */\n  onSubmit() {\n    this.registryService.clearMetadataSchemaRequests().subscribe();\n    this.registryService.getActiveMetadataSchema().pipe(take(1)).subscribe(\n      (schema) => {\n        const values = {\n          prefix: this.name.value,\n          namespace: this.namespace.value\n        };\n        if (schema == null) {\n          this.registryService.createOrUpdateMetadataSchema(Object.assign(new MetadataSchema(), values)).subscribe((newSchema) => {\n            this.submitForm.emit(newSchema);\n          });\n        } else {\n          this.registryService.createOrUpdateMetadataSchema(Object.assign(new MetadataSchema(), schema, {\n            id: schema.id,\n            prefix: (values.prefix ? values.prefix : schema.prefix),\n            namespace: (values.namespace ? values.namespace : schema.namespace)\n          })).subscribe((updatedSchema) => {\n            this.submitForm.emit(updatedSchema);\n          });\n        }\n        this.clearFields();\n        this.registryService.cancelEditMetadataSchema();\n      }\n    );\n  }\n\n  /**\n   * Reset all input-fields to be empty\n   */\n  clearFields() {\n    this.formGroup.patchValue({\n      metadatadataschemagroup:{\n        prefix: '',\n        namespace: ''\n      }\n    });\n  }\n\n  /**\n   * Cancel the current edit when component is destroyed\n   */\n  ngOnDestroy(): void {\n    this.onCancel();\n  }\n}\n","<div class=\"container\">\n    <div class=\"metadata-registry row\">\n        <div class=\"col-12\">\n\n            <h2 id=\"header\" class=\"border-bottom pb-2\">{{'admin.registries.metadata.head' | translate}}</h2>\n\n            <p id=\"description\" class=\"pb-2\">{{'admin.registries.metadata.description' | translate}}</p>\n\n            <ds-metadata-schema-form (submitForm)=\"forceUpdateSchemas()\"></ds-metadata-schema-form>\n\n            <ds-pagination\n                    *ngIf=\"(metadataSchemas | async)?.payload?.totalElements > 0\"\n                    [paginationOptions]=\"config\"\n                    [collectionSize]=\"(metadataSchemas | async)?.payload?.totalElements\"\n                    [hideGear]=\"true\"\n                    [hidePagerWhenSinglePage]=\"true\">\n\n                <div class=\"table-responsive\">\n                    <table id=\"metadata-schemas\" class=\"table table-striped table-hover\">\n                        <thead>\n                        <tr>\n                            <th scope=\"col\"></th>\n                            <th scope=\"col\">{{'admin.registries.metadata.schemas.table.id' | translate}}</th>\n                            <th scope=\"col\">{{'admin.registries.metadata.schemas.table.namespace' | translate}}</th>\n                            <th scope=\"col\">{{'admin.registries.metadata.schemas.table.name' | translate}}</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor=\"let schema of (metadataSchemas | async)?.payload?.page\"\n                            [ngClass]=\"{'table-primary' : isActive(schema) | async}\">\n                            <td>\n                                <label>\n                                    <input type=\"checkbox\"\n                                           [checked]=\"isSelected(schema) | async\"\n                                           (change)=\"selectMetadataSchema(schema, $event)\"\n                                    >\n                                </label>\n                            </td>\n                            <td class=\"selectable-row\" (click)=\"editSchema(schema)\"><a [routerLink]=\"[schema.prefix]\">{{schema.id}}</a></td>\n                            <td class=\"selectable-row\" (click)=\"editSchema(schema)\"><a [routerLink]=\"[schema.prefix]\">{{schema.namespace}}</a></td>\n                            <td class=\"selectable-row\" (click)=\"editSchema(schema)\"><a [routerLink]=\"[schema.prefix]\">{{schema.prefix}}</a></td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </div>\n\n            </ds-pagination>\n\n            <div *ngIf=\"(metadataSchemas | async)?.payload?.totalElements == 0\" class=\"alert alert-info w-100 mb-2\" role=\"alert\">\n              {{'admin.registries.metadata.schemas.no-items' | translate}}\n            </div>\n\n            <div>\n              <button *ngIf=\"(metadataSchemas | async)?.payload?.page?.length > 0\" type=\"submit\" class=\"btn btn-danger float-right\" (click)=\"deleteSchemas()\">{{'admin.registries.metadata.schemas.table.delete' | translate}}</button>\n            </div>\n\n        </div>\n    </div>\n</div>\n","import { Component } from '@angular/core';\nimport { RegistryService } from '../../../core/registry/registry.service';\nimport { BehaviorSubject, combineLatest as observableCombineLatest, Observable, zip } from 'rxjs';\nimport { RemoteData } from '../../../core/data/remote-data';\nimport { PaginatedList } from '../../../core/data/paginated-list.model';\nimport { PaginationComponentOptions } from '../../../shared/pagination/pagination-component-options.model';\nimport { filter, map, switchMap, take } from 'rxjs/operators';\nimport { hasValue } from '../../../shared/empty.util';\nimport { NotificationsService } from '../../../shared/notifications/notifications.service';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MetadataSchema } from '../../../core/metadata/metadata-schema.model';\nimport { toFindListOptions } from '../../../shared/pagination/pagination.utils';\nimport { NoContent } from '../../../core/shared/NoContent.model';\nimport { getFirstCompletedRemoteData } from '../../../core/shared/operators';\nimport { PaginationService } from '../../../core/pagination/pagination.service';\n\n@Component({\n  selector: 'ds-metadata-registry',\n  templateUrl: './metadata-registry.component.html',\n  styleUrls: ['./metadata-registry.component.scss']\n})\n/**\n * A component used for managing all existing metadata schemas within the repository.\n * The admin can create, edit or delete metadata schemas here.\n */\nexport class MetadataRegistryComponent {\n\n  /**\n   * A list of all the current metadata schemas within the repository\n   */\n  metadataSchemas: Observable<RemoteData<PaginatedList<MetadataSchema>>>;\n\n  /**\n   * Pagination config used to display the list of metadata schemas\n   */\n  config: PaginationComponentOptions = Object.assign(new PaginationComponentOptions(), {\n    id: 'rm',\n    pageSize: 25\n  });\n\n  /**\n   * Whether or not the list of MetadataSchemas needs an update\n   */\n  needsUpdate$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(true);\n\n  constructor(private registryService: RegistryService,\n              private notificationsService: NotificationsService,\n              private router: Router,\n              private paginationService: PaginationService,\n              private translateService: TranslateService) {\n    this.updateSchemas();\n  }\n\n  /**\n   * Update the list of schemas by fetching it from the rest api or cache\n   */\n  private updateSchemas() {\n\n    this.metadataSchemas = this.needsUpdate$.pipe(\n      filter((update) => update === true),\n      switchMap(() => this.paginationService.getCurrentPagination(this.config.id, this.config)),\n      switchMap((currentPagination) => this.registryService.getMetadataSchemas(toFindListOptions(currentPagination)))\n    );\n  }\n\n  /**\n   * Force-update the list of schemas by first clearing the cache related to metadata schemas, then performing\n   * a new REST call\n   */\n  public forceUpdateSchemas() {\n    this.needsUpdate$.next(true);\n  }\n\n  /**\n   * Start editing the selected metadata schema\n   * @param schema\n   */\n  editSchema(schema: MetadataSchema) {\n    this.getActiveSchema().pipe(take(1)).subscribe((activeSchema) => {\n      if (schema === activeSchema) {\n        this.registryService.cancelEditMetadataSchema();\n      } else {\n        this.registryService.editMetadataSchema(schema);\n      }\n    });\n  }\n\n  /**\n   * Checks whether the given metadata schema is active (being edited)\n   * @param schema\n   */\n  isActive(schema: MetadataSchema): Observable<boolean> {\n    return this.getActiveSchema().pipe(\n      map((activeSchema) => schema === activeSchema)\n    );\n  }\n\n  /**\n   * Gets the active metadata schema (being edited)\n   */\n  getActiveSchema(): Observable<MetadataSchema> {\n    return this.registryService.getActiveMetadataSchema();\n  }\n\n  /**\n   * Select a metadata schema within the list (checkbox)\n   * @param schema\n   * @param event\n   */\n  selectMetadataSchema(schema: MetadataSchema, event) {\n    event.target.checked ?\n      this.registryService.selectMetadataSchema(schema) :\n      this.registryService.deselectMetadataSchema(schema);\n  }\n\n  /**\n   * Checks whether a given metadata schema is selected in the list (checkbox)\n   * @param schema\n   */\n  isSelected(schema: MetadataSchema): Observable<boolean> {\n    return this.registryService.getSelectedMetadataSchemas().pipe(\n      map((schemas) => schemas.find((selectedSchema) => selectedSchema === schema) != null)\n    );\n  }\n\n  /**\n   * Delete all the selected metadata schemas\n   */\n  deleteSchemas() {\n    this.registryService.clearMetadataSchemaRequests().subscribe();\n    this.registryService.getSelectedMetadataSchemas().pipe(take(1)).subscribe(\n      (schemas) => {\n        const tasks$ = [];\n        for (const schema of schemas) {\n          if (hasValue(schema.id)) {\n            tasks$.push(this.registryService.deleteMetadataSchema(schema.id).pipe(getFirstCompletedRemoteData()));\n          }\n        }\n        zip(...tasks$).subscribe((responses: RemoteData<NoContent>[]) => {\n          const successResponses = responses.filter((response: RemoteData<NoContent>) => response.hasSucceeded);\n          const failedResponses = responses.filter((response: RemoteData<NoContent>) => response.hasFailed);\n          if (successResponses.length > 0) {\n            this.showNotification(true, successResponses.length);\n          }\n          if (failedResponses.length > 0) {\n            this.showNotification(false, failedResponses.length);\n          }\n          this.registryService.deselectAllMetadataSchema();\n          this.registryService.cancelEditMetadataSchema();\n          this.forceUpdateSchemas();\n        });\n      }\n    );\n  }\n\n  /**\n   * Show notifications for an amount of deleted metadata schemas\n   * @param success   Whether or not the notification should be a success message (error message when false)\n   * @param amount    The amount of deleted metadata schemas\n   */\n  showNotification(success: boolean, amount: number) {\n    const prefix = 'admin.registries.schema.notification';\n    const suffix = success ? 'success' : 'failure';\n    const messages = observableCombineLatest(\n      this.translateService.get(success ? `${prefix}.${suffix}` : `${prefix}.${suffix}`),\n      this.translateService.get(`${prefix}.deleted.${suffix}`, {amount: amount})\n    );\n    messages.subscribe(([head, content]) => {\n      if (success) {\n        this.notificationsService.success(head, content);\n      } else {\n        this.notificationsService.error(head, content);\n      }\n    });\n  }\n  ngOnDestroy(): void {\n    this.paginationService.clearPagination(this.config.id);\n  }\n\n}\n","<div *ngIf=\"registryService.getActiveMetadataField() | async; then editheader; else createHeader\"></div>\n\n<ng-template #createHeader>\n    <h4>{{messagePrefix + '.create' | translate}}</h4>\n</ng-template>\n\n<ng-template #editheader>\n    <h4>{{messagePrefix + '.edit' | translate}}</h4>\n</ng-template>\n\n<ds-form [formId]=\"formId\"\n         [formModel]=\"formModel\"\n         [formLayout]=\"formLayout\"\n         [formGroup]=\"formGroup\"\n         (cancel)=\"onCancel()\"\n         (submit)=\"onSubmit()\">\n\n</ds-form>\n","import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport {\n  DynamicFormControlModel,\n  DynamicFormGroupModel,\n  DynamicFormLayout,\n  DynamicInputModel\n} from '@ng-dynamic-forms/core';\nimport { FormGroup } from '@angular/forms';\nimport { RegistryService } from '../../../../core/registry/registry.service';\nimport { FormBuilderService } from '../../../../shared/form/builder/form-builder.service';\nimport { take } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\nimport { combineLatest } from 'rxjs';\nimport { MetadataSchema } from '../../../../core/metadata/metadata-schema.model';\nimport { MetadataField } from '../../../../core/metadata/metadata-field.model';\n\n@Component({\n  selector: 'ds-metadata-field-form',\n  templateUrl: './metadata-field-form.component.html'\n})\n/**\n * A form used for creating and editing metadata fields\n */\nexport class MetadataFieldFormComponent implements OnInit, OnDestroy {\n\n  /**\n   * A unique id used for ds-form\n   */\n  formId = 'metadata-field-form';\n\n  /**\n   * The prefix for all messages related to this form\n   */\n  messagePrefix = 'admin.registries.schema.form';\n\n  /**\n   * The metadata schema this field is attached to\n   */\n  @Input() metadataSchema: MetadataSchema;\n\n  /**\n   * A dynamic input model for the element field\n   */\n  element: DynamicInputModel;\n\n  /**\n   * A dynamic input model for the qualifier field\n   */\n  qualifier: DynamicInputModel;\n\n  /**\n   * A dynamic input model for the scopeNote field\n   */\n  scopeNote: DynamicInputModel;\n\n  /**\n   * A list of all dynamic input models\n   */\n  formModel: DynamicFormControlModel[];\n\n  /**\n   * Layout used for structuring the form inputs\n   */\n  formLayout: DynamicFormLayout = {\n    element: {\n      grid: {\n        host: 'col col-sm-6 d-inline-block'\n      }\n    },\n    qualifier: {\n      grid: {\n        host: 'col col-sm-6 d-inline-block'\n      }\n    },\n    scopeNote: {\n      grid: {\n        host: 'col col-sm-12 d-inline-block'\n      }\n    }\n  };\n\n  /**\n   * A FormGroup that combines all inputs\n   */\n  formGroup: FormGroup;\n\n  /**\n   * An EventEmitter that's fired whenever the form is being submitted\n   */\n  @Output() submitForm: EventEmitter<any> = new EventEmitter();\n\n  constructor(public registryService: RegistryService,\n              private formBuilderService: FormBuilderService,\n              private translateService: TranslateService) {\n  }\n\n  /**\n   * Initialize the component, setting up the necessary Models for the dynamic form\n   */\n  ngOnInit() {\n    combineLatest(\n      this.translateService.get(`${this.messagePrefix}.element`),\n      this.translateService.get(`${this.messagePrefix}.qualifier`),\n      this.translateService.get(`${this.messagePrefix}.scopenote`)\n    ).subscribe(([element, qualifier, scopenote]) => {\n      this.element = new DynamicInputModel({\n        id: 'element',\n        label: element,\n        name: 'element',\n        validators: {\n          required: null,\n        },\n        required: true,\n      });\n      this.qualifier = new DynamicInputModel({\n        id: 'qualifier',\n        label: qualifier,\n        name: 'qualifier',\n        required: false,\n      });\n      this.scopeNote = new DynamicInputModel({\n        id: 'scopeNote',\n        label: scopenote,\n        name: 'scopeNote',\n        required: false,\n      });\n      this.formModel = [\n        new DynamicFormGroupModel(\n        {\n          id: 'metadatadatafieldgroup',\n          group:[this.element, this.qualifier, this.scopeNote]\n        })\n      ];\n      this.formGroup = this.formBuilderService.createFormGroup(this.formModel);\n      this.registryService.getActiveMetadataField().subscribe((field) => {\n        this.formGroup.patchValue({\n          metadatadatafieldgroup: {\n            element: field != null ? field.element : '',\n            qualifier: field != null ? field.qualifier : '',\n            scopeNote: field != null ? field.scopeNote : ''\n          }\n        });\n      });\n    });\n  }\n\n  /**\n   * Stop editing the currently selected metadata field\n   */\n  onCancel() {\n    this.registryService.cancelEditMetadataField();\n  }\n\n  /**\n   * Submit the form\n   * When the field has an id attached -> Edit the field\n   * When the field has no id attached -> Create new field\n   * Emit the updated/created field using the EventEmitter submitForm\n   */\n  onSubmit() {\n    this.registryService.getActiveMetadataField().pipe(take(1)).subscribe(\n      (field) => {\n        const values = {\n          element: this.element.value,\n          qualifier: this.qualifier.value,\n          scopeNote: this.scopeNote.value\n        };\n        if (field == null) {\n          this.registryService.createMetadataField(Object.assign(new MetadataField(), values), this.metadataSchema).subscribe((newField) => {\n            this.submitForm.emit(newField);\n          });\n        } else {\n          this.registryService.updateMetadataField(Object.assign(new MetadataField(), field, {\n            id: field.id,\n            element: (values.element ? values.element : field.element),\n            qualifier: (values.qualifier ? values.qualifier : field.qualifier),\n            scopeNote: (values.scopeNote ? values.scopeNote : field.scopeNote)\n          })).subscribe((updatedField) => {\n            this.submitForm.emit(updatedField);\n          });\n        }\n        this.clearFields();\n        this.registryService.cancelEditMetadataField();\n      }\n    );\n  }\n\n  /**\n   * Reset all input-fields to be empty\n   */\n  clearFields() {\n    this.formGroup.patchValue({\n      metadatadatafieldgroup: {\n        element: '',\n        qualifier: '',\n        scopeNote: ''\n      }\n    });\n  }\n\n  /**\n   * Cancel the current edit when component is destroyed\n   */\n  ngOnDestroy(): void {\n    this.onCancel();\n  }\n}\n","<div class=\"container\">\n  <div class=\"metadata-schema row\">\n    <div class=\"col-12\" *ngVar=\"(metadataSchema$ | async) as schema\">\n\n      <h2 id=\"header\" class=\"border-bottom pb-2\">{{'admin.registries.schema.head' | translate}}: \"{{schema?.prefix}}\"</h2>\n\n      <p id=\"description\" class=\"pb-2\">{{'admin.registries.schema.description' | translate:{ namespace: schema?.namespace } }}</p>\n\n      <ds-metadata-field-form\n        [metadataSchema]=\"schema\"\n        (submitForm)=\"forceUpdateFields()\"></ds-metadata-field-form>\n\n      <h3>{{'admin.registries.schema.fields.head' | translate}}</h3>\n\n      <ng-container *ngVar=\"(metadataFields$ | async)?.payload as fields\">\n        <ds-pagination\n          *ngIf=\"fields?.totalElements > 0\"\n          [paginationOptions]=\"config\"\n          [pageInfoState]=\"fields\"\n          [collectionSize]=\"fields?.totalElements\"\n          [hideGear]=\"false\"\n          [hidePagerWhenSinglePage]=\"true\">\n          <div class=\"table-responsive\">\n            <table id=\"metadata-fields\" class=\"table table-striped table-hover\">\n              <thead>\n              <tr>\n                <th></th>\n                <th scope=\"col\">{{'admin.registries.schema.fields.table.field' | translate}}</th>\n                <th scope=\"col\">{{'admin.registries.schema.fields.table.scopenote' | translate}}</th>\n              </tr>\n              </thead>\n              <tbody>\n              <tr *ngFor=\"let field of fields?.page\"\n                  [ngClass]=\"{'table-primary' : isActive(field) | async}\">\n                <td>\n                  <label>\n                    <input type=\"checkbox\"\n                           [checked]=\"isSelected(field) | async\"\n                           (change)=\"selectMetadataField(field, $event)\">\n                  </label>\n                </td>\n                <td class=\"selectable-row\" (click)=\"editField(field)\">{{schema?.prefix}}.{{field.element}}<label *ngIf=\"field.qualifier\">.</label>{{field.qualifier}}</td>\n                <td class=\"selectable-row\" (click)=\"editField(field)\">{{field.scopeNote}}</td>\n              </tr>\n              </tbody>\n            </table>\n          </div>\n        </ds-pagination>\n\n        <div *ngIf=\"fields?.totalElements == 0\" class=\"alert alert-info w-100 mb-2\" role=\"alert\">\n          {{'admin.registries.schema.fields.no-items' | translate}}\n        </div>\n\n        <div>\n          <button [routerLink]=\"['/admin/registries/metadata']\" class=\"btn btn-primary\">{{'admin.registries.schema.return' | translate}}</button>\n          <button *ngIf=\"fields?.page?.length > 0\" type=\"submit\" class=\"btn btn-danger float-right\" (click)=\"deleteFields()\">{{'admin.registries.schema.fields.table.delete' | translate}}</button>\n        </div>\n      </ng-container>\n\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { RegistryService } from '../../../core/registry/registry.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {\n  BehaviorSubject,\n  combineLatest as observableCombineLatest,\n  combineLatest,\n  Observable,\n  of as observableOf,\n  zip\n} from 'rxjs';\nimport { RemoteData } from '../../../core/data/remote-data';\nimport { PaginatedList } from '../../../core/data/paginated-list.model';\nimport { PaginationComponentOptions } from '../../../shared/pagination/pagination-component-options.model';\nimport { map, switchMap, take } from 'rxjs/operators';\nimport { hasValue } from '../../../shared/empty.util';\nimport { NotificationsService } from '../../../shared/notifications/notifications.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MetadataField } from '../../../core/metadata/metadata-field.model';\nimport { MetadataSchema } from '../../../core/metadata/metadata-schema.model';\nimport { getFirstCompletedRemoteData, getFirstSucceededRemoteDataPayload } from '../../../core/shared/operators';\nimport { toFindListOptions } from '../../../shared/pagination/pagination.utils';\nimport { NoContent } from '../../../core/shared/NoContent.model';\nimport { PaginationService } from '../../../core/pagination/pagination.service';\n\n@Component({\n  selector: 'ds-metadata-schema',\n  templateUrl: './metadata-schema.component.html',\n  styleUrls: ['./metadata-schema.component.scss']\n})\n/**\n * A component used for managing all existing metadata fields within the current metadata schema.\n * The admin can create, edit or delete metadata fields here.\n */\nexport class MetadataSchemaComponent implements OnInit {\n  /**\n   * The metadata schema\n   */\n  metadataSchema$: Observable<MetadataSchema>;\n\n  /**\n   * A list of all the fields attached to this metadata schema\n   */\n  metadataFields$: Observable<RemoteData<PaginatedList<MetadataField>>>;\n\n  /**\n   * Pagination config used to display the list of metadata fields\n   */\n  config: PaginationComponentOptions = Object.assign(new PaginationComponentOptions(), {\n    id: 'rm',\n    pageSize: 25,\n    pageSizeOptions: [25, 50, 100, 200]\n  });\n\n  /**\n   * Whether or not the list of MetadataFields needs an update\n   */\n  needsUpdate$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(true);\n\n  constructor(private registryService: RegistryService,\n              private route: ActivatedRoute,\n              private notificationsService: NotificationsService,\n              private router: Router,\n              private paginationService: PaginationService,\n              private translateService: TranslateService) {\n\n  }\n\n  ngOnInit(): void {\n    this.route.params.subscribe((params) => {\n      this.initialize(params);\n    });\n  }\n\n  /**\n   * Initialize the component using the params within the url (schemaName)\n   * @param params\n   */\n  initialize(params) {\n    this.metadataSchema$ = this.registryService.getMetadataSchemaByPrefix(params.schemaName).pipe(getFirstSucceededRemoteDataPayload());\n    this.updateFields();\n  }\n\n  /**\n   * Update the list of fields by fetching it from the rest api or cache\n   */\n  private updateFields() {\n    this.metadataFields$ = this.paginationService.getCurrentPagination(this.config.id, this.config).pipe(\n      switchMap((currentPagination) => combineLatest(this.metadataSchema$, this.needsUpdate$, observableOf(currentPagination))),\n      switchMap(([schema, update, currentPagination]: [MetadataSchema, boolean, PaginationComponentOptions]) => {\n        if (update) {\n          this.needsUpdate$.next(false);\n        }\n        return this.registryService.getMetadataFieldsBySchema(schema, toFindListOptions(currentPagination), !update, true);\n      })\n    );\n  }\n\n  /**\n   * Force-update the list of fields by first clearing the cache related to metadata fields, then performing\n   * a new REST call\n   */\n  public forceUpdateFields() {\n    this.registryService.clearMetadataFieldRequests();\n    this.needsUpdate$.next(true);\n  }\n\n  /**\n   * Start editing the selected metadata field\n   * @param field\n   */\n  editField(field: MetadataField) {\n    this.getActiveField().pipe(take(1)).subscribe((activeField) => {\n      if (field === activeField) {\n        this.registryService.cancelEditMetadataField();\n      } else {\n        this.registryService.editMetadataField(field);\n      }\n    });\n  }\n\n  /**\n   * Checks whether the given metadata field is active (being edited)\n   * @param field\n   */\n  isActive(field: MetadataField): Observable<boolean> {\n    return this.getActiveField().pipe(\n      map((activeField) => field === activeField)\n    );\n  }\n\n  /**\n   * Gets the active metadata field (being edited)\n   */\n  getActiveField(): Observable<MetadataField> {\n    return this.registryService.getActiveMetadataField();\n  }\n\n  /**\n   * Select a metadata field within the list (checkbox)\n   * @param field\n   * @param event\n   */\n  selectMetadataField(field: MetadataField, event) {\n    event.target.checked ?\n      this.registryService.selectMetadataField(field) :\n      this.registryService.deselectMetadataField(field);\n  }\n\n  /**\n   * Checks whether a given metadata field is selected in the list (checkbox)\n   * @param field\n   */\n  isSelected(field: MetadataField): Observable<boolean> {\n    return this.registryService.getSelectedMetadataFields().pipe(\n      map((fields) => fields.find((selectedField) => selectedField === field) != null)\n    );\n  }\n\n  /**\n   * Delete all the selected metadata fields\n   */\n  deleteFields() {\n    this.registryService.getSelectedMetadataFields().pipe(take(1)).subscribe(\n      (fields) => {\n        const tasks$ = [];\n        for (const field of fields) {\n          if (hasValue(field.id)) {\n            tasks$.push(this.registryService.deleteMetadataField(field.id).pipe(getFirstCompletedRemoteData()));\n          }\n        }\n        zip(...tasks$).subscribe((responses: RemoteData<NoContent>[]) => {\n          const successResponses = responses.filter((response: RemoteData<NoContent>) => response.hasSucceeded);\n          const failedResponses = responses.filter((response: RemoteData<NoContent>) => response.hasFailed);\n          if (successResponses.length > 0) {\n            this.showNotification(true, successResponses.length);\n            this.registryService.clearMetadataFieldRequests();\n\n          }\n          if (failedResponses.length > 0) {\n            this.showNotification(false, failedResponses.length);\n          }\n          this.registryService.deselectAllMetadataField();\n          this.registryService.cancelEditMetadataField();\n          this.forceUpdateFields();\n        });\n      }\n    );\n  }\n\n  /**\n   * Show notifications for an amount of deleted metadata fields\n   * @param success   Whether or not the notification should be a success message (error message when false)\n   * @param amount    The amount of deleted metadata fields\n   */\n  showNotification(success: boolean, amount: number) {\n    const prefix = 'admin.registries.schema.notification';\n    const suffix = success ? 'success' : 'failure';\n    const messages = observableCombineLatest(\n      this.translateService.get(success ? `${prefix}.${suffix}` : `${prefix}.${suffix}`),\n      this.translateService.get(`${prefix}.field.deleted.${suffix}`, { amount: amount })\n    );\n    messages.subscribe(([head, content]) => {\n      if (success) {\n        this.notificationsService.success(head, content);\n      } else {\n        this.notificationsService.error(head, content);\n      }\n    });\n  }\n  ngOnDestroy(): void {\n    this.paginationService.clearPagination(this.config.id);\n  }\n\n}\n","import { MetadataRegistryComponent } from './metadata-registry/metadata-registry.component';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { MetadataSchemaComponent } from './metadata-schema/metadata-schema.component';\nimport { I18nBreadcrumbResolver } from '../../core/breadcrumbs/i18n-breadcrumb.resolver';\nimport { BITSTREAMFORMATS_MODULE_PATH } from './admin-registries-routing-paths';\n\n@NgModule({\n  imports: [\n    RouterModule.forChild([\n      {\n        path: 'metadata',\n        resolve: { breadcrumb: I18nBreadcrumbResolver },\n        data: {title: 'admin.registries.metadata.title', breadcrumbKey: 'admin.registries.metadata'},\n        children: [\n          {\n            path: '',\n            component: MetadataRegistryComponent\n          },\n          {\n            path: ':schemaName',\n            resolve: { breadcrumb: I18nBreadcrumbResolver },\n            component: MetadataSchemaComponent,\n            data: {title: 'admin.registries.schema.title', breadcrumbKey: 'admin.registries.schema'}\n          }\n        ]\n      },\n      {\n        path: BITSTREAMFORMATS_MODULE_PATH,\n        resolve: { breadcrumb: I18nBreadcrumbResolver },\n        loadChildren: () => import('./bitstream-formats/bitstream-formats.module')\n          .then((m) => m.BitstreamFormatsModule),\n        data: {title: 'admin.registries.bitstream-formats.title', breadcrumbKey: 'admin.registries.bitstream-formats'}\n      },\n    ])\n  ]\n})\nexport class AdminRegistriesRoutingModule {\n\n}\n","import { NgModule } from '@angular/core';\nimport { MetadataRegistryComponent } from './metadata-registry/metadata-registry.component';\nimport { AdminRegistriesRoutingModule } from './admin-registries-routing.module';\nimport { CommonModule } from '@angular/common';\nimport { MetadataSchemaComponent } from './metadata-schema/metadata-schema.component';\nimport { RouterModule } from '@angular/router';\nimport { SharedModule } from '../../shared/shared.module';\nimport { MetadataSchemaFormComponent } from './metadata-registry/metadata-schema-form/metadata-schema-form.component';\nimport { MetadataFieldFormComponent } from './metadata-schema/metadata-field-form/metadata-field-form.component';\nimport { BitstreamFormatsModule } from './bitstream-formats/bitstream-formats.module';\nimport { FormModule } from '../../shared/form/form.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    RouterModule,\n    BitstreamFormatsModule,\n    AdminRegistriesRoutingModule,\n    FormModule\n  ],\n  declarations: [\n    MetadataRegistryComponent,\n    MetadataSchemaComponent,\n    MetadataSchemaFormComponent,\n    MetadataFieldFormComponent\n  ]\n})\nexport class AdminRegistriesModule {\n\n}\n","import { Location } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport { AuthService } from '../../core/auth/auth.service';\nimport { METADATA_IMPORT_SCRIPT_NAME, ScriptDataService } from '../../core/data/processes/script-data.service';\nimport { EPerson } from '../../core/eperson/models/eperson.model';\nimport { ProcessParameter } from '../../process-page/processes/process-parameter.model';\nimport { isNotEmpty } from '../../shared/empty.util';\nimport { NotificationsService } from '../../shared/notifications/notifications.service';\nimport { RemoteData } from '../../core/data/remote-data';\nimport { Process } from '../../process-page/processes/process.model';\nimport { getFirstCompletedRemoteData } from '../../core/shared/operators';\nimport { getProcessDetailRoute } from '../../process-page/process-page-routing.paths';\n\n@Component({\n  selector: 'ds-metadata-import-page',\n  templateUrl: './metadata-import-page.component.html'\n})\n\n/**\n * Component that represents a metadata import page for administrators\n */\nexport class MetadataImportPageComponent {\n\n  /**\n   * The current value of the file\n   */\n  fileObject: File;\n\n  public constructor(private location: Location,\n                     protected translate: TranslateService,\n                     protected notificationsService: NotificationsService,\n                     private scriptDataService: ScriptDataService,\n                     private router: Router) {\n  }\n\n  /**\n   * Set file\n   * @param file\n   */\n  setFile(file) {\n    this.fileObject = file;\n  }\n\n  /**\n   * When return button is pressed go to previous location\n   */\n  public onReturn() {\n    this.location.back();\n  }\n\n  /**\n   * Starts import-metadata script with -f fileName (and the selected file)\n   */\n  public importMetadata() {\n    if (this.fileObject == null) {\n      this.notificationsService.error(this.translate.get('admin.metadata-import.page.error.addFile'));\n    } else {\n      const parameterValues: ProcessParameter[] = [\n        Object.assign(new ProcessParameter(), { name: '-f', value: this.fileObject.name }),\n      ];\n\n      this.scriptDataService.invoke(METADATA_IMPORT_SCRIPT_NAME, parameterValues, [this.fileObject]).pipe(\n        getFirstCompletedRemoteData(),\n      ).subscribe((rd: RemoteData<Process>) => {\n        if (rd.hasSucceeded) {\n          const title = this.translate.get('process.new.notification.success.title');\n          const content = this.translate.get('process.new.notification.success.content');\n          this.notificationsService.success(title, content);\n          if (isNotEmpty(rd.payload)) {\n            this.router.navigateByUrl(getProcessDetailRoute(rd.payload.processId));\n          }\n        } else {\n          const title = this.translate.get('process.new.notification.error.title');\n          const content = this.translate.get('process.new.notification.error.content');\n          this.notificationsService.error(title, content);\n        }\n      });\n    }\n  }\n}\n","<div class=\"container\">\n  <h2 id=\"header\">{{'admin.metadata-import.page.header' | translate}}</h2>\n  <p>{{'admin.metadata-import.page.help' | translate}}</p>\n\n  <ds-file-dropzone-no-uploader\n    (onFileAdded)=\"setFile($event)\"\n    [dropMessageLabel]=\"'admin.metadata-import.page.dropMsg'\"\n    [dropMessageLabelReplacement]=\"'admin.metadata-import.page.dropMsgReplace'\">\n  </ds-file-dropzone-no-uploader>\n\n  <button class=\"btn btn-secondary\" id=\"backButton\"\n          (click)=\"this.onReturn();\">{{'admin.metadata-import.page.button.return' | translate}}</button>\n  <button class=\"btn btn-primary\" id=\"proceedButton\"\n          (click)=\"this.importMetadata();\">{{'admin.metadata-import.page.button.proceed' | translate}}</button>\n</div>\n","import { Component } from '@angular/core';\nimport { Context } from '../../core/shared/context.model';\n\n@Component({\n  selector: 'ds-admin-search-page',\n  templateUrl: './admin-search-page.component.html',\n  styleUrls: ['./admin-search-page.component.scss']\n})\n\n/**\n * Component that represents a search page for administrators\n */\nexport class AdminSearchPageComponent {\n  /**\n   * The context of this page\n   */\n  context: Context = Context.AdminSearch;\n}\n","<ds-configuration-search-page configuration=\"administrativeView\" [context]=\"context\"></ds-configuration-search-page>\n","import { Component } from '@angular/core';\nimport { Context } from '../../core/shared/context.model';\n\n@Component({\n  selector: 'ds-admin-workflow-page',\n  templateUrl: './admin-workflow-page.component.html',\n  styleUrls: ['./admin-workflow-page.component.scss']\n})\n\n/**\n * Component that represents a workflow item search page for administrators\n */\nexport class AdminWorkflowPageComponent {\n  /**\n   * The context of this page\n   */\n  context: Context = Context.AdminWorkflowSearch;\n}\n","<ds-configuration-search-page configuration=\"workflowAdmin\" [context]=\"context\"></ds-configuration-search-page>\n","import { Component } from '@angular/core';\n\n/**\n * Component responsible for rendering the system wide Curation Task UI\n */\n@Component({\n  selector: 'ds-admin-curation-task',\n  templateUrl: './admin-curation-tasks.component.html',\n})\nexport class AdminCurationTasksComponent {\n\n}\n","<div class=\"container\">\n    <h2>{{'admin.curation-tasks.header' |translate }}</h2>\n    <ds-curation-form></ds-curation-form>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { MetadataImportPageComponent } from './admin-import-metadata-page/metadata-import-page.component';\nimport { AdminSearchPageComponent } from './admin-search-page/admin-search-page.component';\nimport { I18nBreadcrumbResolver } from '../core/breadcrumbs/i18n-breadcrumb.resolver';\nimport { AdminWorkflowPageComponent } from './admin-workflow-page/admin-workflow-page.component';\nimport { I18nBreadcrumbsService } from '../core/breadcrumbs/i18n-breadcrumbs.service';\nimport { AdminCurationTasksComponent } from './admin-curation-tasks/admin-curation-tasks.component';\nimport { REGISTRIES_MODULE_PATH } from './admin-routing-paths';\n\n@NgModule({\n  imports: [\n    RouterModule.forChild([\n      {\n        path: REGISTRIES_MODULE_PATH,\n        loadChildren: () => import('./admin-registries/admin-registries.module')\n          .then((m) => m.AdminRegistriesModule),\n      },\n      {\n        path: 'search',\n        resolve: { breadcrumb: I18nBreadcrumbResolver },\n        component: AdminSearchPageComponent,\n        data: { title: 'admin.search.title', breadcrumbKey: 'admin.search' }\n      },\n      {\n        path: 'workflow',\n        resolve: { breadcrumb: I18nBreadcrumbResolver },\n        component: AdminWorkflowPageComponent,\n        data: { title: 'admin.workflow.title', breadcrumbKey: 'admin.workflow' }\n      },\n      {\n        path: 'curation-tasks',\n        resolve: { breadcrumb: I18nBreadcrumbResolver },\n        component: AdminCurationTasksComponent,\n        data: { title: 'admin.curation-tasks.title', breadcrumbKey: 'admin.curation-tasks' }\n      },\n      {\n        path: 'metadata-import',\n        resolve: { breadcrumb: I18nBreadcrumbResolver },\n        component: MetadataImportPageComponent,\n        data: { title: 'admin.metadata-import.title', breadcrumbKey: 'admin.metadata-import' }\n      },\n    ])\n  ],\n  providers: [\n    I18nBreadcrumbResolver,\n    I18nBreadcrumbsService\n  ]\n})\nexport class AdminRoutingModule {\n\n}\n","<a [ngClass]=\"{'btn-sm': small}\" class=\"btn btn-light my-1 delete-link\" [routerLink]=\"[getDeleteRoute()]\" [title]=\"'admin.workflow.item.delete' | translate\">\n    <i class=\"fa fa-trash\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.workflow.item.delete\" | translate}}</span>\n</a>\n\n<a [ngClass]=\"{'btn-sm': small}\" class=\"btn btn-light my-1 send-back-link\" [routerLink]=\"[getSendBackRoute()]\" [title]=\"'admin.workflow.item.send-back' | translate\">\n    <i class=\"fa fa-hand-point-left\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.workflow.item.send-back\" | translate}}</span>\n</a>\n","import { Component, Input } from '@angular/core';\nimport { WorkflowItem } from '../../../core/submission/models/workflowitem.model';\nimport {\n    getWorkflowItemSendBackRoute,\n    getWorkflowItemDeleteRoute\n} from '../../../workflowitems-edit-page/workflowitems-edit-page-routing-paths';\n\n@Component({\n  selector: 'ds-workflow-item-admin-workflow-actions-element',\n  styleUrls: ['./workflow-item-admin-workflow-actions.component.scss'],\n  templateUrl: './workflow-item-admin-workflow-actions.component.html'\n})\n/**\n * The component for displaying the actions for a list element for an item on the admin workflow search page\n */\nexport class WorkflowItemAdminWorkflowActionsComponent {\n\n  /**\n   * The workflow item to perform the actions on\n   */\n  @Input() public wfi: WorkflowItem;\n\n  /**\n   * Whether or not to use small buttons\n   */\n  @Input() public small: boolean;\n\n  /**\n   * Returns the path to the delete page of this workflow item\n   */\n  getDeleteRoute(): string {\n\n    return getWorkflowItemDeleteRoute(this.wfi.id);\n  }\n\n  /**\n   * Returns the path to the send back page of this workflow item\n   */\n  getSendBackRoute(): string {\n    return getWorkflowItemSendBackRoute(this.wfi.id);\n  }\n}\n","<ng-template dsListableObject>\n</ng-template>\n<div #badges class=\"position-absolute ml-1\">\n    <div class=\"workflow-badge\">\n        <span class=\"badge badge-info\">{{ \"admin.workflow.item.workflow\" | translate }}</span>\n    </div>\n</div>\n<ul #buttons class=\"list-group list-group-flush\">\n    <li class=\"list-group-item\">\n        <ds-workflow-item-admin-workflow-actions-element *ngIf=\"object\" class=\"d-flex justify-content-between\" [wfi]=\"dso\" [small]=\"true\"></ds-workflow-item-admin-workflow-actions-element>\n    </li>\n</ul>\n","import { Component, ComponentFactoryResolver, ElementRef, ViewChild } from '@angular/core';\nimport { Item } from '../../../../../core/shared/item.model';\nimport { ViewMode } from '../../../../../core/shared/view-mode.model';\nimport {\n  getListableObjectComponent,\n  listableObjectComponent\n} from '../../../../../shared/object-collection/shared/listable-object/listable-object.decorator';\nimport { Context } from '../../../../../core/shared/context.model';\nimport { SearchResultGridElementComponent } from '../../../../../shared/object-grid/search-result-grid-element/search-result-grid-element.component';\nimport { TruncatableService } from '../../../../../shared/truncatable/truncatable.service';\nimport { BitstreamDataService } from '../../../../../core/data/bitstream-data.service';\nimport { GenericConstructor } from '../../../../../core/shared/generic-constructor';\nimport { ListableObjectDirective } from '../../../../../shared/object-collection/shared/listable-object/listable-object.directive';\nimport { WorkflowItem } from '../../../../../core/submission/models/workflowitem.model';\nimport { Observable } from 'rxjs';\nimport { LinkService } from '../../../../../core/cache/builders/link.service';\nimport { followLink } from '../../../../../shared/utils/follow-link-config.model';\nimport { RemoteData } from '../../../../../core/data/remote-data';\nimport {\n  getAllSucceededRemoteData,\n  getRemoteDataPayload\n} from '../../../../../core/shared/operators';\nimport { take } from 'rxjs/operators';\nimport { WorkflowItemSearchResult } from '../../../../../shared/object-collection/shared/workflow-item-search-result.model';\nimport { ThemeService } from '../../../../../shared/theme-support/theme.service';\n\n@listableObjectComponent(WorkflowItemSearchResult, ViewMode.GridElement, Context.AdminWorkflowSearch)\n@Component({\n  selector: 'ds-workflow-item-search-result-admin-workflow-grid-element',\n  styleUrls: ['./workflow-item-search-result-admin-workflow-grid-element.component.scss'],\n  templateUrl: './workflow-item-search-result-admin-workflow-grid-element.component.html'\n})\n/**\n * The component for displaying a grid element for an workflow item on the admin workflow search page\n */\nexport class WorkflowItemSearchResultAdminWorkflowGridElementComponent extends SearchResultGridElementComponent<WorkflowItemSearchResult, WorkflowItem> {\n  /**\n   * Directive used to render the dynamic component in\n   */\n  @ViewChild(ListableObjectDirective, { static: true }) listableObjectDirective: ListableObjectDirective;\n\n  /**\n   * The html child that contains the badges html\n   */\n  @ViewChild('badges', { static: true }) badges: ElementRef;\n\n  /**\n   * The html child that contains the button html\n   */\n  @ViewChild('buttons', { static: true }) buttons: ElementRef;\n\n  /**\n   * The item linked to the workflow item\n   */\n  public item$: Observable<Item>;\n\n  constructor(\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private linkService: LinkService,\n    protected truncatableService: TruncatableService,\n    private themeService: ThemeService,\n    protected bitstreamDataService: BitstreamDataService\n  ) {\n    super(truncatableService, bitstreamDataService);\n  }\n\n  /**\n   * Setup the dynamic child component\n   * Initialize the item object from the workflow item\n   */\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.dso = this.linkService.resolveLink(this.dso, followLink('item'));\n    this.item$ = (this.dso.item as Observable<RemoteData<Item>>).pipe(getAllSucceededRemoteData(), getRemoteDataPayload());\n    this.item$.pipe(take(1)).subscribe((item: Item) => {\n        const componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.getComponent(item));\n\n        const viewContainerRef = this.listableObjectDirective.viewContainerRef;\n        viewContainerRef.clear();\n\n        const componentRef = viewContainerRef.createComponent(\n          componentFactory,\n          0,\n          undefined,\n          [\n            [this.badges.nativeElement],\n            [this.buttons.nativeElement]\n          ]);\n        (componentRef.instance as any).object = item;\n        (componentRef.instance as any).index = this.index;\n        (componentRef.instance as any).linkType = this.linkType;\n        (componentRef.instance as any).listID = this.listID;\n        componentRef.changeDetectorRef.detectChanges();\n      }\n    );\n  }\n\n  /**\n   * Fetch the component depending on the item's entity type, view mode and context\n   * @returns {GenericConstructor<Component>}\n   */\n  private getComponent(item: Item): GenericConstructor<Component> {\n    return getListableObjectComponent(item.getRenderTypes(), ViewMode.GridElement, undefined, this.themeService.getThemeName());\n  }\n\n}\n","<div class=\"workflow-badge\">\n    <span class=\"badge badge-info\">{{ \"admin.workflow.item.workflow\" | translate }}</span>\n</div>\n<ds-listable-object-component-loader *ngIf=\"item$ | async\"\n                                     [object]=\"item$ | async\"\n                                     [viewMode]=\"viewModes.ListElement\"\n                                     [index]=\"index\"\n                                     [linkType]=\"linkType\"\n                                     [listID]=\"listID\"></ds-listable-object-component-loader>\n<ds-workflow-item-admin-workflow-actions-element [wfi]=\"dso\" [small]=\"false\"></ds-workflow-item-admin-workflow-actions-element>\n","import { Component, OnInit } from '@angular/core';\nimport { ViewMode } from '../../../../../core/shared/view-mode.model';\nimport { listableObjectComponent } from '../../../../../shared/object-collection/shared/listable-object/listable-object.decorator';\nimport { Context } from '../../../../../core/shared/context.model';\nimport { WorkflowItem } from '../../../../../core/submission/models/workflowitem.model';\nimport { Observable } from 'rxjs';\nimport { LinkService } from '../../../../../core/cache/builders/link.service';\nimport { followLink } from '../../../../../shared/utils/follow-link-config.model';\nimport { RemoteData } from '../../../../../core/data/remote-data';\nimport { getAllSucceededRemoteData, getRemoteDataPayload } from '../../../../../core/shared/operators';\nimport { Item } from '../../../../../core/shared/item.model';\nimport { SearchResultListElementComponent } from '../../../../../shared/object-list/search-result-list-element/search-result-list-element.component';\nimport { TruncatableService } from '../../../../../shared/truncatable/truncatable.service';\nimport { WorkflowItemSearchResult } from '../../../../../shared/object-collection/shared/workflow-item-search-result.model';\nimport { DSONameService } from '../../../../../core/breadcrumbs/dso-name.service';\n\n@listableObjectComponent(WorkflowItemSearchResult, ViewMode.ListElement, Context.AdminWorkflowSearch)\n@Component({\n  selector: 'ds-workflow-item-search-result-admin-workflow-list-element',\n  styleUrls: ['./workflow-item-search-result-admin-workflow-list-element.component.scss'],\n  templateUrl: './workflow-item-search-result-admin-workflow-list-element.component.html'\n})\n/**\n * The component for displaying a list element for an workflow item on the admin workflow search page\n */\nexport class WorkflowItemSearchResultAdminWorkflowListElementComponent extends SearchResultListElementComponent<WorkflowItemSearchResult, WorkflowItem> implements OnInit {\n\n  /**\n   * The item linked to the workflow item\n   */\n  public item$: Observable<Item>;\n\n  constructor(private linkService: LinkService,\n              protected truncatableService: TruncatableService,\n              protected dsoNameService: DSONameService\n  ) {\n    super(truncatableService, dsoNameService);\n  }\n\n  /**\n   * Initialize the item object from the workflow item\n   */\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.dso = this.linkService.resolveLink(this.dso, followLink('item'));\n    this.item$ = (this.dso.item as Observable<RemoteData<Item>>).pipe(getAllSucceededRemoteData(), getRemoteDataPayload());\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { SharedModule } from '../../shared/shared.module';\n\nimport { WorkflowItemSearchResultAdminWorkflowGridElementComponent } from './admin-workflow-search-results/admin-workflow-search-result-grid-element/workflow-item/workflow-item-search-result-admin-workflow-grid-element.component';\nimport { WorkflowItemAdminWorkflowActionsComponent } from './admin-workflow-search-results/workflow-item-admin-workflow-actions.component';\nimport { WorkflowItemSearchResultAdminWorkflowListElementComponent } from './admin-workflow-search-results/admin-workflow-search-result-list-element/workflow-item/workflow-item-search-result-admin-workflow-list-element.component';\nimport { AdminWorkflowPageComponent } from './admin-workflow-page.component';\nimport { SearchModule } from '../../shared/search/search.module';\n\nconst ENTRY_COMPONENTS = [\n  // put only entry components that use custom decorator\n  WorkflowItemSearchResultAdminWorkflowListElementComponent,\n  WorkflowItemSearchResultAdminWorkflowGridElementComponent,\n];\n\n@NgModule({\n  imports: [\n    SearchModule,\n    SharedModule.withEntryComponents()\n  ],\n  declarations: [\n    AdminWorkflowPageComponent,\n    WorkflowItemAdminWorkflowActionsComponent,\n    ...ENTRY_COMPONENTS\n  ],\n  exports: [\n    AdminWorkflowPageComponent\n  ]\n})\nexport class AdminWorkflowModuleModule {\n  /**\n   * NOTE: this method allows to resolve issue with components that using a custom decorator\n   * which are not loaded during SSR otherwise\n   */\n  static withEntryComponents() {\n    return {\n      ngModule: SharedModule,\n      providers: ENTRY_COMPONENTS.map((component) => ({provide: component}))\n    };\n  }\n}\n","<a [ngClass]=\"{'btn-sm': small}\" class=\"btn btn-secondary my-1 move-link\" [routerLink]=\"[getMoveRoute()]\" [title]=\"'admin.search.item.move' | translate\">\n  <i class=\"fa fa-arrow-circle-right\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.search.item.move\" | translate}}</span>\n</a>\n\n<a [ngClass]=\"{'btn-sm': small}\" *ngIf=\"item && item.isDiscoverable\" class=\"btn btn-secondary my-1 private-link\" [routerLink]=\"[getPrivateRoute()]\" [title]=\"'admin.search.item.make-private' | translate\">\n    <i class=\"fa fa-eye-slash\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.search.item.make-private\" | translate}}</span>\n</a>\n\n<a [ngClass]=\"{'btn-sm': small}\" *ngIf=\"item && !item.isDiscoverable\" class=\"btn btn-secondary my-1 public-link\" [routerLink]=\"[getPublicRoute()]\" [title]=\"'admin.search.item.make-public' | translate\">\n    <i class=\"fa fa-eye\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.search.item.make-public\" | translate}}</span>\n</a>\n\n<a [ngClass]=\"{'btn-sm': small}\" class=\"btn btn-secondary my-1 edit-link\" [routerLink]=\"[getEditRoute()]\" [title]=\"'admin.search.item.edit' | translate\">\n  <i class=\"fa fa-edit\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.search.item.edit\" | translate}}</span>\n</a>\n\n<a [ngClass]=\"{'btn-sm': small}\" *ngIf=\"item && !item.isWithdrawn\" class=\"btn btn-warning t my-1 withdraw-link\" [routerLink]=\"[getWithdrawRoute()]\" [title]=\"'admin.search.item.withdraw' | translate\">\n  <i class=\"fa fa-ban\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.search.item.withdraw\" | translate}}</span>\n</a>\n\n<a [ngClass]=\"{'btn-sm': small}\" *ngIf=\"item && item.isWithdrawn\" class=\"btn btn-warning my-1 reinstate-link\" [routerLink]=\"[getReinstateRoute()]\" [title]=\"'admin.search.item.reinstate' | translate\">\n  <i class=\"fa fa-undo\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.search.item.reinstate\" | translate}}</span>\n</a>\n\n<a [ngClass]=\"{'btn-sm': small}\" class=\"btn btn-danger my-1 delete-link\" [routerLink]=\"[getDeleteRoute()]\" [title]=\"'admin.search.item.delete' | translate\">\n    <i class=\"fa fa-trash\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.search.item.delete\" | translate}}</span>\n</a>\n\n","import { Component, Input } from '@angular/core';\nimport { Item } from '../../../core/shared/item.model';\nimport { URLCombiner } from '../../../core/url-combiner/url-combiner';\nimport { getItemEditRoute } from '../../../item-page/item-page-routing-paths';\nimport {\n  ITEM_EDIT_MOVE_PATH,\n  ITEM_EDIT_DELETE_PATH,\n  ITEM_EDIT_PUBLIC_PATH,\n  ITEM_EDIT_PRIVATE_PATH,\n  ITEM_EDIT_REINSTATE_PATH,\n  ITEM_EDIT_WITHDRAW_PATH\n} from '../../../item-page/edit-item-page/edit-item-page.routing-paths';\n\n@Component({\n  selector: 'ds-item-admin-search-result-actions-element',\n  styleUrls: ['./item-admin-search-result-actions.component.scss'],\n  templateUrl: './item-admin-search-result-actions.component.html'\n})\n/**\n * The component for displaying the actions for a list element for an item search result on the admin search page\n */\nexport class ItemAdminSearchResultActionsComponent {\n  /**\n   * The item to perform the actions on\n   */\n  @Input() public item: Item;\n\n  /**\n   * Whether or not to use small buttons\n   */\n  @Input() public small: boolean;\n\n  /**\n   * Returns the path to the edit page of this item\n   */\n  getEditRoute(): string {\n    return getItemEditRoute(this.item);\n  }\n\n  /**\n   * Returns the path to the move page of this item\n   */\n  getMoveRoute(): string {\n    return new URLCombiner(this.getEditRoute(), ITEM_EDIT_MOVE_PATH).toString();\n  }\n\n  /**\n   * Returns the path to the delete page of this item\n   */\n  getDeleteRoute(): string {\n    return new URLCombiner(this.getEditRoute(), ITEM_EDIT_DELETE_PATH).toString();\n  }\n\n  /**\n   * Returns the path to the withdraw page of this item\n   */\n  getWithdrawRoute(): string {\n    return new URLCombiner(this.getEditRoute(), ITEM_EDIT_WITHDRAW_PATH).toString();\n  }\n\n  /**\n   * Returns the path to the reinstate page of this item\n   */\n  getReinstateRoute(): string {\n    return new URLCombiner(this.getEditRoute(), ITEM_EDIT_REINSTATE_PATH).toString();\n  }\n\n  /**\n   * Returns the path to the page where the user can make this item private\n   */\n  getPrivateRoute(): string {\n    return new URLCombiner(this.getEditRoute(), ITEM_EDIT_PRIVATE_PATH).toString();\n  }\n\n  /**\n   * Returns the path to the page where the user can make this item public\n   */\n  getPublicRoute(): string {\n    return new URLCombiner(this.getEditRoute(), ITEM_EDIT_PUBLIC_PATH).toString();\n  }\n}\n","import { Component } from '@angular/core';\nimport { Item } from '../../../../../core/shared/item.model';\nimport { ViewMode } from '../../../../../core/shared/view-mode.model';\nimport { listableObjectComponent } from '../../../../../shared/object-collection/shared/listable-object/listable-object.decorator';\nimport { Context } from '../../../../../core/shared/context.model';\nimport { ItemSearchResult } from '../../../../../shared/object-collection/shared/item-search-result.model';\nimport { SearchResultListElementComponent } from '../../../../../shared/object-list/search-result-list-element/search-result-list-element.component';\n\n@listableObjectComponent(ItemSearchResult, ViewMode.ListElement, Context.AdminSearch)\n@Component({\n  selector: 'ds-item-admin-search-result-list-element',\n  styleUrls: ['./item-admin-search-result-list-element.component.scss'],\n  templateUrl: './item-admin-search-result-list-element.component.html'\n})\n/**\n * The component for displaying a list element for an item search result on the admin search page\n */\nexport class ItemAdminSearchResultListElementComponent extends SearchResultListElementComponent<ItemSearchResult, Item> {\n\n}\n","<ds-listable-object-component-loader [object]=\"object\"\n                                     [viewMode]=\"viewModes.ListElement\"\n                                     [index]=\"index\"\n                                     [linkType]=\"linkType\"\n                                     [listID]=\"listID\"\n                                     [hideBadges]=\"true\"></ds-listable-object-component-loader>\n<ds-item-admin-search-result-actions-element [item]=\"dso\" [small]=\"false\"></ds-item-admin-search-result-actions-element>\n","import { Component } from '@angular/core';\nimport { ViewMode } from '../../../../../core/shared/view-mode.model';\nimport { listableObjectComponent } from '../../../../../shared/object-collection/shared/listable-object/listable-object.decorator';\nimport { Context } from '../../../../../core/shared/context.model';\nimport { SearchResultListElementComponent } from '../../../../../shared/object-list/search-result-list-element/search-result-list-element.component';\nimport { CommunitySearchResult } from '../../../../../shared/object-collection/shared/community-search-result.model';\nimport { Community } from '../../../../../core/shared/community.model';\nimport { getCommunityEditRoute } from '../../../../../community-page/community-page-routing-paths';\n\n@listableObjectComponent(CommunitySearchResult, ViewMode.ListElement, Context.AdminSearch)\n@Component({\n  selector: 'ds-community-admin-search-result-list-element',\n  styleUrls: ['./community-admin-search-result-list-element.component.scss'],\n  templateUrl: './community-admin-search-result-list-element.component.html'\n})\n/**\n * The component for displaying a list element for a community search result on the admin search page\n */\nexport class CommunityAdminSearchResultListElementComponent extends SearchResultListElementComponent<CommunitySearchResult, Community> {\n  editPath: string;\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.editPath = getCommunityEditRoute(this.dso.uuid);\n  }\n}\n","<ds-community-search-result-list-element [object]=\"object\"\n                                         [index]=\"index\"\n                                         [linkType]=\"linkType\"\n                                         [listID]=\"listID\"></ds-community-search-result-list-element>\n<div>\n    <a class=\"btn btn-light mt-1\" [routerLink]=\"[editPath]\">\n        <i class=\"fa fa-edit\"></i> {{\"admin.search.community.edit\" | translate}}\n    </a>\n</div>\n","import { Component } from '@angular/core';\nimport { ViewMode } from '../../../../../core/shared/view-mode.model';\nimport { listableObjectComponent } from '../../../../../shared/object-collection/shared/listable-object/listable-object.decorator';\nimport { Context } from '../../../../../core/shared/context.model';\nimport { SearchResultListElementComponent } from '../../../../../shared/object-list/search-result-list-element/search-result-list-element.component';\nimport { CollectionSearchResult } from '../../../../../shared/object-collection/shared/collection-search-result.model';\nimport { Collection } from '../../../../../core/shared/collection.model';\nimport { getCollectionEditRoute } from '../../../../../collection-page/collection-page-routing-paths';\n\n@listableObjectComponent(CollectionSearchResult, ViewMode.ListElement, Context.AdminSearch)\n@Component({\n  selector: 'ds-collection-admin-search-result-list-element',\n  styleUrls: ['./collection-admin-search-result-list-element.component.scss'],\n  templateUrl: './collection-admin-search-result-list-element.component.html'\n})\n/**\n * The component for displaying a list element for a collection search result on the admin search page\n */\nexport class CollectionAdminSearchResultListElementComponent extends SearchResultListElementComponent<CollectionSearchResult, Collection> {\n  editPath: string;\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.editPath = getCollectionEditRoute(this.dso.uuid);\n  }\n}\n","<ds-collection-search-result-list-element [object]=\"object\"\n                                          [index]=\"index\"\n                                          [linkType]=\"linkType\"\n                                          [listID]=\"listID\"></ds-collection-search-result-list-element>\n<div>\n    <a class=\"btn btn-light mt-1\" [routerLink]=\"[editPath]\">\n        <i class=\"fa fa-edit\"></i> {{\"admin.search.collection.edit\" | translate}}\n    </a>\n</div>\n","<ng-template dsListableObject>\n</ng-template>\n<div #badges>\n  <ng-content></ng-content>\n</div>\n<ul #buttons class=\"list-group list-group-flush\">\n  <li class=\"list-group-item\">\n      <ds-item-admin-search-result-actions-element class=\"d-flex justify-content-between\" [item]=\"dso\" [small]=\"true\"></ds-item-admin-search-result-actions-element>\n  </li>\n</ul>\n","import { Component, ComponentFactoryResolver, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { Item } from '../../../../../core/shared/item.model';\nimport { ViewMode } from '../../../../../core/shared/view-mode.model';\nimport {\n  getListableObjectComponent,\n  listableObjectComponent\n} from '../../../../../shared/object-collection/shared/listable-object/listable-object.decorator';\nimport { Context } from '../../../../../core/shared/context.model';\nimport { ItemSearchResult } from '../../../../../shared/object-collection/shared/item-search-result.model';\nimport { SearchResultGridElementComponent } from '../../../../../shared/object-grid/search-result-grid-element/search-result-grid-element.component';\nimport { TruncatableService } from '../../../../../shared/truncatable/truncatable.service';\nimport { BitstreamDataService } from '../../../../../core/data/bitstream-data.service';\nimport { GenericConstructor } from '../../../../../core/shared/generic-constructor';\nimport { ListableObjectDirective } from '../../../../../shared/object-collection/shared/listable-object/listable-object.directive';\nimport { ThemeService } from '../../../../../shared/theme-support/theme.service';\n\n@listableObjectComponent(ItemSearchResult, ViewMode.GridElement, Context.AdminSearch)\n@Component({\n  selector: 'ds-item-admin-search-result-grid-element',\n  styleUrls: ['./item-admin-search-result-grid-element.component.scss'],\n  templateUrl: './item-admin-search-result-grid-element.component.html'\n})\n/**\n * The component for displaying a list element for an item search result on the admin search page\n */\nexport class ItemAdminSearchResultGridElementComponent extends SearchResultGridElementComponent<ItemSearchResult, Item> implements OnInit {\n  @ViewChild(ListableObjectDirective, { static: true }) listableObjectDirective: ListableObjectDirective;\n  @ViewChild('badges', { static: true }) badges: ElementRef;\n  @ViewChild('buttons', { static: true }) buttons: ElementRef;\n\n  constructor(protected truncatableService: TruncatableService,\n              protected bitstreamDataService: BitstreamDataService,\n              private themeService: ThemeService,\n              private componentFactoryResolver: ComponentFactoryResolver\n  ) {\n    super(truncatableService, bitstreamDataService);\n  }\n\n  /**\n   * Setup the dynamic child component\n   */\n  ngOnInit(): void {\n    super.ngOnInit();\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.getComponent());\n\n    const viewContainerRef = this.listableObjectDirective.viewContainerRef;\n    viewContainerRef.clear();\n\n    const componentRef = viewContainerRef.createComponent(\n      componentFactory,\n      0,\n      undefined,\n      [\n        [this.badges.nativeElement],\n        [this.buttons.nativeElement]\n      ]);\n    (componentRef.instance as any).object = this.object;\n    (componentRef.instance as any).index = this.index;\n    (componentRef.instance as any).linkType = this.linkType;\n    (componentRef.instance as any).listID = this.listID;\n  }\n\n  /**\n   * Fetch the component depending on the item's entity type, view mode and context\n   * @returns {GenericConstructor<Component>}\n   */\n  private getComponent(): GenericConstructor<Component> {\n    return getListableObjectComponent(this.object.getRenderTypes(), ViewMode.GridElement, undefined, this.themeService.getThemeName());\n  }\n}\n","import { Component } from '@angular/core';\nimport { ViewMode } from '../../../../../core/shared/view-mode.model';\nimport { listableObjectComponent } from '../../../../../shared/object-collection/shared/listable-object/listable-object.decorator';\nimport { Context } from '../../../../../core/shared/context.model';\nimport { CommunitySearchResult } from '../../../../../shared/object-collection/shared/community-search-result.model';\nimport { Community } from '../../../../../core/shared/community.model';\nimport { SearchResultGridElementComponent } from '../../../../../shared/object-grid/search-result-grid-element/search-result-grid-element.component';\nimport { getCommunityEditRoute } from '../../../../../community-page/community-page-routing-paths';\n\n@listableObjectComponent(CommunitySearchResult, ViewMode.GridElement, Context.AdminSearch)\n@Component({\n  selector: 'ds-community-admin-search-result-grid-element',\n  styleUrls: ['./community-admin-search-result-grid-element.component.scss'],\n  templateUrl: './community-admin-search-result-grid-element.component.html'\n})\n/**\n * The component for displaying a list element for a community search result on the admin search page\n */\nexport class CommunityAdminSearchResultGridElementComponent extends SearchResultGridElementComponent<CommunitySearchResult, Community> {\n  editPath: string;\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.editPath = getCommunityEditRoute(this.dso.uuid);\n  }\n}\n","<ds-community-search-result-grid-element [object]=\"object\"\n                                         [index]=\"index\"\n                                         [linkType]=\"linkType\"\n                                         [listID]=\"listID\">\n  <ul class=\"list-group list-group-flush\">\n    <li class=\"list-group-item text-center\">\n      <a class=\"btn btn-light btn-sm btn-auto my-1 edit-link\" [routerLink]=\"[editPath]\">\n        <i class=\"fa fa-edit\"></i>\n      </a>\n    </li>\n  </ul>\n</ds-community-search-result-grid-element>\n\n","import { Component } from '@angular/core';\nimport { ViewMode } from '../../../../../core/shared/view-mode.model';\nimport { listableObjectComponent } from '../../../../../shared/object-collection/shared/listable-object/listable-object.decorator';\nimport { Context } from '../../../../../core/shared/context.model';\nimport { CollectionSearchResult } from '../../../../../shared/object-collection/shared/collection-search-result.model';\nimport { Collection } from '../../../../../core/shared/collection.model';\nimport { SearchResultGridElementComponent } from '../../../../../shared/object-grid/search-result-grid-element/search-result-grid-element.component';\nimport { getCollectionEditRoute } from '../../../../../collection-page/collection-page-routing-paths';\n\n@listableObjectComponent(CollectionSearchResult, ViewMode.GridElement, Context.AdminSearch)\n@Component({\n  selector: 'ds-collection-admin-search-result-list-element',\n  styleUrls: ['./collection-admin-search-result-grid-element.component.scss'],\n  templateUrl: './collection-admin-search-result-grid-element.component.html'\n})\n/**\n * The component for displaying a list element for a collection search result on the admin search page\n */\nexport class CollectionAdminSearchResultGridElementComponent extends SearchResultGridElementComponent<CollectionSearchResult, Collection> {\n  editPath: string;\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.editPath = getCollectionEditRoute(this.dso.uuid);\n  }\n}\n","<ds-collection-search-result-grid-element [object]=\"object\"\n                                          [index]=\"index\"\n                                          [linkType]=\"linkType\"\n                                          [listID]=\"listID\">\n  <ul class=\"list-group list-group-flush\">\n    <li class=\"list-group-item text-center\">\n      <a class=\"btn btn-light btn-sm btn-auto my-1 edit-link\" [routerLink]=\"[editPath]\">\n        <i class=\"fa fa-edit\"></i>\n      </a>\n    </li>\n  </ul>\n</ds-collection-search-result-grid-element>\n\n","import { NgModule } from '@angular/core';\nimport { SharedModule } from '../../shared/shared.module';\nimport { AdminSearchPageComponent } from './admin-search-page.component';\nimport { ItemAdminSearchResultListElementComponent } from './admin-search-results/admin-search-result-list-element/item-search-result/item-admin-search-result-list-element.component';\nimport { CommunityAdminSearchResultListElementComponent } from './admin-search-results/admin-search-result-list-element/community-search-result/community-admin-search-result-list-element.component';\nimport { CollectionAdminSearchResultListElementComponent } from './admin-search-results/admin-search-result-list-element/collection-search-result/collection-admin-search-result-list-element.component';\nimport { ItemAdminSearchResultGridElementComponent } from './admin-search-results/admin-search-result-grid-element/item-search-result/item-admin-search-result-grid-element.component';\nimport { CommunityAdminSearchResultGridElementComponent } from './admin-search-results/admin-search-result-grid-element/community-search-result/community-admin-search-result-grid-element.component';\nimport { CollectionAdminSearchResultGridElementComponent } from './admin-search-results/admin-search-result-grid-element/collection-search-result/collection-admin-search-result-grid-element.component';\nimport { ItemAdminSearchResultActionsComponent } from './admin-search-results/item-admin-search-result-actions.component';\nimport { JournalEntitiesModule } from '../../entity-groups/journal-entities/journal-entities.module';\nimport { ResearchEntitiesModule } from '../../entity-groups/research-entities/research-entities.module';\nimport { SearchModule } from '../../shared/search/search.module';\n\nconst ENTRY_COMPONENTS = [\n  // put only entry components that use custom decorator\n  ItemAdminSearchResultListElementComponent,\n  CommunityAdminSearchResultListElementComponent,\n  CollectionAdminSearchResultListElementComponent,\n  ItemAdminSearchResultGridElementComponent,\n  CommunityAdminSearchResultGridElementComponent,\n  CollectionAdminSearchResultGridElementComponent,\n  ItemAdminSearchResultActionsComponent\n];\n\n@NgModule({\n  imports: [\n    SearchModule,\n    SharedModule.withEntryComponents(),\n    JournalEntitiesModule.withEntryComponents(),\n    ResearchEntitiesModule.withEntryComponents()\n  ],\n  declarations: [\n    AdminSearchPageComponent,\n    ...ENTRY_COMPONENTS\n  ]\n})\nexport class AdminSearchModule {\n  /**\n   * NOTE: this method allows to resolve issue with components that using a custom decorator\n   * which are not loaded during SSR otherwise\n   */\n  static withEntryComponents() {\n    return {\n      ngModule: SharedModule,\n      providers: ENTRY_COMPONENTS.map((component) => ({provide: component}))\n    };\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { SharedModule } from '../shared/shared.module';\nimport { AccessControlModule } from '../access-control/access-control.module';\nimport { MetadataImportPageComponent } from './admin-import-metadata-page/metadata-import-page.component';\nimport { AdminRegistriesModule } from './admin-registries/admin-registries.module';\nimport { AdminRoutingModule } from './admin-routing.module';\nimport { AdminCurationTasksComponent } from './admin-curation-tasks/admin-curation-tasks.component';\nimport { AdminWorkflowModuleModule } from './admin-workflow-page/admin-workflow.module';\nimport { AdminSearchModule } from './admin-search-page/admin-search.module';\nimport { AdminSidebarSectionComponent } from './admin-sidebar/admin-sidebar-section/admin-sidebar-section.component';\nimport { ExpandableAdminSidebarSectionComponent } from './admin-sidebar/expandable-admin-sidebar-section/expandable-admin-sidebar-section.component';\n\nconst ENTRY_COMPONENTS = [\n  // put only entry components that use custom decorator\n  AdminSidebarSectionComponent,\n  ExpandableAdminSidebarSectionComponent,\n];\n\n\n@NgModule({\n  imports: [\n    AdminRoutingModule,\n    AdminRegistriesModule,\n    AccessControlModule,\n    AdminSearchModule.withEntryComponents(),\n    AdminWorkflowModuleModule.withEntryComponents(),\n    SharedModule\n  ],\n  declarations: [\n    AdminCurationTasksComponent,\n    MetadataImportPageComponent\n  ]\n})\nexport class AdminModule {\n  /**\n   * NOTE: this method allows to resolve issue with components that using a custom decorator\n   * which are not loaded during SSR otherwise\n   */\n  static withEntryComponents() {\n    return {\n      ngModule: AdminModule,\n      providers: ENTRY_COMPONENTS.map((component) => ({provide: component}))\n    };\n  }\n}\n","export const ITEM_EDIT_WITHDRAW_PATH = 'withdraw';\nexport const ITEM_EDIT_REINSTATE_PATH = 'reinstate';\nexport const ITEM_EDIT_PRIVATE_PATH = 'private';\nexport const ITEM_EDIT_PUBLIC_PATH = 'public';\nexport const ITEM_EDIT_DELETE_PATH = 'delete';\nexport const ITEM_EDIT_MOVE_PATH = 'move';\nexport const ITEM_EDIT_AUTHORIZATIONS_PATH = 'authorizations';\n","import { URLCombiner } from '../../core/url-combiner/url-combiner';\nimport { getRegistriesModuleRoute } from '../admin-routing-paths';\n\nexport const BITSTREAMFORMATS_MODULE_PATH = 'bitstream-formats';\n\nexport function getBitstreamFormatsModuleRoute() {\n  return new URLCombiner(getRegistriesModuleRoute(), BITSTREAMFORMATS_MODULE_PATH).toString();\n}\n"]}