(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"+6qv":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("fXoL"),a=n("e+Av"),o=n("ye/0"),r=n("XntB"),c=n("1QIV");const l={id:"entityType",name:"dspace.entity.type",disabled:!1},s=[new a.J({id:"title",name:"dc.title",required:!0,validators:{required:null},errorMessages:{required:"Please enter a name for this title"}}),new a.P({id:"description",name:"dc.description"}),new a.P({id:"abstract",name:"dc.description.abstract"}),new a.P({id:"rights",name:"dc.rights"}),new a.P({id:"tableofcontents",name:"dc.description.tableofcontents"}),new a.P({id:"license",name:"dc.rights.license"})];var p=n("dnwH"),d=n("sYmb"),m=n("lI3o"),u=n("Vurf"),f=n("mrqg"),g=n("X/78"),v=n("mycY"),h=n("bxbP"),x=n("O/5o"),b=n("ofXK"),y=n("ivcV"),I=n("4zj/"),S=n("hqmO");function C(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",15),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).deleteLogo()})),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275text"](2,"\n                "),i["\u0275\u0275element"](3,"i",16),i["\u0275\u0275text"](4,"\n              "),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275propertyInterpolate"]("title",i["\u0275\u0275pipeBind1"](1,1,e.type.value+".edit.logo.delete.title"))}}function j(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",17),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](4).undoDeleteLogo()})),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275text"](2,"\n                "),i["\u0275\u0275element"](3,"i",18),i["\u0275\u0275text"](4,"\n              "),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275propertyInterpolate"]("title",i["\u0275\u0275pipeBind1"](1,1,e.type.value+".edit.logo.delete-undo.title"))}}function E(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",12),i["\u0275\u0275text"](1,"\n              "),i["\u0275\u0275template"](2,C,5,3,"button",13),i["\u0275\u0275text"](3,"\n              "),i["\u0275\u0275template"](4,j,5,3,"button",14),i["\u0275\u0275text"](5,"\n            "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!e.markLogoForDeletion),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.markLogoForDeletion)}}const O=function(e){return{"alert-danger":e}};function w(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275text"](1,"\n        "),i["\u0275\u0275elementStart"](2,"div",1),i["\u0275\u0275text"](3,"\n          "),i["\u0275\u0275elementStart"](4,"div",8),i["\u0275\u0275text"](5,"\n            "),i["\u0275\u0275element"](6,"ds-comcol-page-logo",9),i["\u0275\u0275text"](7,"\n          "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](8,"\n          "),i["\u0275\u0275elementStart"](9,"div",10),i["\u0275\u0275text"](10,"\n            "),i["\u0275\u0275template"](11,E,6,2,"div",11),i["\u0275\u0275text"](12,"\n          "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](13,"\n        "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](14,"\n      "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().ngVar,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](3,O,t.markLogoForDeletion)),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("logo",e),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",e)}}function D(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"ds-uploader",20),i["\u0275\u0275listener"]("onCompleteItem",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](3).onCompleteItem()}))("onUploadError",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](3).onUploadError()})),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("dropMsg",e.type.value+".edit.logo.upload")("dropOverDocumentMsg",e.type.value+".edit.logo.upload")("enableDragOverDocument",!0)("uploadFilesOptions",e.uploadFilesOptions)}}function V(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275text"](1,"\n        "),i["\u0275\u0275template"](2,D,1,4,"ds-uploader",19),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275text"](4,"\n      "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](3,1,e.initializedUploaderOptions))}}function B(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"\n      "),i["\u0275\u0275template"](2,w,15,5,"div",5),i["\u0275\u0275text"](3,"\n      "),i["\u0275\u0275template"](4,V,5,3,"div",6),i["\u0275\u0275text"](5,"\n    "),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngVar;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!e)}}function $(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"ds-form",21),i["\u0275\u0275listener"]("submitForm",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onSubmit()})),i["\u0275\u0275text"](1,"\n  "),i["\u0275\u0275elementStart"](2,"button",22),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().back.emit()})),i["\u0275\u0275text"](3,"\n    "),i["\u0275\u0275element"](4,"i",23),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](7,"\n"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("formId","comcol-form-id")("formModel",e.formModel)("displayCancel",!1),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,4,e.type.value+".edit.return"),"\n  ")}}let k=(()=>{class e extends r.a{constructor(e,t,n,i,r,c,s,p){super(e,t,n,i,c,s),this.formService=e,this.translate=t,this.notificationsService=n,this.authService=i,this.dsoService=r,this.requestService=c,this.objectCache=s,this.entityTypeService=p,this.dso=new o.a,this.type=o.a.type,this.entityTypeSelection=new a.N(l)}ngOnInit(){let e;this.dso&&this.dso.metadata&&(e=this.dso.metadata["dspace.entity.type"]),this.entityTypeService.findAll({elementsPerPage:100,currentPage:1}).pipe(Object(c.l)()).subscribe(t=>{t.filter(e=>e.label!==p.b).forEach((t,n)=>{this.entityTypeSelection.add({disabled:!1,label:t.label,value:t.label}),e&&e.length>0&&e[0].value===t.label&&(this.entityTypeSelection.select(n),this.entityTypeSelection.disabled=!0)}),this.formModel=[...s,this.entityTypeSelection],super.ngOnInit()})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](a.G),i["\u0275\u0275directiveInject"](d.e),i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](u.a),i["\u0275\u0275directiveInject"](f.a),i["\u0275\u0275directiveInject"](g.a),i["\u0275\u0275directiveInject"](v.a),i["\u0275\u0275directiveInject"](h.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-collection-form"]],inputs:{dso:"dso"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:18,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","d-inline-block"],[4,"ngVar"],[3,"formId","formModel","displayCancel","submitForm",4,"ngIf"],["class","col-12 d-inline-block alert","id","logo-section",3,"ngClass",4,"ngIf"],["class","col-12 d-inline-block",4,"ngIf"],["id","logo-section",1,"col-12","d-inline-block","alert",3,"ngClass"],[1,"col-8","d-inline-block"],[3,"logo"],[1,"col-4","d-inline-block"],["class","btn-group btn-group-sm float-right","role","group",4,"ngIf"],["role","group",1,"btn-group","btn-group-sm","float-right"],["type","button","class","btn btn-danger",3,"title","click",4,"ngIf"],["type","button","class","btn btn-warning",3,"title","click",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"title","click"],["aria-hidden","true",1,"fas","fa-trash"],["type","button",1,"btn","btn-warning",3,"title","click"],["aria-hidden","true",1,"fas","fa-undo"],[3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError",4,"ngIf"],[3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError"],[3,"formId","formModel","displayCancel","submitForm"],["before","",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-arrow-left"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275text"](1,"\n  "),i["\u0275\u0275elementStart"](2,"div",1),i["\u0275\u0275text"](3,"\n    "),i["\u0275\u0275elementStart"](4,"div",2),i["\u0275\u0275text"](5,"\n      "),i["\u0275\u0275elementStart"](6,"label"),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](9,"\n    "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](10,"\n    "),i["\u0275\u0275template"](11,B,6,2,"ng-container",3),i["\u0275\u0275pipe"](12,"async"),i["\u0275\u0275text"](13,"\n  "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](14,"\n"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](15,"\n"),i["\u0275\u0275template"](16,$,8,6,"ds-form",4),i["\u0275\u0275text"](17,"\n")),2&e){let e=null;i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](8,3,t.type.value+".edit.logo.label")),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngVar",null==(e=i["\u0275\u0275pipeBind1"](12,5,null==t.dso?null:t.dso.logo))?null:e.payload),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.formModel)}},directives:[x.a,b.p,b.m,y.a,I.a,S.a],pipes:[d.d,b.b],styles:[""]}),e})()},H2rt:function(e,t,n){"use strict";n.r(t),n.d(t,"CollectionPageComponent",(function(){return W}));var i=n("fXoL"),a=n("2Vo4"),o=n("itXk"),r=n("lJxs"),c=n("IzEk"),l=n("pLZG"),s=n("5+tZ"),p=n("eIep"),d=n("JX91"),m=n("R7cy"),u=n("qc8P"),f=n("QhmN"),g=n("1QIV"),v=n("mEo1"),h=n("J3qs"),x=n("7DXY"),b=n("FU+A"),y=n("Obj/"),I=n("DNva"),S=n("gWc+"),C=n("tyNb"),j=n("Vurf"),E=n("MFUF"),O=n("1mcE"),w=n("O/5o"),D=n("ofXK"),V=n("mXNY"),B=n("yj7I"),$=n("0qNx"),k=n("/I7b"),R=n("RD8h"),T=n("ivcV"),F=n("uVW2"),N=n("jLV+"),P=n("HZwm"),M=n("Frqi"),L=n("sYmb");function q(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"ds-comcol-page-logo",19),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275text"](2,"\n                  "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](4);let t=null;i["\u0275\u0275property"]("logo",null==(t=i["\u0275\u0275pipeBind1"](1,3,e.logoRD$))?null:t.payload)("alternateText","Collection Logo")("alternateText","Collection Logo")}}function A(e,t){if(1&e&&(i["\u0275\u0275element"](0,"ds-dso-page-edit-button",20),i["\u0275\u0275pipe"](1,"async")),2&e){const e=i["\u0275\u0275nextContext"]().ngIf,t=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("pageRoute",i["\u0275\u0275pipeBind1"](1,3,t.collectionPageRoute$))("dso",e)("tooltipMsg","collection.page.edit")}}function U(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",23),i["\u0275\u0275text"](1,"\n                    "),i["\u0275\u0275elementStart"](2,"h3",24),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](5,"\n                    "),i["\u0275\u0275elementStart"](6,"ds-viewable-collection",25),i["\u0275\u0275text"](7,"\n                    "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](8,"\n                "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().ngVar,t=i["\u0275\u0275nextContext"](4);i["\u0275\u0275property"]("@fadeIn",void 0),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](4,6,"collection.page.browse.recent.head")),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("config",t.paginationConfig)("sortConfig",t.sortConfig)("objects",e)("hideGear",!0)}}function X(e,t){1&e&&(i["\u0275\u0275element"](0,"ds-error",26),i["\u0275\u0275pipe"](1,"translate")),2&e&&i["\u0275\u0275propertyInterpolate"]("message",i["\u0275\u0275pipeBind1"](1,1,"error.recent-submissions"))}function H(e,t){1&e&&(i["\u0275\u0275element"](0,"ds-loading",26),i["\u0275\u0275pipe"](1,"translate")),2&e&&i["\u0275\u0275propertyInterpolate"]("message",i["\u0275\u0275pipeBind1"](1,1,"loading.recent-submissions"))}function J(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",27),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("\n                        ",i["\u0275\u0275pipeBind1"](2,1,"collection.page.browse.recent.empty"),"\n                "))}function Q(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"\n                "),i["\u0275\u0275template"](2,U,9,8,"div",21),i["\u0275\u0275text"](3,"\n                "),i["\u0275\u0275template"](4,X,2,3,"ds-error",4),i["\u0275\u0275text"](5,"\n                "),i["\u0275\u0275template"](6,H,2,3,"ds-loading",4),i["\u0275\u0275text"](7,"\n                "),i["\u0275\u0275template"](8,J,3,3,"div",22),i["\u0275\u0275text"](9,"\n            "),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngVar;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",null==e?null:e.hasSucceeded),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",null==e?null:e.hasFailed),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!e||e.isLoading),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!(null!=e&&e.isLoading)&&0===(null==e||null==e.payload?null:e.payload.page.length))}}function z(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"footer",28),i["\u0275\u0275text"](1,"\n          "),i["\u0275\u0275text"](2,"\n          "),i["\u0275\u0275elementStart"](3,"ds-comcol-page-content",11),i["\u0275\u0275text"](4,"\n          "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](5,"\n        "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().ngIf;i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("content",e.copyrightText)("hasInnerHtml",!0)}}function G(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275text"](1,"\n              "),i["\u0275\u0275element"](2,"ds-view-tracker",5),i["\u0275\u0275text"](3,"\n              "),i["\u0275\u0275elementStart"](4,"div",6),i["\u0275\u0275text"](5,"\n                "),i["\u0275\u0275elementStart"](6,"header",7),i["\u0275\u0275text"](7,"\n                  "),i["\u0275\u0275text"](8,"\n                  "),i["\u0275\u0275elementStart"](9,"ds-comcol-page-header",8),i["\u0275\u0275text"](10,"\n                  "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](11,"\n                  "),i["\u0275\u0275text"](12,"\n                  "),i["\u0275\u0275template"](13,q,3,5,"ds-comcol-page-logo",9),i["\u0275\u0275text"](14,"\n\n                  "),i["\u0275\u0275text"](15,"\n                  "),i["\u0275\u0275elementStart"](16,"ds-comcol-page-handle",10),i["\u0275\u0275text"](17,"\n                  "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](18,"\n                  "),i["\u0275\u0275text"](19,"\n                  "),i["\u0275\u0275elementStart"](20,"ds-comcol-page-content",11),i["\u0275\u0275text"](21,"\n                  "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](22,"\n                  "),i["\u0275\u0275text"](23,"\n                  "),i["\u0275\u0275elementStart"](24,"ds-comcol-page-content",12),i["\u0275\u0275text"](25,"\n                  "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](26,"\n                "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](27,"\n                "),i["\u0275\u0275elementStart"](28,"div",13),i["\u0275\u0275text"](29,"\n                  "),i["\u0275\u0275template"](30,A,2,5,"ds-dso-page-edit-button",14),i["\u0275\u0275pipe"](31,"async"),i["\u0275\u0275text"](32,"\n                "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](33,"\n              "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](34,"\n              "),i["\u0275\u0275elementStart"](35,"section",15),i["\u0275\u0275text"](36,"\n              "),i["\u0275\u0275text"](37,"\n              "),i["\u0275\u0275elementStart"](38,"ds-comcol-page-browse-by",16),i["\u0275\u0275text"](39,"\n              "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](40,"\n\n            "),i["\u0275\u0275template"](41,Q,10,4,"ng-container",17),i["\u0275\u0275pipe"](42,"async"),i["\u0275\u0275text"](43,"\n            "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](44,"\n            "),i["\u0275\u0275template"](45,z,6,2,"footer",18),i["\u0275\u0275text"](46,"\n      "),i["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf,n=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("object",e),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("name",e.name),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",n.logoRD$),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("content",e.handle)("title","collection.page.handle"),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("content",e.introductoryText)("hasInnerHtml",!0),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("content",e.sidebarText)("hasInnerHtml",!0)("title","collection.page.news"),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](31,15,n.isCollectionAdmin$)),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("id",e.id)("contentType",e.type),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngVar",i["\u0275\u0275pipeBind1"](42,17,n.itemRD$)),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",e.copyrightText)}}function Y(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275text"](1,"\n            "),i["\u0275\u0275template"](2,G,47,19,"div",3),i["\u0275\u0275text"](3,"\n    "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().ngVar;i["\u0275\u0275property"]("@fadeInOut",void 0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",null==e?null:e.payload)}}function _(e,t){1&e&&(i["\u0275\u0275element"](0,"ds-error",26),i["\u0275\u0275pipe"](1,"translate")),2&e&&i["\u0275\u0275propertyInterpolate"]("message",i["\u0275\u0275pipeBind1"](1,1,"error.collection"))}function K(e,t){1&e&&(i["\u0275\u0275element"](0,"ds-loading",26),i["\u0275\u0275pipe"](1,"translate")),2&e&&i["\u0275\u0275propertyInterpolate"]("message",i["\u0275\u0275pipeBind1"](1,1,"loading.collection"))}function Z(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275text"](1,"\n        "),i["\u0275\u0275template"](2,Y,4,2,"div",3),i["\u0275\u0275text"](3,"\n        "),i["\u0275\u0275template"](4,_,2,3,"ds-error",4),i["\u0275\u0275text"](5,"\n        "),i["\u0275\u0275template"](6,K,2,3,"ds-loading",4),i["\u0275\u0275text"](7,"\n  "),i["\u0275\u0275elementEnd"]()),2&e){const e=t.ngVar;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",null==e?null:e.hasSucceeded),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",null==e?null:e.hasFailed),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",null==e?null:e.isLoading)}}let W=(()=>{class e{constructor(e,t,n,i,a,o,r){this.collectionDataService=e,this.searchService=t,this.route=n,this.router=i,this.authService=a,this.paginationService=o,this.authorizationDataService=r,this.paginationConfig=new x.a,this.paginationConfig.id="cp",this.paginationConfig.pageSize=5,this.paginationConfig.currentPage=1,this.sortConfig=new u.b("dc.date.accessioned",u.a.DESC)}ngOnInit(){this.collectionRD$=this.route.data.pipe(Object(r.a)(e=>e.dso),Object(g.t)(this.router,this.authService),Object(c.a)(1)),this.logoRD$=this.collectionRD$.pipe(Object(r.a)(e=>e.payload),Object(l.a)(e=>Object(h.b)(e)),Object(s.a)(e=>e.logo)),this.isCollectionAdmin$=this.authorizationDataService.isAuthorized(b.a.IsCollectionAdmin),this.paginationChanges$=new a.a({paginationConfig:this.paginationConfig,sortConfig:this.sortConfig});const e=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),t=this.paginationService.getCurrentSort(this.paginationConfig.id,this.sortConfig);this.itemRD$=Object(o.a)([e,t]).pipe(Object(p.a)(([e,t])=>this.collectionRD$.pipe(Object(g.i)(),Object(r.a)(e=>e.payload.id),Object(p.a)(n=>this.searchService.search(new m.a({scope:n,pagination:e,sort:t,dsoTypes:[f.a.ITEM]})).pipe(Object(g.y)())),Object(d.a)(void 0)))),this.collectionPageRoute$=this.collectionRD$.pipe(Object(g.d)(),Object(r.a)(e=>Object(y.j)(e.id)))}isNotEmpty(e){return Object(h.e)(e)}ngOnDestroy(){this.paginationService.clearPagination(this.paginationConfig.id)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](I.a),i["\u0275\u0275directiveInject"](S.a),i["\u0275\u0275directiveInject"](C.a),i["\u0275\u0275directiveInject"](C.h),i["\u0275\u0275directiveInject"](j.a),i["\u0275\u0275directiveInject"](E.a),i["\u0275\u0275directiveInject"](O.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-collection-page"]],decls:6,vars:3,consts:[[1,"container"],["class","collection-page",4,"ngVar"],[1,"collection-page"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"object"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4"],[1,"comcol-header","mr-auto"],[3,"name"],[3,"logo","alternateText",4,"ngIf"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[1,"pl-2"],[3,"pageRoute","dso","tooltipMsg",4,"ngIf"],[1,"comcol-page-browse-section"],[3,"id","contentType"],[4,"ngVar"],["class","border-top my-5 pt-4",4,"ngIf"],[3,"logo","alternateText"],[3,"pageRoute","dso","tooltipMsg"],["class","mt-4",4,"ngIf"],["class","alert alert-info w-100","role","alert",4,"ngIf"],[1,"mt-4"],[1,"sr-only"],[3,"config","sortConfig","objects","hideGear"],[3,"message"],["role","alert",1,"alert","alert-info","w-100"],[1,"border-top","my-5","pt-4"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275text"](1,"\n    "),i["\u0275\u0275template"](2,Z,8,3,"div",1),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275text"](4,"\n"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](5,"\n")),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngVar",i["\u0275\u0275pipeBind1"](3,1,t.collectionRD$)))},directives:[w.a,D.p,V.a,B.a,$.a,k.a,R.a,T.a,F.a,N.a,P.a,M.a],pipes:[D.b,L.d],styles:[""],data:{animation:[v.a,v.c]},changeDetection:0}),e})()},aem7:function(e,t,n){var i={"./custom/app/collection-page/collection-page.component":["pQAh",46]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(i)},a.id="aem7",e.exports=a},nVrp:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("fXoL"),a=(n("+6qv"),n("PCNd")),o=n("fY2w"),r=n("kcqd");let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[o.a,r.a,a.a]]}),e})()},pBGb:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var i=n("2Vo4"),a=n("itXk"),o=n("fXoL"),r=n("mEo1"),c=n("lJxs"),l=n("eIep"),s=n("JX91"),p=n("IzEk"),d=n("1QIV"),m=n("QhmN"),u=n("qc8P"),f=n("J3qs"),g=n("dtp9"),v=n("joI/"),h=n("R7cy"),x=n("84Zn"),b=n("FU+A"),y=n("tyNb"),I=n("gWc+"),S=n("lI3o"),C=n("iqTE"),j=n("DNva"),E=n("sYmb"),O=n("C765"),w=n("1kSV"),D=n("Oupr"),V=n("DdXh"),B=n("ofXK");const $=["tabs"];function k(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275text"](0,"\n            "),o["\u0275\u0275elementStart"](1,"div",10),o["\u0275\u0275text"](2,"\n              "),o["\u0275\u0275elementStart"](3,"ds-item-select",11),o["\u0275\u0275listener"]("confirm",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().mapItems(t,!0)}))("cancel",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onCancel()})),o["\u0275\u0275pipe"](4,"async"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](5,"\n            "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](6,"\n          ")}if(2&e){const e=o["\u0275\u0275nextContext"]();let t=null;o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("key","browse")("dsoRD$",e.collectionItemsRD$)("paginationOptions",null==(t=o["\u0275\u0275pipeBind1"](4,7,e.searchOptions$))?null:t.pagination)("confirmButton","collection.edit.item-mapper.remove")("cancelButton","collection.edit.item-mapper.cancel")("dangerConfirm",!0)("hideCollection",!0)}}function R(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275text"](1,"\n              "),o["\u0275\u0275elementStart"](2,"ds-item-select",17),o["\u0275\u0275listener"]("confirm",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).mapItems(t)}))("cancel",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).onCancel()})),o["\u0275\u0275pipe"](3,"async"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](4,"\n            "),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);let t=null;o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("key","map")("dsoRD$",e.mappedItemsRD$)("paginationOptions",null==(t=o["\u0275\u0275pipeBind1"](3,6,e.searchOptions$))?null:t.pagination)("featureId",e.FeatureIds.CanManageMappings)("confirmButton","collection.edit.item-mapper.confirm")("cancelButton","collection.edit.item-mapper.cancel")}}function T(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",18),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"]("\n              ",o["\u0275\u0275pipeBind1"](2,1,"collection.edit.item-mapper.no-search"),"\n            "))}function F(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275text"](0,"\n            "),o["\u0275\u0275elementStart"](1,"div",12),o["\u0275\u0275text"](2,"\n              "),o["\u0275\u0275elementStart"](3,"div",13),o["\u0275\u0275text"](4,"\n                "),o["\u0275\u0275elementStart"](5,"ds-search-form",14),o["\u0275\u0275listener"]("submitSearch",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().performedSearch=!0})),o["\u0275\u0275pipe"](6,"async"),o["\u0275\u0275pipe"](7,"async"),o["\u0275\u0275pipe"](8,"translate"),o["\u0275\u0275text"](9,"\n                "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](10,"\n              "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](11,"\n            "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](12,"\n\n            "),o["\u0275\u0275template"](13,R,5,8,"div",15),o["\u0275\u0275text"](14,"\n            "),o["\u0275\u0275template"](15,T,3,3,"div",16),o["\u0275\u0275text"](16,"\n          ")}if(2&e){const e=o["\u0275\u0275nextContext"]();let t=null,n=null;o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("query",null==(t=o["\u0275\u0275pipeBind1"](6,7,e.searchOptions$))?null:t.query)("scope",null==(n=o["\u0275\u0275pipeBind1"](7,9,e.searchOptions$))?null:n.scope)("currentUrl","./")("inPlaceSearch",!0)("searchPlaceholder",o["\u0275\u0275pipeBind1"](8,11,"collection.edit.item-mapper.search-form.placeholder")),o["\u0275\u0275advance"](8),o["\u0275\u0275property"]("ngIf",e.performedSearch),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",!e.performedSearch)}}const N=function(e){return{name:e}};let P=(()=>{class e{constructor(e,t,n,i,a,o,r,c,l){this.route=e,this.router=t,this.searchConfigService=n,this.searchService=i,this.notificationsService=a,this.itemDataService=o,this.collectionDataService=r,this.translateService=c,this.dsoNameService=l,this.FeatureIds=b.a,this.defaultSortOptions=new u.b("dc.title",u.a.ASC),this.performedSearch=!1}ngOnInit(){this.collectionRD$=this.route.parent.data.pipe(Object(c.a)(e=>e.dso),Object(d.i)()),this.collectionName$=this.collectionRD$.pipe(Object(c.a)(e=>this.dsoNameService.getName(e.payload))),this.searchOptions$=this.searchConfigService.paginatedSearchOptions,this.loadItemLists()}loadItemLists(){this.shouldUpdate$=new i.a(!0);const e=Object(a.a)(this.collectionRD$,this.searchOptions$,this.shouldUpdate$);this.collectionItemsRD$=e.pipe(Object(l.a)(([e,t,n])=>(!0===n&&this.shouldUpdate$.next(!1),this.itemDataService.findAllByHref(e.payload._links.mappedItems.href,Object.assign(t,{sort:this.defaultSortOptions}),!n,!1,Object(x.a)("owningCollection")).pipe(Object(d.c)())))),this.mappedItemsRD$=e.pipe(Object(l.a)(([e,t,n])=>this.searchService.search(Object.assign(new h.a(t),{query:this.buildQuery(e.payload.id,t.query),scope:void 0,dsoTypes:[m.a.ITEM],sort:this.defaultSortOptions}),1e4).pipe(Object(d.y)(),Object(s.a)(void 0))))}mapItems(e,t){const n=this.collectionRD$.pipe(Object(d.i)(),Object(c.a)(e=>e.payload),Object(l.a)(n=>Object(a.a)(e.map(e=>t?this.itemDataService.removeMappingFromCollection(e,n.id).pipe(Object(d.g)()):this.itemDataService.mapToCollection(e,n._links.self.href).pipe(Object(d.g)())))));this.showNotifications(n,t)}showNotifications(e,t){const n=t?"unmap":"map";e.subscribe(e=>{const t=e.filter(e=>e.hasSucceeded),i=e.filter(e=>e.hasFailed);t.length>0&&(Object(a.a)(this.translateService.get(`collection.edit.item-mapper.notifications.${n}.success.head`),this.translateService.get(`collection.edit.item-mapper.notifications.${n}.success.content`,{amount:t.length})).subscribe(([e,t])=>{this.notificationsService.success(e,t)}),this.shouldUpdate$.next(!0)),i.length>0&&Object(a.a)(this.translateService.get(`collection.edit.item-mapper.notifications.${n}.error.head`),this.translateService.get(`collection.edit.item-mapper.notifications.${n}.error.content`,{amount:i.length})).subscribe(([e,t])=>{this.notificationsService.error(e,t)}),this.switchToFirstTab()})}tabChange(e){this.performedSearch=!1,this.router.navigateByUrl(this.getCurrentUrl())}getCurrentUrl(){return this.router.url.indexOf("?")>-1?this.router.url.substring(0,this.router.url.indexOf("?")):this.router.url}buildQuery(e,t){const n=`-location.coll:"${e}"`;return Object(f.e)(t)?`${n} AND ${t}`:n}switchToFirstTab(){this.tabs.select("browseTab")}onCancel(){this.collectionRD$.pipe(Object(d.i)(),Object(d.o)(),Object(p.a)(1)).subscribe(e=>{this.router.navigate(["/collections/",e.id])})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](y.a),o["\u0275\u0275directiveInject"](y.h),o["\u0275\u0275directiveInject"](g.SEARCH_CONFIG_SERVICE),o["\u0275\u0275directiveInject"](I.a),o["\u0275\u0275directiveInject"](S.a),o["\u0275\u0275directiveInject"](C.a),o["\u0275\u0275directiveInject"](j.a),o["\u0275\u0275directiveInject"](E.e),o["\u0275\u0275directiveInject"](O.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-collection-item-mapper"]],viewQuery:function(e,t){if(1&e&&o["\u0275\u0275viewQuery"]($,1),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.tabs=e.first)}},features:[o["\u0275\u0275ProvidersFeature"]([{provide:g.SEARCH_CONFIG_SERVICE,useClass:v.a}])],decls:45,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12"],["id","collection-name",3,"innerHTML"],["ngbNav","",1,"nav-tabs",3,"destroyOnHide","navChange"],["tabs","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[1,"mt-2"],[1,"mt-2",3,"key","dsoRD$","paginationOptions","confirmButton","cancelButton","dangerConfirm","hideCollection","confirm","cancel"],[1,"row","mt-2"],[1,"col-12","col-lg-6"],["id","search-form",3,"query","scope","currentUrl","inPlaceSearch","searchPlaceholder","submitSearch"],[4,"ngIf"],["class","alert alert-info w-100","role","alert",4,"ngIf"],[1,"mt-2",3,"key","dsoRD$","paginationOptions","featureId","confirmButton","cancelButton","confirm","cancel"],["role","alert",1,"alert","alert-info","w-100"]],template:function(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275text"](1,"\n  "),o["\u0275\u0275elementStart"](2,"div",1),o["\u0275\u0275text"](3,"\n    "),o["\u0275\u0275elementStart"](4,"div",2),o["\u0275\u0275text"](5,"\n      "),o["\u0275\u0275elementStart"](6,"h2"),o["\u0275\u0275text"](7),o["\u0275\u0275pipe"](8,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](9,"\n      "),o["\u0275\u0275element"](10,"p",3),o["\u0275\u0275pipe"](11,"translate"),o["\u0275\u0275pipe"](12,"async"),o["\u0275\u0275text"](13,"\n      "),o["\u0275\u0275elementStart"](14,"p"),o["\u0275\u0275text"](15),o["\u0275\u0275pipe"](16,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](17,"\n\n      "),o["\u0275\u0275elementStart"](18,"ul",4,5),o["\u0275\u0275listener"]("navChange",(function(e){return t.tabChange(e)})),o["\u0275\u0275text"](20,"\n        "),o["\u0275\u0275elementStart"](21,"li",6),o["\u0275\u0275text"](22,"\n          "),o["\u0275\u0275elementStart"](23,"a",7),o["\u0275\u0275text"](24),o["\u0275\u0275pipe"](25,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](26,"\n          "),o["\u0275\u0275template"](27,k,7,9,"ng-template",8),o["\u0275\u0275text"](28,"\n        "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](29,"\n        "),o["\u0275\u0275elementStart"](30,"li",6),o["\u0275\u0275text"](31,"\n          "),o["\u0275\u0275elementStart"](32,"a",7),o["\u0275\u0275text"](33),o["\u0275\u0275pipe"](34,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](35,"\n          "),o["\u0275\u0275template"](36,F,17,13,"ng-template",8),o["\u0275\u0275text"](37,"\n        "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](38,"\n      "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](39,"\n      "),o["\u0275\u0275element"](40,"div",9),o["\u0275\u0275text"](41,"\n    "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](42,"\n  "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](43,"\n"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](44,"\n")),2&e){const e=o["\u0275\u0275reference"](19);o["\u0275\u0275advance"](7),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](8,9,"collection.edit.item-mapper.head")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("innerHTML",o["\u0275\u0275pipeBind2"](11,11,"collection.edit.item-mapper.collection",o["\u0275\u0275pureFunction1"](22,N,o["\u0275\u0275pipeBind1"](12,14,t.collectionName$))),o["\u0275\u0275sanitizeHtml"]),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](16,16,"collection.edit.item-mapper.description")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("destroyOnHide",!0),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngbNavItem","browseTab"),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](25,18,"collection.edit.item-mapper.tabs.browse")),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngbNavItem","mapTab"),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](34,20,"collection.edit.item-mapper.tabs.map")),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngbNavOutlet",e)}},directives:[w.t,w.v,w.w,w.u,w.y,D.a,V.a,B.p],pipes:[E.d,B.b],styles:[""],data:{animation:[r.a,r.c]},changeDetection:0}),e})()},tq32:function(e,t,n){"use strict";n.r(t),n.d(t,"CollectionPageModule",(function(){return he}));var i=n("fXoL"),a=n("ofXK"),o=n("PCNd"),r=(n("H2rt"),n("tyNb")),c=n("n7C5"),l=n("hxi3"),s=n("ye/0"),p=n("mrqg"),d=n("DNva"),m=n("ppE2"),u=n("lI3o"),f=n("sYmb"),g=n("X/78"),v=n("+6qv");const h=function(e){return{parent:e}};let x=(()=>{class e extends l.a{constructor(e,t,n,i,a,o,r){super(t,e,n,i,a,o,r),this.communityDataService=e,this.collectionDataService=t,this.routeService=n,this.router=i,this.notificationsService=a,this.translate=o,this.requestService=r,this.frontendURL="/collections/",this.type=s.a.type}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](p.a),i["\u0275\u0275directiveInject"](d.a),i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](r.h),i["\u0275\u0275directiveInject"](u.a),i["\u0275\u0275directiveInject"](f.e),i["\u0275\u0275directiveInject"](g.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-create-collection"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:16,vars:8,consts:[[1,"container"],[1,"row"],[1,"col-12","pb-4"],["id","sub-header",1,"border-bottom","pb-2"],[3,"submitForm","back","finish"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275text"](1,"\n    "),i["\u0275\u0275elementStart"](2,"div",1),i["\u0275\u0275text"](3,"\n        "),i["\u0275\u0275elementStart"](4,"div",2),i["\u0275\u0275text"](5,"\n            "),i["\u0275\u0275elementStart"](6,"h2",3),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275pipe"](9,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](10,"\n        "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](11,"\n    "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](12,"\n    "),i["\u0275\u0275elementStart"](13,"ds-collection-form",4),i["\u0275\u0275listener"]("submitForm",(function(e){return t.onSubmit(e)}))("back",(function(){return t.navigateToHome()}))("finish",(function(){return t.navigateToNewPage()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](14,"\n"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](15,"\n")),2&e){let e=null;i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](8,1,"collection.create.sub-head",i["\u0275\u0275pureFunction1"](6,h,null==(e=i["\u0275\u0275pipeBind1"](9,4,t.parentRD$))?null:e.payload.name)))}},directives:[v.a],pipes:[f.d,a.b],styles:[""]}),e})();var b=n("tPZA"),y=n("J3qs"),I=n("lJxs"),S=n("vkgz"),C=n("LRne"),j=n("1QIV");let E=(()=>{class e{constructor(e,t){this.router=e,this.communityService=t}canActivate(e,t){const n=e.queryParams.parent;return Object(y.a)(n)?(this.router.navigate(["/404"]),Object(C.a)(!1)):this.communityService.findById(n).pipe(Object(j.g)(),Object(I.a)(e=>Object(y.b)(e)&&e.hasSucceeded&&Object(y.b)(e.payload)),Object(S.a)(e=>{e||this.router.navigate(["/404"])}))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.h),i["\u0275\u0275inject"](p.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var O=n("WXw8"),w=n("O/5o");function D(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275element"](1,"i",12),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"collection.delete.processing"),""))}function V(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275element"](1,"i",13),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"collection.delete.confirm"),""))}const B=function(e){return{dso:e}};function $(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"\n            "),i["\u0275\u0275elementStart"](2,"div",3),i["\u0275\u0275text"](3,"\n                "),i["\u0275\u0275elementStart"](4,"h2",4),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](7,"\n                "),i["\u0275\u0275elementStart"](8,"p",5),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](11,"\n                "),i["\u0275\u0275elementStart"](12,"div",6),i["\u0275\u0275text"](13,"\n                  "),i["\u0275\u0275elementStart"](14,"div",7),i["\u0275\u0275text"](15,"\n                    "),i["\u0275\u0275elementStart"](16,"button",8),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const n=t.ngVar;return i["\u0275\u0275nextContext"]().onCancel(n)})),i["\u0275\u0275pipe"](17,"async"),i["\u0275\u0275text"](18,"\n                      "),i["\u0275\u0275element"](19,"i",9),i["\u0275\u0275text"](20),i["\u0275\u0275pipe"](21,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](22,"\n                    "),i["\u0275\u0275elementStart"](23,"button",10),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const n=t.ngVar;return i["\u0275\u0275nextContext"]().onConfirm(n)})),i["\u0275\u0275pipe"](24,"async"),i["\u0275\u0275text"](25,"\n                      "),i["\u0275\u0275template"](26,D,4,3,"span",11),i["\u0275\u0275pipe"](27,"async"),i["\u0275\u0275text"](28,"\n                      "),i["\u0275\u0275template"](29,V,4,3,"span",11),i["\u0275\u0275pipe"](30,"async"),i["\u0275\u0275text"](31,"\n                    "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](32,"\n                  "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](33,"\n                "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](34,"\n            "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](35,"\n        "),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.ngVar,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](6,7,"collection.delete.head")),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](10,9,"collection.delete.text",i["\u0275\u0275pureFunction1"](22,B,e.name))),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](17,12,n.processing$)),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](21,14,"collection.delete.cancel"),"\n                    "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](24,16,n.processing$)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](27,18,n.processing$)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pipeBind1"](30,20,n.processing$))}}let k=(()=>{class e extends O.a{constructor(e,t,n,i,a,o){super(e,t,n,i,a,o),this.dsoDataService=e,this.router=t,this.route=n,this.notifications=i,this.translate=a,this.requestService=o,this.frontendURL="/collections/"}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](d.a),i["\u0275\u0275directiveInject"](r.h),i["\u0275\u0275directiveInject"](r.a),i["\u0275\u0275directiveInject"](u.a),i["\u0275\u0275directiveInject"](f.e),i["\u0275\u0275directiveInject"](g.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-delete-collection"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:9,vars:3,consts:[[1,"container"],[1,"row"],[4,"ngVar"],[1,"col-12","pb-4"],["id","header",1,"border-bottom","pb-2"],[1,"pb-2"],[1,"form-group","row"],[1,"col","text-right"],[1,"btn","btn-outline-secondary",3,"disabled","click"],[1,"fas","fa-times"],[1,"btn","btn-danger","mr-2",3,"disabled","click"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-trash"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275text"](1,"\n    "),i["\u0275\u0275elementStart"](2,"div",1),i["\u0275\u0275text"](3,"\n        "),i["\u0275\u0275template"](4,$,36,24,"ng-container",2),i["\u0275\u0275pipe"](5,"async"),i["\u0275\u0275text"](6,"\n\n    "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](7,"\n\n"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](8,"\n")),2&e){let e=null;i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngVar",null==(e=i["\u0275\u0275pipeBind1"](5,1,t.dsoRD$))?null:e.payload)}},directives:[w.a,a.p],pipes:[a.b,f.d],styles:[""]}),e})();var R=n("SxV6"),T=n("eIep"),F=n("Obj/"),N=n("ac5F"),P=n("lP90"),M=n("4vdZ"),L=n("Frqi"),q=n("VYMa");const A=function(e){return{collection:e}};function U(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1,"\n        "),i["\u0275\u0275elementStart"](2,"h2",8),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](5,"\n        "),i["\u0275\u0275element"](6,"ds-item-metadata",9),i["\u0275\u0275text"](7,"\n        "),i["\u0275\u0275elementStart"](8,"button",10),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](11,"\n      "),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().ngVar,t=i["\u0275\u0275nextContext"]().ngVar,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](4,5,"collection.edit.template.head",i["\u0275\u0275pureFunction1"](10,A,null==t?null:t.name))),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("updateService",n.itemTemplateService)("item",null==e?null:e.payload),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("routerLink",n.getCollectionEditUrl(t)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](10,8,"collection.edit.template.cancel"))}}function X(e,t){1&e&&(i["\u0275\u0275element"](0,"ds-loading",11),i["\u0275\u0275pipe"](1,"translate")),2&e&&i["\u0275\u0275property"]("message",i["\u0275\u0275pipeBind1"](1,1,"collection.edit.template.loading"))}function H(e,t){if(1&e&&(i["\u0275\u0275element"](0,"ds-alert",12),i["\u0275\u0275pipe"](1,"translate")),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("type",e.AlertTypeEnum.Error)("content",i["\u0275\u0275pipeBind1"](1,2,"collection.edit.template.error"))}}function J(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275text"](1,"\n      "),i["\u0275\u0275template"](2,U,12,12,"ng-container",5),i["\u0275\u0275text"](3,"\n      "),i["\u0275\u0275template"](4,X,2,3,"ds-loading",6),i["\u0275\u0275text"](5,"\n      "),i["\u0275\u0275template"](6,H,2,4,"ds-alert",7),i["\u0275\u0275text"](7,"\n    "),i["\u0275\u0275elementEnd"]()),2&e){const e=t.ngVar;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",null==e?null:e.hasSucceeded),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",null==e?null:e.isLoading),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",null==e?null:e.hasFailed)}}function Q(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",1),i["\u0275\u0275text"](1,"\n  "),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275text"](3,"\n    "),i["\u0275\u0275template"](4,J,8,3,"div",3),i["\u0275\u0275pipe"](5,"async"),i["\u0275\u0275text"](6,"\n  "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](7,"\n"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngVar",i["\u0275\u0275pipeBind1"](5,1,e.itemRD$))}}let z=(()=>{class e{constructor(e,t){this.route=e,this.itemTemplateService=t,this.AlertTypeEnum=N.a}ngOnInit(){this.collectionRD$=this.route.parent.data.pipe(Object(R.a)(),Object(I.a)(e=>e.dso)),this.itemRD$=this.collectionRD$.pipe(Object(j.j)(),Object(T.a)(e=>this.itemTemplateService.findByCollectionID(e.id)))}getCollectionEditUrl(e){return e?Object(F.h)(e.uuid):""}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.a),i["\u0275\u0275directiveInject"](P.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-edit-item-template-page"]],decls:3,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"row"],["class","col-12",4,"ngVar"],[1,"col-12"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"type","content",4,"ngIf"],[1,"border-bottom"],[3,"updateService","item"],[1,"btn","btn-outline-secondary",3,"routerLink"],[3,"message"],[3,"type","content"]],template:function(e,t){if(1&e&&(i["\u0275\u0275template"](0,Q,8,3,"div",0),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275text"](2,"\n")),2&e){let e=null;i["\u0275\u0275property"]("ngVar",null==(e=i["\u0275\u0275pipeBind1"](1,1,t.collectionRD$))?null:e.payload)}},directives:[w.a,a.p,M.a,r.i,L.a,q.a],pipes:[a.b,f.d],encapsulation:2}),e})();var G=n("84Zn");let Y=(()=>{class e{constructor(e){this.itemTemplateService=e}resolve(e,t){return this.itemTemplateService.findByCollectionID(e.params.id,!0,!1,Object(G.a)("templateItemOf")).pipe(Object(j.g)())}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](P.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var _=n("hucJ"),K=n("GCaJ");let Z=(()=>{class e extends _.a{constructor(e,t){super(e,t),this.breadcrumbService=e,this.dataService=t}get followLinks(){return c.a}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](K.a),i["\u0275\u0275inject"](d.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var W=n("sfEo"),ee=n("A0IO"),te=n("0TMo"),ne=n("FU+A"),ie=n("1mcE"),ae=n("Vurf");let oe=(()=>{class e extends te.a{constructor(e,t,n,i){super(e,t,n,i),this.resolver=e,this.authorizationService=t,this.router=n,this.authService=i}getFeatureID(e,t){return Object(C.a)(ne.a.AdministratorOf)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](c.b),i["\u0275\u0275inject"](ie.a),i["\u0275\u0275inject"](r.h),i["\u0275\u0275inject"](ae.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var re=n("ierV"),ce=n("JTKQ");function le(e,t){}let se=(()=>{class e extends ce.a{getComponentName(){return"CollectionPageComponent"}importThemedComponent(e){return n("aem7")(`./${e}/app/collection-page/collection-page.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(null,"H2rt"))}}return e.\u0275fac=function(t){return pe(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-themed-community-page"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:0,consts:[["vcr",""]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,le,0,0,"ng-template",null,0,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275text"](2,"\n"))},encapsulation:2}),e})();const pe=i["\u0275\u0275getInheritedFactory"](se);let de=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[c.b,Y,Z,K.a,W.a,E,oe],imports:[[r.l.forChild([{path:F.a,component:x,canActivate:[b.a,E]},{path:":id",resolve:{dso:c.b,breadcrumb:Z},runGuardsAndResolvers:"always",children:[{path:F.b,loadChildren:()=>Promise.all([n.e(2),n.e(34)]).then(n.bind(null,"6yod")).then(e=>e.EditCollectionPageModule),canActivate:[oe]},{path:"delete",pathMatch:"full",component:k,canActivate:[b.a]},{path:F.e,component:z,canActivate:[b.a],resolve:{item:Y,breadcrumb:ee.a},data:{title:"collection.edit.template.title",breadcrumbKey:"collection.edit.template"}},{path:"",component:se,pathMatch:"full"}],data:{menu:{public:[{id:"statistics_collection_:id",active:!0,visible:!0,model:{type:re.b.LINK,text:"menu.section.statistics",link:"statistics/collections/:id/"}}]}}}])]]}),e})();var me=n("BZkK"),ue=(n("pBGb"),n("gWc+")),fe=n("9i+i"),ge=n("nVrp"),ve=n("fY2w");let he=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[ue.a],imports:[[a.c,o.a,de,fe.a.forRoot(),me.EditItemPageModule,ge.a,ve.a]]}),e})()}}]);
//# sourceMappingURL=27-es2015.29ffd90b9a2ea914ce1a.js.map