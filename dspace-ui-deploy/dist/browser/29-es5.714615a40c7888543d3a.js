!function(){function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return r(this,n)}}function r(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{A0IO:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("fXoL"),a=n("J3qs"),i=n("q5u1"),o=n("tv3Y"),s=function(){var e=function(){function e(t){l(this,e),this.breadcrumbService=t}return c(e,[{key:"resolve",value:function(e,t){var n=e.data.breadcrumbKey;if(Object(a.a)(n))throw new Error('You provided an i18nBreadcrumbResolver for url "'+e.url+"\" but no breadcrumbKey in the route's data");var r=Object(i.b)(e);return{provider:this.breadcrumbService,key:n,url:r}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](o.a))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},hw6V:function(t,r,a){"use strict";a.r(r),a.d(r,"ProcessPageModule",(function(){return Xt}));var s=a("fXoL"),p=a("PCNd"),u=a("tyNb"),d=a("1QIV"),m=a("lJxs"),f=a("eIep"),v=a("84Zn"),g=a("NqqP"),x=a("sfEo"),h=a("ofXK"),y=a("O/5o"),b=a("/4eN"),S=a("Wy8O"),I=a("J3qs"),w=a("TtJg"),E=a("lI3o"),O=a("sYmb"),C=a("X/78");function V(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](n)}}function j(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",12),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementStart"](3,"ul"),s["\u0275\u0275text"](4,"\n            "),s["\u0275\u0275template"](5,V,2,1,"li",13),s["\u0275\u0275text"](6,"\n        "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("\n        ",s["\u0275\u0275pipeBind1"](2,2,"process.new.parameter.required.missing"),"\n        "),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngForOf",n.missingParameters)}}var P,k=function(){return["/processes"]},F=((P=function(){function e(t,n,r,a,i){l(this,e),this.scriptService=t,this.notificationsService=n,this.translationService=r,this.requestService=a,this.router=i,this.selectedScript=void 0,this.process=void 0,this.parameters=[],this.files=[],this.missingParameters=[]}return c(e,[{key:"ngOnInit",value:function(){this.process=new b.a}},{key:"submitForm",value:function(e){var t=this;if(Object(I.d)(this.parameters)&&(this.parameters=[]),this.validateForm(e)&&!this.isRequiredMissing()){var n=this.parameters.map((function(e){return{name:e.name,value:t.checkValue(e)}}));this.scriptService.invoke(this.selectedScript.id,n,this.files).pipe(Object(d.g)()).subscribe((function(e){if(e.hasSucceeded){var n=t.translationService.get("process.new.notification.success.title"),r=t.translationService.get("process.new.notification.success.content");t.notificationsService.success(n,r),t.sendBack()}else{var a=t.translationService.get("process.new.notification.error.title"),i=t.translationService.get("process.new.notification.error.content");t.notificationsService.error(a,i)}}))}}},{key:"checkValue",value:function(e){return"object"==typeof e.value?(this.files=[].concat(i(this.files),[e.value]),e.value.name):e.value}},{key:"validateForm",value:function(e){var t=!0;return Object.keys(e.controls).forEach((function(n){e.controls[n].invalid&&(e.controls[n].markAsDirty(),t=!1)})),t}},{key:"isRequiredMissing",value:function(){this.missingParameters=[];var e,t=this.parameters.map((function(e){return e.name})),n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}(this.selectedScript.parameters.filter((function(e){return e.mandatory})));try{for(n.s();!(e=n.n()).done;){var r=e.value;t.includes(r.name)||this.missingParameters.push(r.name)}}catch(a){n.e(a)}finally{n.f()}return this.missingParameters.length>0}},{key:"sendBack",value:function(){this.requestService.removeByHrefSubstring("/processes"),this.router.navigateByUrl(Object(S.c)())}}]),e}()).\u0275fac=function(e){return new(e||P)(s["\u0275\u0275directiveInject"](w.c),s["\u0275\u0275directiveInject"](E.a),s["\u0275\u0275directiveInject"](O.e),s["\u0275\u0275directiveInject"](C.a),s["\u0275\u0275directiveInject"](u.h))},P.\u0275cmp=s["\u0275\u0275defineComponent"]({type:P,selectors:[["ds-process-form"]],inputs:{selectedScript:"selectedScript",process:"process",parameters:"parameters",headerKey:"headerKey"},decls:36,vars:16,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"col-12","col-md-6"],[3,"ngSubmit"],["form","ngForm"],[3,"script","select"],[3,"initialParams","script","updateParameters"],[1,"btn","btn-light","float-left",3,"routerLink"],["type","submit",1,"btn","btn-light","float-right"],[3,"script"],["class","mt-3 alert alert-danger validation-error",4,"ngIf"],[1,"mt-3","alert","alert-danger","validation-error"],[4,"ngFor","ngForOf"]],template:function(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275text"](3,"\n        "),s["\u0275\u0275elementStart"](4,"h2",2),s["\u0275\u0275text"](5),s["\u0275\u0275pipe"](6,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n        "),s["\u0275\u0275elementStart"](8,"div",3),s["\u0275\u0275text"](9,"\n            "),s["\u0275\u0275elementStart"](10,"form",4,5),s["\u0275\u0275listener"]("ngSubmit",(function(){s["\u0275\u0275restoreView"](n);var e=s["\u0275\u0275reference"](11);return t.submitForm(e)})),s["\u0275\u0275text"](12,"\n                "),s["\u0275\u0275elementStart"](13,"ds-scripts-select",6),s["\u0275\u0275listener"]("select",(function(e){return t.selectedScript=e,t.parameters=void 0})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](14,"\n                "),s["\u0275\u0275elementStart"](15,"ds-process-parameters",7),s["\u0275\u0275listener"]("updateParameters",(function(e){return t.parameters=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](16,"\n                "),s["\u0275\u0275elementStart"](17,"button",8),s["\u0275\u0275text"](18),s["\u0275\u0275pipe"](19,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](20,"\n                "),s["\u0275\u0275elementStart"](21,"button",9),s["\u0275\u0275text"](22),s["\u0275\u0275pipe"](23,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](24,"\n            "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](25,"\n        "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](26,"\n        "),s["\u0275\u0275elementStart"](27,"div",3),s["\u0275\u0275text"](28,"\n            "),s["\u0275\u0275element"](29,"ds-script-help",10),s["\u0275\u0275text"](30,"\n        "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](31,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](32,"\n\n    "),s["\u0275\u0275template"](33,j,8,4,"div",11),s["\u0275\u0275text"](34,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](35,"\n")}2&e&&(s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"]("\n            ",s["\u0275\u0275pipeBind1"](6,9,t.headerKey),"\n        "),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("script",t.selectedScript),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("initialParams",t.parameters)("script",t.selectedScript),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction0"](15,k)),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](19,11,"process.new.cancel")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](23,13,"process.new.submit")),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("script",t.selectedScript),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",t.missingParameters.length>0))},styles:[""]}),P);function B(e){return e}function L(e,t){if(1&e&&(s["\u0275\u0275element"](0,"ds-process-form",2),s["\u0275\u0275pipe"](1,"async")),2&e){var n=t.ngVar,r=s["\u0275\u0275nextContext"](2);s["\u0275\u0275property"]("selectedScript",s["\u0275\u0275pipeBind1"](1,2,r.script$))("parameters",n.parameters)}}function T(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275template"](2,L,2,4,"ds-process-form",1),s["\u0275\u0275pipe"](3,"async"),s["\u0275\u0275text"](4,"\n"),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngVar",s["\u0275\u0275pipeBind1"](3,1,n.fromExisting$))}}function $(e,t){1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275element"](2,"ds-process-form",3),s["\u0275\u0275text"](3,"\n"),s["\u0275\u0275elementContainerEnd"]())}var N,M=((N=function(){function e(t,n,r){l(this,e),this.route=t,this.processService=n,this.linkService=r}return c(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.queryParams.id;t&&(this.fromExisting$=this.processService.findById(t).pipe(Object(d.j)()),this.script$=this.fromExisting$.pipe(Object(m.a)((function(t){return e.linkService.resolveLink(t,Object(v.a)("script"))})),Object(f.a)((function(e){return e.script})),Object(d.j)()))}}]),e}()).\u0275fac=function(e){return new(e||N)(s["\u0275\u0275directiveInject"](u.a),s["\u0275\u0275directiveInject"](g.a),s["\u0275\u0275directiveInject"](x.a))},N.\u0275cmp=s["\u0275\u0275defineComponent"]({type:N,selectors:[["ds-new-process"]],decls:6,vars:6,consts:[[4,"ngIf"],["headerKey","process.new.header",3,"selectedScript","parameters",4,"ngVar"],["headerKey","process.new.header",3,"selectedScript","parameters"],["headerKey","process.new.header"]],template:function(e,t){1&e&&(s["\u0275\u0275template"](0,T,5,3,"ng-container",0),s["\u0275\u0275pipe"](1,"async"),s["\u0275\u0275text"](2,"\n"),s["\u0275\u0275template"](3,$,4,0,"ng-container",0),s["\u0275\u0275pipe"](4,"async"),s["\u0275\u0275text"](5,"\n")),2&e&&(s["\u0275\u0275property"]("ngIf",t.fromExisting$&&s["\u0275\u0275pipeBind1"](1,2,t.fromExisting$)),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",!t.fromExisting$||!s["\u0275\u0275pipeBind1"](4,4,t.fromExisting$)))},directives:[h.p,y.a,F],pipes:[h.b],styles:[""]}),N),q=a("7DXY"),A=a("B/au"),D=a("MFUF"),_=a("wLgS"),R=a("Exvd");function z(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td"),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.ngVar;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](n)}}var U=function(e){return["/processes/",e]};function K(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275text"](1,"\n                    "),s["\u0275\u0275elementStart"](2,"td"),s["\u0275\u0275elementStart"](3,"a",11),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](5,"\n                    "),s["\u0275\u0275elementStart"](6,"td"),s["\u0275\u0275elementStart"](7,"a",11),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9,"\n                    "),s["\u0275\u0275template"](10,z,2,1,"td",12),s["\u0275\u0275pipe"](11,"async"),s["\u0275\u0275text"](12,"\n                    "),s["\u0275\u0275elementStart"](13,"td"),s["\u0275\u0275text"](14),s["\u0275\u0275pipe"](15,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](16,"\n                    "),s["\u0275\u0275elementStart"](17,"td"),s["\u0275\u0275text"](18),s["\u0275\u0275pipe"](19,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](20,"\n                    "),s["\u0275\u0275elementStart"](21,"td"),s["\u0275\u0275text"](22),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](23,"\n                "),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction1"](18,U,n.processId)),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](n.processId),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction1"](20,U,n.processId)),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](n.scriptName),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngVar",s["\u0275\u0275pipeBind1"](11,8,r.getEpersonName(n.userId))),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind3"](15,10,n.startTime,r.dateFormat,"UTC")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind3"](19,14,n.endTime,r.dateFormat,"UTC")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](n.processStatus)}}function G(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"ds-pagination",6),s["\u0275\u0275pipe"](1,"async"),s["\u0275\u0275pipe"](2,"async"),s["\u0275\u0275text"](3,"\n        "),s["\u0275\u0275elementStart"](4,"div",7),s["\u0275\u0275text"](5,"\n            "),s["\u0275\u0275elementStart"](6,"table",8),s["\u0275\u0275text"](7,"\n                "),s["\u0275\u0275elementStart"](8,"thead"),s["\u0275\u0275text"](9,"\n                "),s["\u0275\u0275elementStart"](10,"tr"),s["\u0275\u0275text"](11,"\n                    "),s["\u0275\u0275elementStart"](12,"th",9),s["\u0275\u0275text"](13),s["\u0275\u0275pipe"](14,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](15,"\n                    "),s["\u0275\u0275elementStart"](16,"th",9),s["\u0275\u0275text"](17),s["\u0275\u0275pipe"](18,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](19,"\n                    "),s["\u0275\u0275elementStart"](20,"th",9),s["\u0275\u0275text"](21),s["\u0275\u0275pipe"](22,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](23,"\n                    "),s["\u0275\u0275elementStart"](24,"th",9),s["\u0275\u0275text"](25),s["\u0275\u0275pipe"](26,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](27,"\n                    "),s["\u0275\u0275elementStart"](28,"th",9),s["\u0275\u0275text"](29),s["\u0275\u0275pipe"](30,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](31,"\n                    "),s["\u0275\u0275elementStart"](32,"th",9),s["\u0275\u0275text"](33),s["\u0275\u0275pipe"](34,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](35,"\n                "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](36,"\n                "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](37,"\n                "),s["\u0275\u0275elementStart"](38,"tbody"),s["\u0275\u0275text"](39,"\n                "),s["\u0275\u0275template"](40,K,24,22,"tr",10),s["\u0275\u0275pipe"](41,"async"),s["\u0275\u0275text"](42,"\n                "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](43,"\n            "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](44,"\n        "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](45,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){var n,r,a,i=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("paginationOptions",i.pageConfig)("pageInfoState",null==(n=s["\u0275\u0275pipeBind1"](1,12,i.processesRD$))?null:n.payload)("collectionSize",null==(r=s["\u0275\u0275pipeBind1"](2,14,i.processesRD$))||null==r.payload?null:r.payload.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),s["\u0275\u0275advance"](13),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](14,16,"process.overview.table.id")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](18,18,"process.overview.table.name")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](22,20,"process.overview.table.user")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](26,22,"process.overview.table.start")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](30,24,"process.overview.table.finish")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](34,26,"process.overview.table.status")),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngForOf",null==(a=s["\u0275\u0275pipeBind1"](41,28,i.processesRD$))||null==a.payload?null:a.payload.page)}}var Z,X,Y,H=((X=function(){function e(t,n,r){l(this,e),this.processService=t,this.paginationService=n,this.ePersonService=r,this.config=Object.assign(new A.f,{elementsPerPage:20}),this.pageConfig=Object.assign(new q.a,{id:"po",pageSize:20}),this.dateFormat="yyyy-MM-dd HH:mm:ss"}return c(e,[{key:"ngOnInit",value:function(){this.setProcesses()}},{key:"setProcesses",value:function(){var e=this;this.processesRD$=this.paginationService.getFindListOptions(this.pageConfig.id,this.config).pipe(Object(f.a)((function(t){return e.processService.findAll(t)})))}},{key:"getEpersonName",value:function(e){return this.ePersonService.findById(e).pipe(Object(d.j)(),Object(m.a)((function(e){return e.name})))}},{key:"ngOnDestroy",value:function(){this.paginationService.clearPagination(this.pageConfig.id)}}]),e}()).\u0275fac=function(e){return new(e||X)(s["\u0275\u0275directiveInject"](g.a),s["\u0275\u0275directiveInject"](D.a),s["\u0275\u0275directiveInject"](_.a))},X.\u0275cmp=s["\u0275\u0275defineComponent"]({type:X,selectors:[["ds-process-overview"]],decls:18,vars:9,consts:[[1,"container"],[1,"d-flex"],[1,"flex-grow-1"],["routerLink","/processes/new",1,"btn","btn-lg","btn-success"],[1,"fas","fa-plus","pr-2"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"],[4,"ngVar"]],template:function(e,t){var n;(1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275text"](3,"\n        "),s["\u0275\u0275elementStart"](4,"h2",2),s["\u0275\u0275text"](5),s["\u0275\u0275pipe"](6,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n        "),s["\u0275\u0275elementStart"](8,"button",3),s["\u0275\u0275element"](9,"i",4),s["\u0275\u0275text"](10),s["\u0275\u0275pipe"](11,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](12,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](13,"\n    "),s["\u0275\u0275template"](14,G,46,30,"ds-pagination",5),s["\u0275\u0275pipe"](15,"async"),s["\u0275\u0275text"](16,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](17,"\n")),2&e)&&(s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](6,3,"process.overview.title")),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](11,5,"process.overview.new")),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",(null==(n=s["\u0275\u0275pipeBind1"](15,7,t.processesRD$))||null==n.payload?null:n.payload.totalElements)>0))},directives:[u.i,h.p,R.a,h.o,u.k,y.a],pipes:[O.d,h.b,h.e],encapsulation:2}),X),J=((Z=function(){function e(t){l(this,e),this.processService=t}return c(e,[{key:"resolve",value:function(e,t){return this.processService.findById(e.params.id,!1,!0,Object(v.a)("script")).pipe(Object(d.g)())}}]),e}()).\u0275fac=function(e){return new(e||Z)(s["\u0275\u0275inject"](g.a))},Z.\u0275prov=s["\u0275\u0275defineInjectable"]({token:Z,factory:Z.\u0275fac}),Z),W=a("2Vo4"),Q=a("vkgz"),ee=a("IzEk"),te=a("nYR2"),ne=a("WIyL"),re=a("zZO8"),ae=a("ac5F"),ie=a("AQcY"),oe=a("PCBh"),se=a("C765"),le=a("Vurf"),pe=a("tk/3"),ce=["*"],ue=((Y=function e(){l(this,e)}).\u0275fac=function(e){return new(e||Y)},Y.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Y,selectors:[["ds-process-detail-field"]],inputs:{title:"title"},ngContentSelectors:ce,decls:6,vars:3,consts:[[1,"mt-4"]],template:function(e,t){1&e&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275elementStart"](0,"h4",0),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](3,"\n"),s["\u0275\u0275projection"](4),s["\u0275\u0275text"](5,"\n")),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](2,1,t.title)))},pipes:[O.d],encapsulation:2}),Y),de=a("OXP5"),me=a("Frqi"),fe=a("t8/W");function ve(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate2"]("",null==n?null:n.name," ",null==n?null:n.value,"")}}function ge(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"ds-process-detail-field",15),s["\u0275\u0275text"](1,"\n        "),s["\u0275\u0275template"](2,ve,2,2,"div",16),s["\u0275\u0275text"](3,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]().ngVar;s["\u0275\u0275property"]("title","process.detail.arguments"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",null==n?null:n.parameters)}}function xe(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"ds-file-download-link",20),s["\u0275\u0275text"](1,"\n            "),s["\u0275\u0275elementStart"](2,"span"),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4,"\n            "),s["\u0275\u0275elementStart"](5,"span"),s["\u0275\u0275text"](6),s["\u0275\u0275pipe"](7,"dsFileSize"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](8,"\n          "),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=s["\u0275\u0275nextContext"](4);s["\u0275\u0275property"]("bitstream",n),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](r.getFileName(n)),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("(",s["\u0275\u0275pipeBind1"](7,3,null==n?null:n.sizeBytes),")")}}function he(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"ds-process-detail-field",18),s["\u0275\u0275text"](1,"\n          "),s["\u0275\u0275template"](2,xe,9,5,"ds-file-download-link",19),s["\u0275\u0275text"](3,"\n        "),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]().ngVar;s["\u0275\u0275property"]("title","process.detail.output-files"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",n)}}function ye(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275text"](1,"\n        "),s["\u0275\u0275template"](2,he,4,2,"ds-process-detail-field",17),s["\u0275\u0275text"](3,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){var n=t.ngVar;s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",n&&(null==n?null:n.length)>0)}}function be(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"ds-process-detail-field",21),s["\u0275\u0275pipe"](1,"translate"),s["\u0275\u0275text"](2,"\n        "),s["\u0275\u0275elementStart"](3,"div"),s["\u0275\u0275text"](4),s["\u0275\u0275pipe"](5,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](6,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]().ngVar,r=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("title",s["\u0275\u0275pipeBind1"](1,2,"process.detail.start-time")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind3"](5,4,n.startTime,r.dateFormat,"UTC"))}}function Se(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"ds-process-detail-field",22),s["\u0275\u0275pipe"](1,"translate"),s["\u0275\u0275text"](2,"\n        "),s["\u0275\u0275elementStart"](3,"div"),s["\u0275\u0275text"](4),s["\u0275\u0275pipe"](5,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](6,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]().ngVar,r=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("title",s["\u0275\u0275pipeBind1"](1,2,"process.detail.end-time")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind3"](5,4,n.endTime,r.dateFormat,"UTC"))}}function Ie(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"ds-process-detail-field",23),s["\u0275\u0275pipe"](1,"translate"),s["\u0275\u0275text"](2,"\n        "),s["\u0275\u0275elementStart"](3,"div"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](5,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]().ngVar;s["\u0275\u0275property"]("title",s["\u0275\u0275pipeBind1"](1,2,"process.detail.status")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](n.processStatus)}}function we(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",29),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](3).showProcessOutputLogs()})),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()}2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("\n        ",s["\u0275\u0275pipeBind1"](2,1,"process.detail.logs.button"),"\n      "))}function Ee(e,t){1&e&&(s["\u0275\u0275element"](0,"ds-loading",30),s["\u0275\u0275pipe"](1,"translate")),2&e&&s["\u0275\u0275propertyInterpolate"]("message",s["\u0275\u0275pipeBind1"](1,1,"process.detail.logs.loading"))}function Oe(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"pre",31),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"async"),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](2,1,n.outputLogs$))}}function Ce(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",32),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("\n        ",s["\u0275\u0275pipeBind1"](2,1,"process.detail.logs.none"),"\n      "))}function Ve(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"ds-process-detail-field",24),s["\u0275\u0275text"](1,"\n      "),s["\u0275\u0275template"](2,we,3,3,"button",25),s["\u0275\u0275text"](3,"\n      "),s["\u0275\u0275template"](4,Ee,2,3,"ds-loading",26),s["\u0275\u0275pipe"](5,"async"),s["\u0275\u0275text"](6,"\n      "),s["\u0275\u0275template"](7,Oe,3,3,"pre",27),s["\u0275\u0275pipe"](8,"async"),s["\u0275\u0275text"](9,"\n      "),s["\u0275\u0275template"](10,Ce,3,3,"p",28),s["\u0275\u0275pipe"](11,"async"),s["\u0275\u0275pipe"](12,"async"),s["\u0275\u0275pipe"](13,"async"),s["\u0275\u0275text"](14,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]().ngVar,r=s["\u0275\u0275nextContext"](),a=null,i=null;s["\u0275\u0275property"]("title","process.detail.output"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",!r.showOutputLogs&&null!=(null==n||null==n._links||null==n._links.output?null:n._links.output.href)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",s["\u0275\u0275pipeBind1"](5,5,r.retrievingOutputLogs$)),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",r.showOutputLogs&&(null==(a=s["\u0275\u0275pipeBind1"](8,7,r.outputLogs$))?null:a.length)>0),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",!s["\u0275\u0275pipeBind1"](11,9,r.retrievingOutputLogs$)&&r.showOutputLogs&&!s["\u0275\u0275pipeBind1"](12,11,r.outputLogs$)||0==(null==(i=s["\u0275\u0275pipeBind1"](13,13,r.outputLogs$))?null:i.length)||!n._links.output)}}var je=function(e,t){return{id:e,name:t}},Pe=function(e){return{id:e}};function ke(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",1),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275text"](3,"\n        "),s["\u0275\u0275elementStart"](4,"h2",3),s["\u0275\u0275text"](5),s["\u0275\u0275pipe"](6,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n        "),s["\u0275\u0275elementStart"](8,"div"),s["\u0275\u0275text"](9,"\n            "),s["\u0275\u0275elementStart"](10,"button",4),s["\u0275\u0275element"](11,"i",5),s["\u0275\u0275text"](12),s["\u0275\u0275pipe"](13,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](14,"\n        "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](15,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](16,"\n    "),s["\u0275\u0275elementStart"](17,"ds-process-detail-field",6),s["\u0275\u0275text"](18,"\n        "),s["\u0275\u0275elementStart"](19,"div"),s["\u0275\u0275text"](20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](21,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](22,"\n\n    "),s["\u0275\u0275template"](23,ge,4,2,"ds-process-detail-field",7),s["\u0275\u0275text"](24,"\n\n    "),s["\u0275\u0275template"](25,ye,4,1,"div",8),s["\u0275\u0275pipe"](26,"async"),s["\u0275\u0275text"](27,"\n\n    "),s["\u0275\u0275template"](28,be,7,8,"ds-process-detail-field",9),s["\u0275\u0275text"](29,"\n\n    "),s["\u0275\u0275template"](30,Se,7,8,"ds-process-detail-field",10),s["\u0275\u0275text"](31,"\n\n    "),s["\u0275\u0275template"](32,Ie,6,4,"ds-process-detail-field",11),s["\u0275\u0275text"](33,"\n\n    "),s["\u0275\u0275template"](34,Ve,15,15,"ds-process-detail-field",12),s["\u0275\u0275text"](35,"\n\n    "),s["\u0275\u0275elementStart"](36,"div",13),s["\u0275\u0275text"](37,"\n      "),s["\u0275\u0275elementStart"](38,"a",14),s["\u0275\u0275text"](39),s["\u0275\u0275pipe"](40,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](41,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](42,"\n"),s["\u0275\u0275elementEnd"]()),2&e){var n,r=t.ngVar,a=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind2"](6,13,"process.detail.title",s["\u0275\u0275pureFunction2"](22,je,null==r?null:r.processId,null==r?null:r.scriptName))),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("queryParams",s["\u0275\u0275pureFunction1"](25,Pe,null==r?null:r.processId)),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](13,16,"process.detail.create")),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("title","process.detail.script"),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](null==r?null:r.scriptName),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",(null==r?null:r.parameters)&&(null==r||null==r.parameters?null:r.parameters.length)>0),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngVar",null==(n=s["\u0275\u0275pipeBind1"](26,18,a.filesRD$))||null==n.payload?null:n.payload.page),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",r&&r.startTime),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",r&&r.endTime),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",r&&r.processStatus),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",a.isProcessFinished(r)),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("routerLink","/processes"),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](40,20,"process.detail.back"))}}var Fe,Be,Le,Te,$e=((Fe=function(){function e(t,n,r,a,i,o,s,p){l(this,e),this.route=t,this.router=n,this.processService=r,this.bitstreamDataService=a,this.nameService=i,this.zone=o,this.authService=s,this.http=p,this.AlertTypeEnum=ae.a,this.outputLogs$=new W.a(void 0),this.dateFormat="yyyy-MM-dd HH:mm:ss ZZZZ"}return c(e,[{key:"ngOnInit",value:function(){var e=this;this.showOutputLogs=!1,this.retrievingOutputLogs$=new W.a(!1),this.processRD$=this.route.data.pipe(Object(m.a)((function(e){return e.process})),Object(d.t)(this.router,this.authService)),this.filesRD$=this.processRD$.pipe(Object(d.j)(),Object(f.a)((function(t){return e.processService.getFiles(t.processId)})))}},{key:"getFileName",value:function(e){return e instanceof ne.a?this.nameService.getName(e):"unknown"}},{key:"showProcessOutputLogs",value:function(){var e=this;console.log("showProcessOutputLogs"),this.retrievingOutputLogs$.next(!0),this.zone.runOutsideAngular((function(){var t=e.processRD$.pipe(Object(d.j)(),Object(f.a)((function(t){return e.bitstreamDataService.findByHref(t._links.output.href,!1)})));e.outputLogFileUrl$=t.pipe(Object(d.i)(),Object(Q.a)((function(t){204===t.statusCode&&(e.zone.run((function(){return e.retrievingOutputLogs$.next(!1)})),e.showOutputLogs=!0)})),Object(f.a)((function(t){var n=t.payload._links.content.href;return e.authService.getShortlivedToken().pipe(Object(ee.a)(1),Object(m.a)((function(e){return Object(I.b)(e)?new re.a(n,"?authentication-token=".concat(e)).toString():n})))})))})),this.outputLogFileUrl$.pipe(Object(ee.a)(1),Object(f.a)((function(t){return e.getTextFile(t)})),Object(te.a)((function(){return e.zone.run((function(){return e.retrievingOutputLogs$.next(!1)}))}))).subscribe((function(t){e.outputLogs$.next(t)}))}},{key:"getTextFile",value:function(e){var t=this;return this.http.get(e,{responseType:"text"}).pipe(Object(te.a)((function(){t.showOutputLogs=!0})))}},{key:"isProcessFinished",value:function(e){return Object(I.b)(e)&&Object(I.b)(e.processStatus)&&(e.processStatus.toString()===ie.a[ie.a.COMPLETED].toString()||e.processStatus.toString()===ie.a[ie.a.FAILED].toString())}}]),e}()).\u0275fac=function(e){return new(e||Fe)(s["\u0275\u0275directiveInject"](u.a),s["\u0275\u0275directiveInject"](u.h),s["\u0275\u0275directiveInject"](g.a),s["\u0275\u0275directiveInject"](oe.a),s["\u0275\u0275directiveInject"](se.a),s["\u0275\u0275directiveInject"](s.NgZone),s["\u0275\u0275directiveInject"](le.a),s["\u0275\u0275directiveInject"](pe.b))},Fe.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Fe,selectors:[["ds-process-detail"]],decls:3,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"d-flex"],[1,"flex-grow-1"],["routerLink","/processes/new",1,"btn","btn-lg","btn-success",3,"queryParams"],[1,"fas","fa-plus","pr-2"],["id","process-name",3,"title"],["id","process-arguments",3,"title",4,"ngIf"],[4,"ngVar"],["id","process-start-time",3,"title",4,"ngIf"],["id","process-end-time",3,"title",4,"ngIf"],["id","process-status",3,"title",4,"ngIf"],["id","process-output",3,"title",4,"ngIf"],[2,"text-align","right"],[1,"btn","btn-outline-secondary","mt-3",3,"routerLink"],["id","process-arguments",3,"title"],[4,"ngFor","ngForOf"],["id","process-files",3,"title",4,"ngIf"],["id","process-files",3,"title"],[3,"bitstream",4,"ngFor","ngForOf"],[3,"bitstream"],["id","process-start-time",3,"title"],["id","process-end-time",3,"title"],["id","process-status",3,"title"],["id","process-output",3,"title"],["id","showOutputButton","class","btn btn-primary",3,"click",4,"ngIf"],["class","ds-loading",3,"message",4,"ngIf"],["class","font-weight-bold text-secondary bg-light p-3",4,"ngIf"],["id","no-output-logs-message",4,"ngIf"],["id","showOutputButton",1,"btn","btn-primary",3,"click"],[1,"ds-loading",3,"message"],[1,"font-weight-bold","text-secondary","bg-light","p-3"],["id","no-output-logs-message"]],template:function(e,t){var n;(1&e&&(s["\u0275\u0275template"](0,ke,43,27,"div",0),s["\u0275\u0275pipe"](1,"async"),s["\u0275\u0275text"](2,"\n")),2&e)&&s["\u0275\u0275property"]("ngVar",null==(n=s["\u0275\u0275pipeBind1"](1,1,t.processRD$))?null:n.payload)},directives:[y.a,u.i,ue,h.p,u.k,h.o,de.a,me.a],pipes:[h.b,O.d,fe.a,h.e],encapsulation:2}),Fe),Ne=a("A0IO"),Me=a("LRne"),qe=a("zr/d"),Ae=((Le=function(){function e(){l(this,e)}return c(e,[{key:"getBreadcrumbs",value:function(e,t){return Object(Me.a)([new qe.a(e.processId+" - "+e.scriptName,t)])}}]),e}()).\u0275fac=function(e){return new(e||Le)},Le.\u0275prov=s["\u0275\u0275defineInjectable"]({token:Le,factory:Le.\u0275fac}),Le),De=((Be=function(){function e(t,n){l(this,e),this.breadcrumbService=t,this.processService=n}return c(e,[{key:"resolve",value:function(e,t){var n=this,r=e.params.id;return this.processService.findById(e.params.id,!0,!1,Object(v.a)("script")).pipe(Object(d.i)(),Object(d.o)(),Object(m.a)((function(e){var a=t.url,i=a.substr(0,a.indexOf(r))+r;return{provider:n.breadcrumbService,key:e,url:i}})))}}]),e}()).\u0275fac=function(e){return new(e||Be)(s["\u0275\u0275inject"](Ae),s["\u0275\u0275inject"](g.a))},Be.\u0275prov=s["\u0275\u0275defineInjectable"]({token:Be,factory:Be.\u0275fac}),Be),_e=a("tPZA"),Re=((Te=function e(){l(this,e)}).\u0275fac=function(e){return new(e||Te)},Te.\u0275mod=s["\u0275\u0275defineNgModule"]({type:Te}),Te.\u0275inj=s["\u0275\u0275defineInjector"]({providers:[J],imports:[[u.l.forChild([{path:"",resolve:{breadcrumb:Ne.a},data:{breadcrumbKey:"process.overview"},canActivate:[_e.a],children:[{path:"",component:H,data:{title:"process.overview.title"}},{path:"new",component:M,resolve:{breadcrumb:Ne.a},data:{title:"process.new.title",breadcrumbKey:"process.new"}},{path:":id",component:$e,resolve:{process:J,breadcrumb:De}}]}])]]}),Te),ze=a("pLZG"),Ue=a("/uUt"),Ke=a("3Pt+");function Ge(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"option",5),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("ngValue",n.id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("\n            ",n.name,"\n        ")}}function Ze(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("\n            ",s["\u0275\u0275pipeBind1"](2,1,"process.new.select-script.required"),"\n        "))}function Xe(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",8),s["\u0275\u0275text"](1,"\n        "),s["\u0275\u0275template"](2,Ze,3,3,"div",9),s["\u0275\u0275text"](3,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){s["\u0275\u0275nextContext"]();var n=s["\u0275\u0275reference"](7);s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",n.errors.required)}}function Ye(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",1),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275elementStart"](2,"label",2),s["\u0275\u0275text"](3),s["\u0275\u0275pipe"](4,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](5,"\n    "),s["\u0275\u0275elementStart"](6,"select",3,4),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().selectedScript=e})),s["\u0275\u0275text"](8,"\n        "),s["\u0275\u0275elementStart"](9,"option",5),s["\u0275\u0275text"](10),s["\u0275\u0275pipe"](11,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](12,"\n        "),s["\u0275\u0275template"](13,Ge,2,2,"option",6),s["\u0275\u0275pipe"](14,"async"),s["\u0275\u0275text"](15,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](16,"\n\n    "),s["\u0275\u0275template"](17,Xe,4,1,"div",7),s["\u0275\u0275text"](18,"\n"),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275reference"](7),a=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](4,6,"process.new.select-script")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngModel",a.selectedScript),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngValue",void 0),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](11,8,"process.new.select-script.placeholder")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngForOf",s["\u0275\u0275pipeBind1"](14,10,a.scripts$)),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",r.invalid&&(r.dirty||r.touched))}}var He,Je=((He=function(){function e(t,n,r){l(this,e),this.scriptService=t,this.router=n,this.route=r,this.select=new s.EventEmitter}return c(e,[{key:"ngOnInit",value:function(){var e=this;this.scripts$=this.scriptService.findAll({elementsPerPage:9999}).pipe(Object(d.i)(),Object(d.o)(),Object(m.a)((function(e){return e.page}))),this.routeSub=this.route.queryParams.pipe(Object(ze.a)((function(e){return Object(I.a)(e.id)})),Object(m.a)((function(e){return e.script})),Object(Ue.a)(),Object(f.a)((function(t){return e.scripts$.pipe(Object(ee.a)(1),Object(m.a)((function(e){return e.find((function(e){return e.id===t}))})))}))).subscribe((function(t){e._selectedScript=t,e.select.emit(t)}))}},{key:"selectedScript",get:function(){return this._selectedScript?this._selectedScript.id:void 0},set:function(e){this.router.navigate([],{queryParams:{script:e}})}},{key:"script",set:function(e){this._selectedScript=e}},{key:"ngOnDestroy",value:function(){Object(I.b)(this.routeSub)&&this.routeSub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||He)(s["\u0275\u0275directiveInject"](w.c),s["\u0275\u0275directiveInject"](u.h),s["\u0275\u0275directiveInject"](u.a))},He.\u0275cmp=s["\u0275\u0275defineComponent"]({type:He,selectors:[["ds-scripts-select"]],inputs:{script:"script"},outputs:{select:"select"},features:[s["\u0275\u0275ProvidersFeature"]([],[{provide:Ke.ControlContainer,useFactory:B,deps:[[new s.Optional,Ke.NgForm]]}])],decls:3,vars:3,consts:[["class","form-group",4,"ngIf"],[1,"form-group"],["for","process-script"],["required","","id","process-script","name","script",1,"form-control",3,"ngModel","ngModelChange"],["script","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","alert alert-danger validation-error",4,"ngIf"],[1,"alert","alert-danger","validation-error"],[4,"ngIf"]],template:function(e,t){1&e&&(s["\u0275\u0275template"](0,Ye,19,12,"div",0),s["\u0275\u0275pipe"](1,"async"),s["\u0275\u0275text"](2,"\n")),2&e&&s["\u0275\u0275property"]("ngIf",s["\u0275\u0275pipeBind1"](1,1,t.scripts$))},directives:[h.p,Ke.SelectControlValueAccessor,Ke.RequiredValidator,Ke.NgControlStatus,Ke.NgModel,Ke.NgSelectOption,Ke["\u0275angular_packages_forms_forms_z"],h.o],pipes:[h.b,O.d],styles:[""]}),He),We=function(e){return e.STRING="String",e.DATE="date",e.BOOLEAN="boolean",e.FILE="InputStream",e.OUTPUT="OutputStream",e}({});function Qe(e,t){1&e&&s["\u0275\u0275elementContainer"](0)}function et(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"tr"),s["\u0275\u0275text"](1,"\n      "),s["\u0275\u0275elementStart"](2,"td",4),s["\u0275\u0275text"](3),s["\u0275\u0275template"](4,Qe,1,0,"ng-container",5),s["\u0275\u0275text"](5,"\n      "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](6,"\n      "),s["\u0275\u0275elementStart"](7,"td"),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275nextContext"]();var r=s["\u0275\u0275reference"](15);s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate2"]("",n.name," ",n.nameLong,"\n        "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngTemplateOutlet",r)("ngTemplateOutletContext",n),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](n.description)}}function tt(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("<",s["\u0275\u0275pipeBind1"](2,1,"process.new.parameter.type.value"),">"))}function nt(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("<",s["\u0275\u0275pipeBind1"](2,1,"process.new.parameter.type.value"),">"))}function rt(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("<",s["\u0275\u0275pipeBind1"](2,1,"process.new.parameter.type.value"),">"))}function at(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("<",s["\u0275\u0275pipeBind1"](2,1,"process.new.parameter.type.file"),">"))}function it(e,t){if(1&e&&(s["\u0275\u0275text"](0,"\n    "),s["\u0275\u0275elementContainerStart"](1,6),s["\u0275\u0275text"](2,"\n        "),s["\u0275\u0275template"](3,tt,3,3,"span",7),s["\u0275\u0275text"](4,"\n        "),s["\u0275\u0275template"](5,nt,3,3,"span",7),s["\u0275\u0275text"](6,"\n        "),s["\u0275\u0275template"](7,rt,3,3,"span",7),s["\u0275\u0275text"](8,"\n        "),s["\u0275\u0275template"](9,at,3,3,"span",7),s["\u0275\u0275text"](10,"\n    "),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275text"](11,"\n")),2&e){var n=t.type,r=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitch",n),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngSwitchCase",r.parameterTypes.DATE),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngSwitchCase",r.parameterTypes.STRING),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngSwitchCase",r.parameterTypes.OUTPUT),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngSwitchCase",r.parameterTypes.FILE)}}var ot,st,lt=((ot=function e(){l(this,e),this.parameterTypes=We}).\u0275fac=function(e){return new(e||ot)},ot.\u0275cmp=s["\u0275\u0275defineComponent"]({type:ot,selectors:[["ds-script-help"]],inputs:{script:"script"},decls:17,vars:3,consts:[[1,"text-secondary"],[1,"table-borderless","mt-3"],[4,"ngFor","ngForOf"],["type",""],[1,"align-top","text-nowrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275text"](1,"\n  "),s["\u0275\u0275elementStart"](2,"h3"),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4,"\n  "),s["\u0275\u0275elementStart"](5,"span"),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n\n  "),s["\u0275\u0275elementStart"](8,"table",1),s["\u0275\u0275text"](9,"\n    "),s["\u0275\u0275template"](10,et,10,5,"tr",2),s["\u0275\u0275text"](11,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](12,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](13,"\n\n"),s["\u0275\u0275template"](14,it,12,5,"ng-template",null,3,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275text"](16,"\n")),2&e&&(s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](null==t.script?null:t.script.name),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](null==t.script?null:t.script.description),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngForOf",null==t.script?null:t.script.parameters))},directives:[h.o,h.t,h.r,h.s],pipes:[O.d],styles:[""]}),ot),pt=a("ygbf"),ct=((st=function e(){l(this,e),this.updateValue=new s.EventEmitter}).\u0275fac=function(e){return new(e||st)},st.\u0275cmp=s["\u0275\u0275defineComponent"]({type:st,selectors:[["ds-value-input"]],inputs:{index:"index"},outputs:{updateValue:"updateValue"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),st);function ut(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("\n        ",s["\u0275\u0275pipeBind1"](2,1,"process.new.parameter.string.required"),"\n    "))}function dt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",3),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275template"](2,ut,3,3,"div",4),s["\u0275\u0275text"](3,"\n"),s["\u0275\u0275elementEnd"]()),2&e){s["\u0275\u0275nextContext"]();var n=s["\u0275\u0275reference"](1);s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",n.errors.required)}}var mt,ft=((mt=function(t){e(a,t);var r=n(a);function a(){return l(this,a),r.apply(this,arguments)}return c(a,[{key:"ngOnInit",value:function(){this.value=this.initialValue}},{key:"setValue",value:function(e){this.value=e,this.updateValue.emit(e)}}]),a}(ct)).\u0275fac=function(e){return vt(e||mt)},mt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:mt,selectors:[["ds-string-value-input"]],inputs:{initialValue:"initialValue"},features:[s["\u0275\u0275ProvidersFeature"]([],[{provide:Ke.ControlContainer,useFactory:B,deps:[[new s.Optional,Ke.NgForm]]}]),s["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:4,consts:[["required","","type","text",1,"form-control",3,"name","id","ngModel","ngModelChange"],["string","ngModel"],["class","alert alert-danger validation-error",4,"ngIf"],[1,"alert","alert-danger","validation-error"],[4,"ngIf"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"input",0,1),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.setValue(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](2,"\n"),s["\u0275\u0275template"](3,dt,4,1,"div",2),s["\u0275\u0275text"](4,"\n")),2&e){var n=s["\u0275\u0275reference"](1);s["\u0275\u0275propertyInterpolate1"]("name","string-value-",t.index,""),s["\u0275\u0275propertyInterpolate1"]("id","string-value-",t.index,""),s["\u0275\u0275property"]("ngModel",t.value),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",n.invalid&&(n.dirty||n.touched))}},directives:[Ke.DefaultValueAccessor,Ke.RequiredValidator,Ke.NgControlStatus,Ke.NgModel,h.p],pipes:[O.d],styles:[""]}),mt),vt=s["\u0275\u0275getInheritedFactory"](ft);function gt(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("\n        ",s["\u0275\u0275pipeBind1"](2,1,"process.new.parameter.string.required"),"\n    "))}function xt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",3),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275template"](2,gt,3,3,"div",4),s["\u0275\u0275text"](3,"\n"),s["\u0275\u0275elementEnd"]()),2&e){s["\u0275\u0275nextContext"]();var n=s["\u0275\u0275reference"](1);s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",n.errors.required)}}var ht,yt=((ht=function(t){e(a,t);var r=n(a);function a(){return l(this,a),r.apply(this,arguments)}return c(a,[{key:"ngOnInit",value:function(){this.value=this.initialValue}},{key:"setValue",value:function(e){this.value=e,this.updateValue.emit(e)}}]),a}(ct)).\u0275fac=function(e){return bt(e||ht)},ht.\u0275cmp=s["\u0275\u0275defineComponent"]({type:ht,selectors:[["ds-date-value-input"]],inputs:{initialValue:"initialValue"},features:[s["\u0275\u0275ProvidersFeature"]([],[{provide:Ke.ControlContainer,useFactory:B,deps:[[new s.Optional,Ke.NgForm]]}]),s["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:4,consts:[["required","","type","text",1,"form-control",3,"name","id","ngModel","ngModelChange"],["string","ngModel"],["class","alert alert-danger validation-error",4,"ngIf"],[1,"alert","alert-danger","validation-error"],[4,"ngIf"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"input",0,1),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.setValue(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](2,"\n"),s["\u0275\u0275template"](3,xt,4,1,"div",2),s["\u0275\u0275text"](4,"\n")),2&e){var n=s["\u0275\u0275reference"](1);s["\u0275\u0275propertyInterpolate1"]("name","date-value-",t.index,""),s["\u0275\u0275propertyInterpolate1"]("id","date-value-",t.index,""),s["\u0275\u0275property"]("ngModel",t.value),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",n.invalid&&(n.dirty||n.touched))}},directives:[Ke.DefaultValueAccessor,Ke.RequiredValidator,Ke.NgControlStatus,Ke.NgModel,h.p],pipes:[O.d],styles:[""]}),ht),bt=s["\u0275\u0275getInheritedFactory"](yt),St=a("4Kdc"),It=a("ozG+");function wt(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("\n        ",s["\u0275\u0275pipeBind1"](2,1,"process.new.parameter.file.required"),"\n    "))}function Et(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",6),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275template"](2,wt,3,3,"div",7),s["\u0275\u0275text"](3,"\n"),s["\u0275\u0275elementEnd"]()),2&e){s["\u0275\u0275nextContext"]();var n=s["\u0275\u0275reference"](11);s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",n.errors.required)}}var Ot,Ct,Vt=((Ot=function(t){e(a,t);var r=n(a);function a(){return l(this,a),r.apply(this,arguments)}return c(a,[{key:"setFile",value:function(e){this.fileObject=e.length>0?e[0]:void 0,this.updateValue.emit(this.fileObject)}}]),a}(ct)).\u0275fac=function(e){return jt(e||Ot)},Ot.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Ot,selectors:[["ds-file-value-input"]],features:[s["\u0275\u0275ProvidersFeature"]([],[{provide:Ke.ControlContainer,useFactory:B,deps:[[new s.Optional,Ke.NgForm]]}]),s["\u0275\u0275InheritDefinitionFeature"]],decls:15,vars:9,consts:[[1,"d-flex","align-items-center","m-0",3,"for"],[1,"btn","btn-light"],[1,"file-name","ml-1"],["requireFile","","type","file",1,"form-control-file","d-none",3,"name","id","ngModel","ngModelChange"],["file","ngModel"],["class","alert alert-danger validation-error",4,"ngIf"],[1,"alert","alert-danger","validation-error"],[4,"ngIf"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"label",0),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275elementStart"](2,"span",1),s["\u0275\u0275text"](3),s["\u0275\u0275pipe"](4,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](5,"\n    "),s["\u0275\u0275elementStart"](6,"span",2),s["\u0275\u0275text"](7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](8,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9,"\n"),s["\u0275\u0275elementStart"](10,"input",3,4),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.setFile(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](12,"\n"),s["\u0275\u0275template"](13,Et,4,1,"div",5),s["\u0275\u0275text"](14,"\n")),2&e){var n=s["\u0275\u0275reference"](11);s["\u0275\u0275propertyInterpolate1"]("for","file-upload-",t.index,""),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("\n        ",s["\u0275\u0275pipeBind1"](4,7,"process.new.parameter.file.upload-button"),"\n    "),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](null==t.fileObject?null:t.fileObject.name),s["\u0275\u0275advance"](3),s["\u0275\u0275propertyInterpolate1"]("name","file-upload-",t.index,""),s["\u0275\u0275propertyInterpolate1"]("id","file-upload-",t.index,""),s["\u0275\u0275property"]("ngModel",t.fileObject),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",n.invalid&&(n.dirty||n.touched))}},directives:[St.a,Ke.DefaultValueAccessor,It.a,Ke.NgControlStatus,Ke.NgModel,h.p],pipes:[O.d],styles:[".file-name[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),Ot),jt=s["\u0275\u0275getInheritedFactory"](Vt),Pt=((Ct=function(t){e(a,t);var r=n(a);function a(){return l(this,a),r.apply(this,arguments)}return c(a,[{key:"ngOnInit",value:function(){this.updateValue.emit(!0)}}]),a}(ct)).\u0275fac=function(e){return kt(e||Ct)},Ct.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Ct,selectors:[["ds-boolean-value-input"]],features:[s["\u0275\u0275ProvidersFeature"]([],[{provide:Ke.ControlContainer,useFactory:B,deps:[[new s.Optional,Ke.NgForm]]}]),s["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:2,consts:[["type","hidden","value","true",3,"name","id"]],template:function(e,t){1&e&&(s["\u0275\u0275element"](0,"input",0),s["\u0275\u0275text"](1,"\n")),2&e&&(s["\u0275\u0275propertyInterpolate1"]("name","boolean-value-",t.index,""),s["\u0275\u0275propertyInterpolate1"]("id","boolean-value-",t.index,""))},styles:[""]}),Ct),kt=s["\u0275\u0275getInheritedFactory"](Pt);function Ft(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ds-string-value-input",3),s["\u0275\u0275listener"]("updateValue",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().updateValue.emit(e)})),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("initialValue",r.initialValue)("index",r.index)}}function Bt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ds-string-value-input",3),s["\u0275\u0275listener"]("updateValue",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().updateValue.emit(e)})),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("initialValue",r.initialValue)("index",r.index)}}function Lt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ds-date-value-input",3),s["\u0275\u0275listener"]("updateValue",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().updateValue.emit(e)})),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("initialValue",r.initialValue)("index",r.index)}}function Tt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ds-file-value-input",4),s["\u0275\u0275listener"]("updateValue",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().updateValue.emit(e)})),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("index",r.index)}}function $t(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ds-boolean-value-input",4),s["\u0275\u0275listener"]("updateValue",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().updateValue.emit(e)})),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("index",r.index)}}var Nt,Mt=((Nt=function e(){l(this,e),this.updateValue=new s.EventEmitter,this.parameterTypes=We}).\u0275fac=function(e){return new(e||Nt)},Nt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Nt,selectors:[["ds-parameter-value-input"]],inputs:{index:"index",parameter:"parameter",initialValue:"initialValue"},outputs:{updateValue:"updateValue"},features:[s["\u0275\u0275ProvidersFeature"]([],[{provide:Ke.ControlContainer,useFactory:B,deps:[[new s.Optional,Ke.NgForm]]}])],decls:13,vars:6,consts:[[3,"ngSwitch"],[3,"initialValue","index","updateValue",4,"ngSwitchCase"],[3,"index","updateValue",4,"ngSwitchCase"],[3,"initialValue","index","updateValue"],[3,"index","updateValue"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275text"](1,"\n  "),s["\u0275\u0275template"](2,Ft,1,2,"ds-string-value-input",1),s["\u0275\u0275text"](3,"\n  "),s["\u0275\u0275template"](4,Bt,1,2,"ds-string-value-input",1),s["\u0275\u0275text"](5,"\n  "),s["\u0275\u0275template"](6,Lt,1,2,"ds-date-value-input",1),s["\u0275\u0275text"](7,"\n  "),s["\u0275\u0275template"](8,Tt,1,1,"ds-file-value-input",2),s["\u0275\u0275text"](9,"\n  "),s["\u0275\u0275template"](10,$t,1,1,"ds-boolean-value-input",2),s["\u0275\u0275text"](11,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](12,"\n")),2&e&&(s["\u0275\u0275property"]("ngSwitch",null==t.parameter?null:t.parameter.type),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngSwitchCase",t.parameterTypes.STRING),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngSwitchCase",t.parameterTypes.OUTPUT),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngSwitchCase",t.parameterTypes.DATE),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngSwitchCase",t.parameterTypes.FILE),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngSwitchCase",t.parameterTypes.BOOLEAN))},directives:[h.r,h.s,ft,yt,Vt,Pt],styles:[""]}),Nt);function qt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"option",3),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("ngValue",n.name),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("\n            ",n.nameLong||n.name,"\n        ")}}function At(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",8),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=s["\u0275\u0275nextContext"]();return e.removeParameter.emit(e.parameterValue)})),s["\u0275\u0275element"](1,"span",9),s["\u0275\u0275elementEnd"]()}}function Dt(e,t){1&e&&s["\u0275\u0275element"](0,"span",10)}var _t,Rt=((_t=function(){function e(){l(this,e),this.parameterValue=new pt.a,this.removeParameter=new s.EventEmitter,this.changeParameter=new s.EventEmitter}return c(e,[{key:"selectedScriptParameter",get:function(){var e=this;return this.parameters.find((function(t){return t.name===e.selectedParameter}))}},{key:"selectedParameter",get:function(){return this.parameterValue?this.parameterValue.name:void 0},set:function(e){this.parameterValue.name=e,this.selectedParameterValue=void 0,this.changeParameter.emit(this.parameterValue)}},{key:"selectedParameterValue",get:function(){return this.parameterValue?this.parameterValue.value:void 0},set:function(e){this.parameterValue.value=e,this.changeParameter.emit(this.parameterValue)}}]),e}()).\u0275fac=function(e){return new(e||_t)},_t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:_t,selectors:[["ds-parameter-select"]],inputs:{index:"index",parameterValue:"parameterValue",parameters:"parameters",removable:"removable"},outputs:{removeParameter:"removeParameter",changeParameter:"changeParameter"},features:[s["\u0275\u0275ProvidersFeature"]([],[{provide:Ke.ControlContainer,useFactory:B,deps:[[new s.Optional,Ke.NgForm]]}])],decls:18,vars:9,consts:[[1,"form-row","mb-2","mx-0"],["id","process-parameters",1,"form-control","col",3,"name","ngModel","ngModelChange"],["param","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-block","col",3,"initialValue","parameter","index","updateValue"],["class","btn btn-light col-1 remove-button",3,"click",4,"ngIf"],["class","col-1",4,"ngIf"],[1,"btn","btn-light","col-1","remove-button",3,"click"],[1,"fas","fa-trash"],[1,"col-1"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275elementStart"](2,"select",1,2),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectedParameter=e})),s["\u0275\u0275text"](4,"\n        "),s["\u0275\u0275elementStart"](5,"option",3),s["\u0275\u0275text"](6,"Add a parameter..."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n        "),s["\u0275\u0275template"](8,qt,2,2,"option",4),s["\u0275\u0275text"](9,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](10,"\n    "),s["\u0275\u0275elementStart"](11,"ds-parameter-value-input",5),s["\u0275\u0275listener"]("updateValue",(function(e){return t.selectedParameterValue=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](12,"\n    "),s["\u0275\u0275template"](13,At,2,0,"button",6),s["\u0275\u0275text"](14,"\n    "),s["\u0275\u0275template"](15,Dt,1,0,"span",7),s["\u0275\u0275text"](16,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](17,"\n\n")),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275propertyInterpolate1"]("name","parameter-",t.index,""),s["\u0275\u0275property"]("ngModel",t.selectedParameter),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngValue",void 0),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngForOf",t.parameters),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("initialValue",t.parameterValue.value)("parameter",t.selectedScriptParameter)("index",t.index),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.removable),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",!t.removable))},directives:[Ke.SelectControlValueAccessor,Ke.NgControlStatus,Ke.NgModel,Ke.NgSelectOption,Ke["\u0275angular_packages_forms_forms_z"],h.o,Mt,h.p],styles:[""]}),_t);function zt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ds-parameter-select",3),s["\u0275\u0275listener"]("removeParameter",(function(){s["\u0275\u0275restoreView"](n);var e=t.index;return s["\u0275\u0275nextContext"](2).removeParameter(e)}))("changeParameter",(function(e){s["\u0275\u0275restoreView"](n);var r=t.index;return s["\u0275\u0275nextContext"](2).updateParameter(e,r)})),s["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,a=t.index,i=t.last,o=s["\u0275\u0275nextContext"](2);s["\u0275\u0275property"]("parameters",o.script.parameters)("parameterValue",r)("removable",!i)("index",a)}}function Ut(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",1),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275elementStart"](2,"label"),s["\u0275\u0275text"](3),s["\u0275\u0275pipe"](4,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](5,"\n    "),s["\u0275\u0275template"](6,zt,1,4,"ds-parameter-select",2),s["\u0275\u0275text"](7,"\n"),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](4,2,"process.new.select-parameters")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngForOf",n.parameterValues)}}var Kt,Gt,Zt=((Gt=function(){function e(){l(this,e),this.updateParameters=new s.EventEmitter}return c(e,[{key:"ngOnInit",value:function(){Object(I.b)(this.initialParams)&&(this.parameterValues=this.initialParams)}},{key:"ngOnChanges",value:function(e){e.script&&this.initParameters()}},{key:"initParameters",value:function(){Object(I.b)(this.initialParams)?this.parameterValues=this.initialParams:(this.parameterValues=[],this.initializeParameter())}},{key:"updateParameter",value:function(e,t){this.parameterValues[t]=e,t===this.parameterValues.length-1&&this.addParameter(),this.updateParameters.emit(this.parameterValues.filter((function(e){return Object(I.b)(e.name)})))}},{key:"removeParameter",value:function(e){this.parameterValues=this.parameterValues.filter((function(t,n){return n!==e})),this.updateParameters.emit(this.parameterValues.filter((function(e){return Object(I.b)(e.name)})))}},{key:"initializeParameter",value:function(){Object(I.b)(this.script)&&(this.parameterValues=this.script.parameters.filter((function(e){return e.mandatory})).map((function(e){return Object.assign(new pt.a,{name:e.name})}))),this.addParameter()}},{key:"addParameter",value:function(){this.parameterValues=[].concat(i(this.parameterValues),[new pt.a])}}]),e}()).\u0275fac=function(e){return new(e||Gt)},Gt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Gt,selectors:[["ds-process-parameters"]],inputs:{script:"script",initialParams:"initialParams"},outputs:{updateParameters:"updateParameters"},features:[s["\u0275\u0275ProvidersFeature"]([],[{provide:Ke.ControlContainer,useFactory:B,deps:[[new s.Optional,Ke.NgForm]]}]),s["\u0275\u0275NgOnChangesFeature"]],decls:2,vars:1,consts:[["class","form-group",4,"ngIf"],[1,"form-group"],[3,"parameters","parameterValue","removable","index","removeParameter","changeParameter",4,"ngFor","ngForOf"],[3,"parameters","parameterValue","removable","index","removeParameter","changeParameter"]],template:function(e,t){1&e&&(s["\u0275\u0275template"](0,Ut,8,4,"div",0),s["\u0275\u0275text"](1,"\n")),2&e&&s["\u0275\u0275property"]("ngIf",t.script)},directives:[h.p,h.o,Rt],pipes:[O.d],styles:[""]}),Gt),Xt=((Kt=function e(){l(this,e)}).\u0275fac=function(e){return new(e||Kt)},Kt.\u0275mod=s["\u0275\u0275defineNgModule"]({type:Kt}),Kt.\u0275inj=s["\u0275\u0275defineInjector"]({providers:[De,Ae],imports:[[Re,p.a]]}),Kt);s["\u0275\u0275setComponentScope"](F,[Ke["\u0275angular_packages_forms_forms_ba"],Ke.NgControlStatusGroup,Ke.NgForm,Je,Zt,u.i,lt,h.p,h.o],[O.d])},tv3Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("zr/d"),a=n("LRne"),i=n("fXoL"),o=function(){var e=function(){function e(){l(this,e)}return c(e,[{key:"getBreadcrumbs",value:function(e,t){return Object(a.a)([new r.a(e+".breadcrumbs",t)])}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"zr/d":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(t,n){l(this,e),this.text=t,this.url=n}}}])}();
//# sourceMappingURL=29-es5.714615a40c7888543d3a.js.map