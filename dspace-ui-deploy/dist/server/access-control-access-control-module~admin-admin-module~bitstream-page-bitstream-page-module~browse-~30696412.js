exports.ids=[1],exports.modules={"/Vzl":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ExistingRelationListElementComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2Vo4"),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("pLZG"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("PN+Z"),__webpack_require__("1QIV")),_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("J3qs"),_object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("4SI6"),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("EGek"),_relation_lookup_modal_relationship_actions__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__("kcku"),__webpack_require__("XcME")),_core_shared_view_mode_model__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("3jCq"),_submission_submission_service__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__("yXJd"),__webpack_require__("J/vq")),_ngrx_store__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("l7P3"),_angular_common__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("ofXK"),_loading_loading_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("Frqi"),_object_collection_shared_listable_object_listable_object_component_loader_component__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("1aCu");function ExistingRelationListElementComponent_ng_container_4_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerStart"](0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](2,"ds-loading",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerEnd"]()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("showMessage",!1))}function ExistingRelationListElementComponent_ng_container_7_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerStart"](0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](2,"ds-listable-object-component-loader",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerEnd"]()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("showLabel",!1)("viewMode",ctx_r1.viewType)("object",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](3,3,ctx_r1.relatedItem$))}}class ExistingRelationListElementComponent{constructor(selectableListService,submissionService,store){this.selectableListService=selectableListService,this.submissionService=submissionService,this.store=store,this.relatedItem$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a(void 0),this.viewType=_core_shared_view_mode_model__WEBPACK_IMPORTED_MODULE_10__.a.ListElement,this.remove=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){if(Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.b)(this.reoRel)){const item$=this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem;this.subs.push(item$.pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.c)(),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.o)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)((item=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.b)(item)&&Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.e)(item.uuid)))).subscribe((item=>{this.relatedItem$.next(item)})))}}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.selectableListService.deselectSingle(this.listId,Object.assign(new _object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_6__.a,{indexableObject:this.relatedItem$.getValue()})),this.store.dispatch(new _relation_lookup_modal_relationship_actions__WEBPACK_IMPORTED_MODULE_9__.c(this.submissionItem,this.relatedItem$.getValue(),this.relationshipOptions.relationshipType,this.submissionId))}ngOnDestroy(){this.subs.filter((sub=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.b)(sub))).forEach((sub=>sub.unsubscribe()))}}ExistingRelationListElementComponent.\u0275fac=function ExistingRelationListElementComponent_Factory(t){return new(t||ExistingRelationListElementComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_7__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_submission_submission_service__WEBPACK_IMPORTED_MODULE_12__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ngrx_store__WEBPACK_IMPORTED_MODULE_13__.i))},ExistingRelationListElementComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:ExistingRelationListElementComponent,selectors:[["ds-existing-relation-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275NgOnChangesFeature"]],decls:17,vars:6,consts:[[1,"d-flex"],[1,"mr-auto","text-contents"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"showLabel","viewMode","object"]],template:function ExistingRelationListElementComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"span",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](4,ExistingRelationListElementComponent_ng_container_4_Template,4,1,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](7,ExistingRelationListElementComponent_ng_container_7_Template,5,5,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](10,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](11,"button",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function ExistingRelationListElementComponent_Template_button_click_11_listener(){return ctx.removeSelection()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](12,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](13,"i",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](14,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](15,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](16,"\n")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](5,2,ctx.relatedItem$)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](8,4,ctx.relatedItem$)))},directives:[_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf,_loading_loading_component__WEBPACK_IMPORTED_MODULE_15__.a,_object_collection_shared_listable_object_listable_object_component_loader_component__WEBPACK_IMPORTED_MODULE_16__.a],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_14__.AsyncPipe],styles:["span.text-contents[_ngcontent-%COMP%]{padding:var(--bs-btn-padding-y) 0}"]})},"0pnk":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DsDynamicLookupComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("LRne"),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("JIr8"),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("/uUt"),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("PdzJ"),_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("J3qs"),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("oBfO"),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("x+ZM"),_core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("rbjh"),_dynamic_lookup_name_model__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("ZJee"),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("f+Ev"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("1QIV"),_dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("Ssu8"),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("e+Av"),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("1kSV"),_authority_confidence_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("BIe1"),_angular_forms__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("3Pt+"),_angular_common__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("ofXK"),ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("dlKe"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("sYmb"),_utils_object_ngfor_pipe__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("UGKy");const _c0=function(){return{}};function DsDynamicLookupComponent_div_15_Template(rf,ctx){if(1&rf){const _r13=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"input",18),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("ngModelChange",(function DsDynamicLookupComponent_div_15_Template_input_ngModelChange_2_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r13);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().secondInputValue=$event}))("change",(function DsDynamicLookupComponent_div_15_Template_input_change_2_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r13);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onChange($event)}))("blur",(function DsDynamicLookupComponent_div_15_Template_input_blur_2_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r13);const ctx_r15=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](1);return ctx_r15.onBlur($event),$event.stopPropagation(),_r0.close()}))("focus",(function DsDynamicLookupComponent_div_15_Template_input_focus_2_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r13);const ctx_r16=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](1);return ctx_r16.onFocus($event),$event.stopPropagation(),_r0.close()}))("click",(function DsDynamicLookupComponent_div_15_Template_input_click_2_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r13),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](1);return $event.stopPropagation(),_r0.close()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("is-invalid",ctx_r1.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction0"](14,_c0))("id",ctx_r1.id)("name",ctx_r1.model.name+"_2")("type",ctx_r1.model.inputType)("ngModel",ctx_r1.secondInputValue)("disabled",0===ctx_r1.firstInputValue.length||ctx_r1.isInputDisabled())("placeholder",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](3,12,ctx_r1.model.secondPlaceholder))("readonly",ctx_r1.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-labelledby","label_"+ctx_r1.model.id)("autoComplete",ctx_r1.model.autoComplete)}}function DsDynamicLookupComponent_button_24_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicLookupComponent_button_24_Template_button_click_0_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r19);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().remove()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275propertyInterpolate"]("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,3,"form.clear-help")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("disabled",ctx_r2.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](3,5,"form.clear"),"\n      ")}}function DsDynamicLookupComponent_button_29_Template(rf,ctx){if(1&rf){const _r21=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicLookupComponent_button_29_Template_button_click_0_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r21);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().switchEditMode()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275propertyInterpolate"]("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,3,"form.edit-help")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("disabled",ctx_r3.isEditDisabled()),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](3,5,"form.edit"),"\n      ")}}function DsDynamicLookupComponent_button_31_Template(rf,ctx){if(1&rf){const _r23=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicLookupComponent_button_31_Template_button_click_0_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r23);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().saveChanges()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275propertyInterpolate"]("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,3,"form.save-help")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("disabled",!ctx_r4.hasEmptyValue()),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](3,5,"form.save"),"\n      ")}}function DsDynamicLookupComponent_button_39_Template(rf,ctx){if(1&rf){const _r25=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"button",20),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicLookupComponent_button_39_Template_button_click_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r25);const ctx_r24=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](1);return $event.stopPropagation(),ctx_r24.clearFields(),_r0.close()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2,1,"form.no-results"),"\n      "))}const _c1=function(a0){return{entry:a0}};function DsDynamicLookupComponent_button_41_Template(rf,ctx){if(1&rf){const _r28=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"button",21),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicLookupComponent_button_41_Template_button_click_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r28);const listEntry_r26=ctx.$implicit,ctx_r27=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](1);return $event.stopPropagation(),ctx_r27.onSelect(listEntry_r26),_r0.close()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerStart"](2,22),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const listEntry_r26=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](49),_r10=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](52);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275propertyInterpolate"]("title",listEntry_r26.display),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngTemplateOutlet",listEntry_r26.hasOtherInformation()?_r8:_r10)("ngTemplateOutletContext",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction1"](3,_c1,listEntry_r26))}}function DsDynamicLookupComponent_div_43_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",23),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](3,1,"form.loading")))}function DsDynamicLookupComponent_ng_template_48_li_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"li",27),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const item_r31=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate2"]("\n      ",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2,2,"form.other-information."+item_r31.key)," : ",item_r31.value,"\n    ")}}function DsDynamicLookupComponent_ng_template_48_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](0,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](1,"ul",24),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](3,"li",25),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](6,DsDynamicLookupComponent_ng_template_48_li_6_Template,3,4,"li",26),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](7,"dsObjNgFor"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n")),2&rf){const entry_r29=ctx.entry,ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-labelledby","label_"+ctx_r9.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](entry_r29.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](7,3,entry_r29.otherInformation))}}function DsDynamicLookupComponent_ng_template_51_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](0,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](1,"ul",24),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](3,"li",25),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n")),2&rf){const entry_r32=ctx.entry,ctx_r11=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-labelledby","label_"+ctx_r11.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](entry_r32.value)}}class DsDynamicLookupComponent extends _dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_12__.a{constructor(vocabularyService,cdr,layoutService,validationService){super(vocabularyService,layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.editMode=!1,this.firstInputValue="",this.secondInputValue="",this.loading=!1,this.subs=[],this.inputFormatter=(x,y)=>1===y?this.firstInputValue:this.secondInputValue}ngOnInit(){Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.e)(this.model.value)&&this.setCurrentValue(this.model.value,!0),this.subs.push(this.model.valueChanges.subscribe((value=>{Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.d)(value)?this.resetFields():this.editMode||this.setCurrentValue(this.model.value)})))}hasAuthorityValue(){return Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.b)(this.model.value)&&"object"==typeof this.model.value&&this.model.value.hasAuthority()}hasEmptyValue(){return Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.e)(this.getCurrentValue())}clearFields(){this.model.vocabularyOptions.closed&&this.resetFields()}isEditDisabled(){return!this.hasAuthorityValue()}isInputDisabled(){return this.model.vocabularyOptions.closed&&this.hasAuthorityValue()&&!this.editMode}isLookupName(){return this.model instanceof _dynamic_lookup_name_model__WEBPACK_IMPORTED_MODULE_9__.b}isSearchDisabled(){return Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.d)(this.firstInputValue)||this.editMode}onChange(event){if(event.preventDefault(),!this.model.vocabularyOptions.closed)if(Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.e)(this.getCurrentValue())){const currentValue=new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_7__.a(this.getCurrentValue());this.editMode||this.updateModel(currentValue)}else this.remove()}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.search())}onSelect(event){this.updateModel(event)}openChange(isOpened){isOpened||this.model.vocabularyOptions.closed&&!this.hasAuthorityValue()&&this.setCurrentValue("")}remove(){this.group.markAsPristine(),this.dispatchUpdate(null)}saveChanges(){if(Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.e)(this.getCurrentValue())){const newValue=Object.assign(new _core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_8__.a,this.model.value,{display:this.getCurrentValue(),value:this.getCurrentValue()});this.updateModel(newValue)}else this.remove();this.switchEditMode()}search(){this.optionsList=null,this.updatePageInfo(this.model.maxOptions,1),this.loading=!0,this.subs.push(this.vocabularyService.getVocabularyEntriesByValue(this.getCurrentValue(),!1,this.model.vocabularyOptions,this.pageInfo).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_11__.j)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)((()=>Object(rxjs__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_10__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_6__.a,[])))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)()).subscribe((list=>{this.optionsList=list.page,this.updatePageInfo(list.pageInfo.elementsPerPage,list.pageInfo.currentPage,list.pageInfo.totalElements,list.pageInfo.totalPages),this.loading=!1,this.cdr.detectChanges()})))}switchEditMode(){this.editMode=!this.editMode}whenClickOnConfidenceNotAccepted(sdRef,confidence){this.model.readOnly||(sdRef.open(),this.search())}ngOnDestroy(){this.subs.filter((sub=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.b)(sub))).forEach((sub=>sub.unsubscribe()))}setCurrentValue(value,init=!1){init?this.getInitValueFromModel().subscribe((formValue=>this.setDisplayInputValue(formValue.display))):Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.b)(value)&&(value instanceof _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_7__.a||value instanceof _core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_8__.a)&&this.setDisplayInputValue(value.display)}setDisplayInputValue(displayValue){if(Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.b)(displayValue)){if(this.isLookupName()){const values=displayValue.split(this.model.separator);this.firstInputValue=(values[0]||"").trim(),this.secondInputValue=(values[1]||"").trim()}else this.firstInputValue=displayValue||"";this.cdr.detectChanges()}}getCurrentValue(){let result="";return this.isLookupName()?(Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.e)(this.firstInputValue)&&(result=this.firstInputValue),Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.e)(this.secondInputValue)&&(result=Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.d)(result)?this.secondInputValue:this.firstInputValue+this.model.separator+" "+this.secondInputValue)):result=this.firstInputValue,result}resetFields(){this.firstInputValue="",this.isLookupName()&&(this.secondInputValue="")}updateModel(value){this.group.markAsDirty(),this.dispatchUpdate(value),this.setCurrentValue(value),this.optionsList=null,this.pageInfo=null}}DsDynamicLookupComponent.\u0275fac=function DsDynamicLookupComponent_Factory(t){return new(t||DsDynamicLookupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_4__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_13__.E),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_13__.H))},DsDynamicLookupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:DsDynamicLookupComponent,selectors:[["ds-dynamic-lookup"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"]],decls:54,vars:33,consts:[["ngbDropdown","",3,"click","openChange"],["sdRef","ngbDropdown"],[1,"form-row","align-items-center"],[1,"col","right-addon"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0","pr-2",3,"authorityValue","whenClickOnConfidenceNotAccepted"],[1,"form-control",3,"id","name","type","ngModel","disabled","placeholder","readonly","ngModelChange","change","blur","focus","click"],["class","col",4,"ngIf"],[1,"col-auto","text-center"],["ngbDropdownAnchor","","type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","disabled","hidden","click"],["class","btn btn-secondary","type","button","placement","top",3,"ngbTooltip","disabled","click",4,"ngIf"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["aria-labelledby","scrollableDropdownMenuButton","infiniteScroll","",1,"scrollable-menu",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","dropdown-item disabled",3,"click",4,"ngIf"],["class","dropdown-item lookup-item",3,"title","click",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],["hasInfo",""],["noInfo",""],[1,"col"],[1,"form-control",3,"ngClass","id","name","type","ngModel","disabled","placeholder","readonly","ngModelChange","change","blur","focus","click"],["type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","disabled","click"],[1,"dropdown-item","disabled",3,"click"],[1,"dropdown-item","lookup-item",3,"title","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"scrollable-dropdown-loading","text-center"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"]],template:function DsDynamicLookupComponent_Template(rf,ctx){if(1&rf){const _r33=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",0,1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicLookupComponent_Template_div_click_0_listener($event){return $event.stopPropagation()}))("openChange",(function DsDynamicLookupComponent_Template_div_openChange_0_listener($event){return ctx.openChange($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](3,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](6,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](8,"i",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("whenClickOnConfidenceNotAccepted",(function DsDynamicLookupComponent_Template_i_whenClickOnConfidenceNotAccepted_8_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r33);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](1);return ctx.whenClickOnConfidenceNotAccepted(_r0,$event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](10,"input",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("ngModelChange",(function DsDynamicLookupComponent_Template_input_ngModelChange_10_listener($event){return ctx.firstInputValue=$event}))("change",(function DsDynamicLookupComponent_Template_input_change_10_listener($event){return ctx.onChange($event)}))("blur",(function DsDynamicLookupComponent_Template_input_blur_10_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r33);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](1);return ctx.onBlur($event),$event.stopPropagation(),_r0.close()}))("focus",(function DsDynamicLookupComponent_Template_input_focus_10_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r33);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](1);return ctx.onFocus($event),$event.stopPropagation(),_r0.close()}))("click",(function DsDynamicLookupComponent_Template_input_click_10_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r33);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](1);return $event.stopPropagation(),$event.stopPropagation(),_r0.close()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](11,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](12,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](13,"\n\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](14,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](15,DsDynamicLookupComponent_div_15_Template,5,15,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](16,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](17,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](18,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](19,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicLookupComponent_Template_button_click_19_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r33);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](1).open(),ctx.search(),$event.stopPropagation()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](20,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](21),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](22,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](23,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](24,DsDynamicLookupComponent_button_24_Template,4,7,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](25,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](26,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](27,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](28,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](29,DsDynamicLookupComponent_button_29_Template,4,7,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](30,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](31,DsDynamicLookupComponent_button_31_Template,4,7,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](32,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](33,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](34,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](35,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](36,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](37,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("scrolled",(function DsDynamicLookupComponent_Template_div_scrolled_37_listener(){return ctx.onScroll()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](38,"\n\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](39,DsDynamicLookupComponent_button_39_Template,3,3,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](40,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](41,DsDynamicLookupComponent_button_41_Template,5,5,"button",13),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](42,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](43,DsDynamicLookupComponent_div_43_Template,4,3,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](44,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](45,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](46,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](47,"\n\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](48,DsDynamicLookupComponent_ng_template_48_Template,10,5,"ng-template",null,15,_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"]),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](50,"\n\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](51,DsDynamicLookupComponent_ng_template_51_Template,7,2,"ng-template",null,16,_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"]),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](53,"\n")}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("authorityValue",ctx.model.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("id",ctx.model.id)("name",ctx.model.name)("type",ctx.model.inputType)("ngModel",ctx.firstInputValue)("disabled",ctx.isInputDisabled())("placeholder",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](11,27,ctx.model.placeholder))("readonly",ctx.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-labelledby","label_"+ctx.model.id)("autoComplete",ctx.model.autoComplete),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.isLookupName()),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275propertyInterpolate"]("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](20,29,"form.search-help")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("disabled",ctx.model.readOnly||ctx.isSearchDisabled())("hidden",ctx.isInputDisabled()),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](22,31,"form.search"),"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.isInputDisabled()),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!ctx.editMode),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.editMode),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-labelledby","label_"+ctx.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.optionsList&&0==ctx.optionsList.length),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",ctx.optionsList),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.loading))},directives:[_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_14__.j,_authority_confidence_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_15__.a,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.DefaultValueAccessor,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.NgControlStatus,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.NgModel,_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgIf,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_14__.k,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_14__.O,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_14__.m,ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_18__.a,_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgForOf,_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgClass,_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgTemplateOutlet],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__.d,_utils_object_ngfor_pipe__WEBPACK_IMPORTED_MODULE_20__.a],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]     .dropdown-menu{left:0!important;width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}div[_ngcontent-%COMP%]{overflow:visible}.lookup-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}"]})},"1Pbu":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DsDynamicLookupRelationModalComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("itXk"),_empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("J3qs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("IzEk"),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("zP0r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("eIep"),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("dtp9"),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("joI/"),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("EGek"),_relationship_actions__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("XcME"),_core_data_relationship_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("kN8A"),_core_data_relationship_type_service__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("BK0m"),_core_shared_context_model__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("ynxc"),_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("OAtg"),_core_data_external_source_service__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("dHui"),_core_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("7vy/"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("1QIV"),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("84Zn"),rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("7RJT"),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("1kSV"),_ngrx_store__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("l7P3"),_angular_router__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("tyNb"),_angular_common__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("ofXK"),_loading_loading_component__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("Frqi"),_search_tab_dynamic_lookup_relation_search_tab_component__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("Ui2r"),_external_source_tab_dynamic_lookup_relation_external_source_tab_component__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("zVKZ"),_selection_tab_dynamic_lookup_relation_selection_tab_component__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("8HnP"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("sYmb");function DsDynamicLookupRelationModalComponent_ds_loading_15_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0,"ds-loading")}function DsDynamicLookupRelationModalComponent_ng_container_17_ng_template_12_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](0,"\n                    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](1,"ds-dynamic-lookup-relation-search-tab",19),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("selectObject",(function DsDynamicLookupRelationModalComponent_ng_container_17_ng_template_12_Template_ds_dynamic_lookup_relation_search_tab_selectObject_1_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r8);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2).select($event)}))("deselectObject",(function DsDynamicLookupRelationModalComponent_ng_container_17_ng_template_12_Template_ds_dynamic_lookup_relation_search_tab_deselectObject_1_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r8);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2).deselect($event)}))("resultFound",(function DsDynamicLookupRelationModalComponent_ng_container_17_ng_template_12_Template_ds_dynamic_lookup_relation_search_tab_resultFound_1_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r8);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2).setTotalInternals($event.pageInfo.totalElements)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n                    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n                ")}if(2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("selection$",ctx_r4.selection$)("listId",ctx_r4.listId)("relationship",ctx_r4.relationshipOptions)("repeatable",ctx_r4.repeatable)("context",ctx_r4.context)("query",ctx_r4.query)("relationshipType",ctx_r4.relationshipType)("isLeft",ctx_r4.isLeft)("item",ctx_r4.item)("isEditRelationship",ctx_r4.isEditRelationship)("toRemove",ctx_r4.toRemove)}}function DsDynamicLookupRelationModalComponent_ng_container_17_li_15_ng_template_7_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](0,"\n                    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](1,"ds-dynamic-lookup-relation-external-source-tab",20),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("importedObject",(function DsDynamicLookupRelationModalComponent_ng_container_17_li_15_ng_template_7_Template_ds_dynamic_lookup_relation_external_source_tab_importedObject_1_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r15);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3).imported($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n                    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n                ")}if(2&rf){const source_r11=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().$implicit,ctx_r13=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("label",ctx_r13.label)("listId",ctx_r13.listId)("repeatable",ctx_r13.repeatable)("item",ctx_r13.item)("collection",ctx_r13.collection)("relationship",ctx_r13.relationshipOptions)("context",ctx_r13.context)("externalSource",source_r11)}}const _c0=function(a0){return{count:a0}};function DsDynamicLookupRelationModalComponent_ng_container_17_li_15_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"li",13),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n                "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"a",14),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n                "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](7,DsDynamicLookupRelationModalComponent_ng_container_17_li_15_ng_template_7_Template,4,8,"ng-template",15),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const source_r11=ctx.$implicit,idx_r12=ctx.index,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind2"](4,1,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+source_r11.id,_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction1"](6,_c0,_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](5,4,ctx_r5.totalExternal$)[idx_r12])))}}function DsDynamicLookupRelationModalComponent_ng_container_17_li_18_ng_template_7_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](0,"\n                    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](1,"ds-dynamic-lookup-relation-selection-tab",21),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("selectObject",(function DsDynamicLookupRelationModalComponent_ng_container_17_li_18_ng_template_7_Template_ds_dynamic_lookup_relation_selection_tab_selectObject_1_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r19);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3).select($event)}))("deselectObject",(function DsDynamicLookupRelationModalComponent_ng_container_17_li_18_ng_template_7_Template_ds_dynamic_lookup_relation_selection_tab_deselectObject_1_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r19);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3).deselect($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n                    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n                ")}if(2&rf){const ctx_r17=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("selection$",ctx_r17.selection$)("listId",ctx_r17.listId)("relationshipType",ctx_r17.relationshipOptions.relationshipType)("repeatable",ctx_r17.repeatable)("context",ctx_r17.context)}}function DsDynamicLookupRelationModalComponent_ng_container_17_li_18_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"li",13),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n                "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"a",14),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n                "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](7,DsDynamicLookupRelationModalComponent_ng_container_17_li_18_ng_template_7_Template,4,5,"ng-template",15),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);let tmp_0_0=null;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind2"](4,1,"submission.sections.describe.relationship-lookup.selection-tab.tab-title",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction1"](6,_c0,null==(tmp_0_0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](5,4,ctx_r6.selection$))?null:tmp_0_0.length)))}}function DsDynamicLookupRelationModalComponent_ng_container_17_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerStart"](0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"ul",11,12),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](5,"li",13),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n                "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](7,"a",14),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](11,"\n                "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](12,DsDynamicLookupRelationModalComponent_ng_container_17_ng_template_12_Template,4,11,"ng-template",15),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](13,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](14,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](15,DsDynamicLookupRelationModalComponent_ng_container_17_li_15_Template,9,8,"li",16),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](16,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](17,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](18,DsDynamicLookupRelationModalComponent_ng_container_17_li_18_Template,9,8,"li",17),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](19,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](20,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](21,"div",18),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](22,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerEnd"]()),2&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](3),ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind2"](9,4,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+ctx_r1.relationshipOptions.relationshipType,_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction1"](11,_c0,_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](10,7,ctx_r1.totalInternal$)))),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](16,9,ctx_r1.externalSourcesRD$)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!ctx_r1.isEditRelationship),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngbNavOutlet",_r3)}}function DsDynamicLookupRelationModalComponent_div_36_span_15_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0,"span",30)}function DsDynamicLookupRelationModalComponent_div_36_Template(rf,ctx){if(1&rf){const _r23=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",22),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"div",23),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](4,"button",24),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicLookupRelationModalComponent_div_36_Template_button_click_4_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r23);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().discardEv()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n                  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](6,"i",25),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](8,"span",26),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](11,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](12,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](13,"button",27),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicLookupRelationModalComponent_div_36_Template_button_click_13_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r23);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().submitEv()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](14,"\n                  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](15,DsDynamicLookupRelationModalComponent_div_36_span_15_Template,1,0,"span",28),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](16,"\n                  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](17,"i",29),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](18,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](19,"span",26),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](20),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](21,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](22,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](23,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](24,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("disabled",0==ctx_r2.toAdd.length&&0==ctx_r2.toRemove.length||ctx_r2.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("\xa0",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](10,5,"item.edit.metadata.discard-button"),""),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("disabled",0==ctx_r2.toAdd.length&&0==ctx_r2.toRemove.length||ctx_r2.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx_r2.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("\xa0",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](21,7,"item.edit.metadata.save-button"),"")}}const _c1=function(a0){return{size:a0}};class DsDynamicLookupRelationModalComponent{constructor(modal,selectableListService,relationshipService,relationshipTypeService,externalSourceService,lookupRelationService,searchConfigService,rdbService,zone,store,router){this.modal=modal,this.selectableListService=selectableListService,this.relationshipService=relationshipService,this.relationshipTypeService=relationshipTypeService,this.externalSourceService=externalSourceService,this.lookupRelationService=lookupRelationService,this.searchConfigService=searchConfigService,this.rdbService=rdbService,this.zone=zone,this.store=store,this.router=router,this.selectEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.subMap={},this.totalInternal$=new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_19__.BehaviorSubject(0),this.isLeft=!1,this.isEditRelationship=!1,this.toAdd=[],this.toRemove=[],this.isPending=!1}ngOnInit(){this.currentItemIsLeftItem$&&this.currentItemIsLeftItem$.subscribe((isLeft=>{this.isLeft=isLeft})),this.selection$=this.selectableListService.getSelectableList(this.listId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)((listState=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_2__.b)(listState)&&Object(_empty_util__WEBPACK_IMPORTED_MODULE_2__.b)(listState.selection)?listState.selection:[]))),this.selection$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)(1)).subscribe((selection=>selection.map((s=>this.addNameVariantSubscription(s))))),"true"===this.relationshipOptions.nameVariants?this.context=_core_shared_context_model__WEBPACK_IMPORTED_MODULE_13__.a.EntitySearchModalWithNameVariants:this.context=_core_shared_context_model__WEBPACK_IMPORTED_MODULE_13__.a.EntitySearchModal,Object(_empty_util__WEBPACK_IMPORTED_MODULE_2__.e)(this.relationshipOptions.externalSources)&&(this.externalSourcesRD$=this.rdbService.aggregate(this.relationshipOptions.externalSources.map((source=>this.externalSourceService.findById(source,!0,!0,Object(_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_18__.a)("entityTypes"))))).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_17__.d)())),this.setTotals()}close(){this.toAdd=[],this.toRemove=[],this.modal.close()}select(...selectableObjects){this.zone.runOutsideAngular((()=>{Object(rxjs__WEBPACK_IMPORTED_MODULE_1__.a)([...selectableObjects.map((sri=>(this.addNameVariantSubscription(sri),this.relationshipService.getNameVariant(this.listId,sri.indexableObject.uuid).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)(1),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)((nameVariant=>({item:sri.indexableObject,nameVariant:nameVariant})))))))]).subscribe((arr=>arr.forEach((object=>{const addRelationshipAction=new _relationship_actions__WEBPACK_IMPORTED_MODULE_10__.a(this.item,object.item,this.relationshipOptions.relationshipType,this.submissionId,object.nameVariant);this.store.dispatch(addRelationshipAction)}))))}))}addNameVariantSubscription(sri){const nameVariant$=this.relationshipService.getNameVariant(this.listId,sri.indexableObject.uuid);this.subMap[sri.indexableObject.uuid]=nameVariant$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)(1)).subscribe((nameVariant=>this.store.dispatch(new _relationship_actions__WEBPACK_IMPORTED_MODULE_10__.d(this.item,sri.indexableObject,this.relationshipOptions.relationshipType,this.submissionId,nameVariant))))}deselect(...selectableObjects){this.zone.runOutsideAngular((()=>selectableObjects.forEach((object=>{this.subMap[object.indexableObject.uuid].unsubscribe(),this.store.dispatch(new _relationship_actions__WEBPACK_IMPORTED_MODULE_10__.c(this.item,object.indexableObject,this.relationshipOptions.relationshipType,this.submissionId))}))))}imported(object){this.setTotals(),this.select(object)}setTotals(){const externalSourcesAndOptions$=Object(rxjs__WEBPACK_IMPORTED_MODULE_1__.a)([this.externalSourcesRD$,this.searchConfigService.paginatedSearchOptions]);this.totalExternal$=externalSourcesAndOptions$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.a)((([sources,options])=>Object(rxjs__WEBPACK_IMPORTED_MODULE_1__.a)([...sources.map((source=>this.lookupRelationService.getTotalExternalResults(source,options)))]))))}setTotalInternals(totalPages){this.totalInternal$.next(totalPages)}ngOnDestroy(){this.router.navigate([],{}),Object.values(this.subMap).forEach((subscription=>subscription.unsubscribe()))}discardEv(){}submitEv(){}}DsDynamicLookupRelationModalComponent.\u0275fac=function DsDynamicLookupRelationModalComponent_Factory(t){return new(t||DsDynamicLookupRelationModalComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.c),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_9__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_data_relationship_service__WEBPACK_IMPORTED_MODULE_11__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_data_relationship_type_service__WEBPACK_IMPORTED_MODULE_12__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_data_external_source_service__WEBPACK_IMPORTED_MODULE_15__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_14__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_8__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_16__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ngrx_store__WEBPACK_IMPORTED_MODULE_21__.i),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_22__.g))},DsDynamicLookupRelationModalComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:DsDynamicLookupRelationModalComponent,selectors:[["ds-dynamic-lookup-relation-modal"]],outputs:{selectEvent:"selectEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275ProvidersFeature"]([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_7__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_8__.a}])],decls:40,vars:19,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"disabled","click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],[1,"buttons-container"],[1,"close-button"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","click"],["class","button-row bottom",4,"ngIf"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","",4,"ngFor","ngForOf"],["ngbNavItem","",4,"ngIf"],[3,"ngbNavOutlet"],[1,"d-block","pt-3",3,"selection$","listId","relationship","repeatable","context","query","relationshipType","isLeft","item","isEditRelationship","toRemove","selectObject","deselectObject","resultFound"],[1,"d-block","pt-3",3,"label","listId","repeatable","item","collection","relationship","context","externalSource","importedObject"],[1,"d-block","pt-3",3,"selection$","listId","relationshipType","repeatable","context","selectObject","deselectObject"],[1,"button-row","bottom"],[1,"float-right"],[1,"btn","btn-danger","discard",3,"disabled","click"],[1,"fas","fa-times"],[1,"d-none","d-sm-inline"],[1,"btn","btn-primary","submit",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"fas","fa-save"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function DsDynamicLookupRelationModalComponent_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](6,"button",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicLookupRelationModalComponent_Template_button_click_6_listener(){return ctx.close()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](8,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](10,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](11,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](12,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](13,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](14,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](15,DsDynamicLookupRelationModalComponent_ds_loading_15_Template,1,0,"ds-loading",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](16,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](17,DsDynamicLookupRelationModalComponent_ng_container_17_Template,23,13,"ng-container",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](18,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](19,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](20,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](21,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](22,"small"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](23),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](24,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](25,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](26,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](27,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](28,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](29,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](30,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](31,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicLookupRelationModalComponent_Template_button_click_31_listener(){return ctx.close()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](32),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](33,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](34,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](35,"\n     "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](36,DsDynamicLookupRelationModalComponent_div_36_Template,25,9,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](37,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](38,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](39,"\n")),2&rf){let tmp_4_0=null;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](4,8,"submission.sections.describe.relationship-lookup.title."+ctx.relationshipOptions.relationshipType)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("disabled",ctx.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!ctx.item||!ctx.collection),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.item&&ctx.collection),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind2"](24,10,"submission.sections.describe.relationship-lookup.selected",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction1"](17,_c1,(null==(tmp_4_0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](25,13,ctx.selection$))?null:tmp_4_0.length)||0))),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("disabled",ctx.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("\n            ",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](33,15,"submission.sections.describe.relationship-lookup.close"),""),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.isEditRelationship)}},directives:[_angular_common__WEBPACK_IMPORTED_MODULE_23__.NgIf,_loading_loading_component__WEBPACK_IMPORTED_MODULE_24__.a,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.t,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.v,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.w,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.u,_angular_common__WEBPACK_IMPORTED_MODULE_23__.NgForOf,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.y,_search_tab_dynamic_lookup_relation_search_tab_component__WEBPACK_IMPORTED_MODULE_25__.a,_external_source_tab_dynamic_lookup_relation_external_source_tab_component__WEBPACK_IMPORTED_MODULE_26__.a,_selection_tab_dynamic_lookup_relation_selection_tab_component__WEBPACK_IMPORTED_MODULE_27__.a],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_28__.d,_angular_common__WEBPACK_IMPORTED_MODULE_23__.AsyncPipe],styles:[".modal-footer[_ngcontent-%COMP%]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}[_nghost-%COMP%]     .modal-content{width:90%;margin:5%}[_nghost-%COMP%]   .spinner-border[_ngcontent-%COMP%]{vertical-align:middle}.buttons-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.buttons-container[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{margin-right:5px}"]})},"6c/T":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SubmissionImportExternalCollectionComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("1kSV"),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ofXK"),_shared_collection_dropdown_collection_dropdown_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("Oqsf"),_shared_loading_loading_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("Frqi"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("sYmb");function SubmissionImportExternalCollectionComponent_ds_loading_14_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0,"ds-loading")}const _c0=function(a0){return{"d-none":a0}};class SubmissionImportExternalCollectionComponent{constructor(activeModal){this.activeModal=activeModal,this.selectedEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.loading=!0}selectObject(event){this.selectedEvent.emit(event)}closeCollectionModal(){this.activeModal.dismiss(!1)}theOnlySelectable(theOnlySelectable){this.selectedEvent.emit(theOnlySelectable)}searchComplete(){this.loading=!1}isLoading(){return!!this.loading}}SubmissionImportExternalCollectionComponent.\u0275fac=function SubmissionImportExternalCollectionComponent_Factory(t){return new(t||SubmissionImportExternalCollectionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__.c))},SubmissionImportExternalCollectionComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:SubmissionImportExternalCollectionComponent,selectors:[["ds-submission-import-external-collection"]],outputs:{selectedEvent:"selectedEvent"},decls:21,vars:8,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[3,"ngClass","entityType","selectionChange","searchComplete","theOnlySelectable"]],template:function SubmissionImportExternalCollectionComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](5,"button",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function SubmissionImportExternalCollectionComponent_Template_button_click_5_listener(){return ctx.closeCollectionModal()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](7,"span",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](10,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](11,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](12,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](13,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](14,SubmissionImportExternalCollectionComponent_ds_loading_14_Template,1,0,"ds-loading",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](15,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](16,"ds-collection-dropdown",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("selectionChange",(function SubmissionImportExternalCollectionComponent_Template_ds_collection_dropdown_selectionChange_16_listener($event){return ctx.selectObject($event)}))("searchComplete",(function SubmissionImportExternalCollectionComponent_Template_ds_collection_dropdown_searchComplete_16_listener(){return ctx.searchComplete()}))("theOnlySelectable",(function SubmissionImportExternalCollectionComponent_Template_ds_collection_dropdown_theOnlySelectable_16_listener($event){return ctx.theOnlySelectable($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](17,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](18,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](19,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](20,"\n")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](4,4,"dso-selector.select.collection.head"),"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](11),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.isLoading()),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction1"](6,_c0,ctx.isLoading()))("entityType",ctx.entityType))},directives:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.NgIf,_shared_collection_dropdown_collection_dropdown_component__WEBPACK_IMPORTED_MODULE_3__.a,_angular_common__WEBPACK_IMPORTED_MODULE_2__.NgClass,_shared_loading_loading_component__WEBPACK_IMPORTED_MODULE_4__.a],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__.d],styles:[".close[_ngcontent-%COMP%]:focus{outline:none!important}"]})},"8HnP":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DsDynamicLookupRelationSelectionTabComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("dtp9"),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("joI/"),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("eIep"),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("IzEk"),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("7DXY"),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("f+Ev"),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("oBfO"),_remote_data_utils__WEBPACK_IMPORTED_MODULE_10__=(__webpack_require__("ynxc"),__webpack_require__("GG8d")),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("MFUF"),_angular_router__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("tyNb"),_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("pKvA"),_angular_common__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("ofXK"),_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("jLV+"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("sYmb");function DsDynamicLookupRelationSelectionTabComponent_div_13_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("\n            ",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2,1,"submission.sections.describe.relationship-lookup.selection-tab.no-selection"),"\n        "))}const _c0=function(a0,a1){return{repeatable:a0,listId:a1}};function DsDynamicLookupRelationSelectionTabComponent_div_16_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](6,"ds-viewable-collection",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("deselectObject",(function DsDynamicLookupRelationSelectionTabComponent_div_16_Template_ds_viewable_collection_deselectObject_6_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r3);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().deselectObject.emit($event)}))("selectObject",(function DsDynamicLookupRelationSelectionTabComponent_div_16_Template_ds_viewable_collection_selectObject_6_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r3);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().selectObject.emit($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](4,7,"submission.sections.describe.relationship-lookup.selection-tab.title."+ctx_r1.relationshipType)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("objects",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](7,9,ctx_r1.selectionRD$))("selectable",!0)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction2"](13,_c0,ctx_r1.repeatable,ctx_r1.listId))("config",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](8,11,ctx_r1.currentPagination$))("hideGear",!0)("context",ctx_r1.context)}}class DsDynamicLookupRelationSelectionTabComponent{constructor(router,searchConfigService,paginationService){this.router=router,this.searchConfigService=searchConfigService,this.paginationService=paginationService,this.deselectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.selectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.initialPagination=Object.assign(new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_6__.a,{id:"spc",pageSize:5})}ngOnInit(){this.resetRoute(),this.selectionRD$=this.searchConfigService.paginatedSearchOptions.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)((options=>options.pagination)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)((pagination=>this.selection$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)(1),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)((selected=>{const offset=(pagination.currentPage-1)*pagination.pageSize,end=offset+pagination.pageSize>selected.length?selected.length:offset+pagination.pageSize,selection=selected.slice(offset,end),pageInfo=new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_8__.a({elementsPerPage:pagination.pageSize,totalElements:selected.length,currentPage:pagination.currentPage,totalPages:Math.ceil(selected.length/pagination.pageSize)});return Object(_remote_data_utils__WEBPACK_IMPORTED_MODULE_10__.c)(Object(_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_7__.b)(pageInfo,selection))})))))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination)}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}}DsDynamicLookupRelationSelectionTabComponent.\u0275fac=function DsDynamicLookupRelationSelectionTabComponent_Factory(t){return new(t||DsDynamicLookupRelationSelectionTabComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_12__.g),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_2__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_11__.a))},DsDynamicLookupRelationSelectionTabComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:DsDynamicLookupRelationSelectionTabComponent,selectors:[["ds-dynamic-lookup-relation-selection-tab"]],inputs:{relationshipType:"relationshipType",listId:"listId",repeatable:"repeatable",selection$:"selection$",selectionRD$:"selectionRD$",context:"context"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275ProvidersFeature"]([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_1__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_2__.a}])],decls:21,vars:9,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[4,"ngIf"],[3,"objects","selectable","selectionConfig","config","hideGear","context","deselectObject","selectObject"]],template:function DsDynamicLookupRelationSelectionTabComponent_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](4,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](8,"ds-page-size-selector"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](10,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](11,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](12,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](13,DsDynamicLookupRelationSelectionTabComponent_div_13_Template,3,3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](14,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](15,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](16,DsDynamicLookupRelationSelectionTabComponent_div_16_Template,10,16,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](17,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](18,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](19,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](20,"\n")),2&rf){let tmp_1_0=null,tmp_2_0=null;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](6,3,"submission.sections.describe.relationship-lookup.selection-tab.settings")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",(null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](14,5,ctx.selectionRD$))?null:tmp_1_0.payload.page)<1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",(null==(tmp_2_0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](17,7,ctx.selectionRD$))?null:tmp_2_0.payload.page.length)>=1)}},directives:[_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_13__.a,_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf,_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_15__.a],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.d,_angular_common__WEBPACK_IMPORTED_MODULE_14__.AsyncPipe],styles:[""]})},"A/iK":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DsDynamicOneboxComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("q92s"),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("Kj3r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("/uUt"),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("vkgz"),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("eIep"),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("JIr8"),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("pLZG"),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("IzEk"),rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("HDdC"),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("XNiG"),rxjs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("LRne"),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("PdzJ"),_empty_util__WEBPACK_IMPORTED_MODULE_15__=(__webpack_require__("fEfZ"),__webpack_require__("J3qs")),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("x+ZM"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("1QIV"),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("f+Ev"),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("oBfO"),_dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("Ssu8"),_vocabulary_treeview_vocabulary_treeview_component__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("97Yq"),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("e+Av"),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("1kSV"),_angular_common__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("ofXK"),_angular_forms__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("3Pt+"),_authority_confidence_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("BIe1"),_utils_object_ngfor_pipe__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("UGKy"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("sYmb");const _c0=["instance"],_c1=function(a0){return{entry:a0}};function DsDynamicOneboxComponent_ng_template_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](0,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerStart"](1,4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n")),2&rf){const listEntry_r8=ctx.result;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](4),_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](7);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngTemplateOutlet",listEntry_r8.hasOtherInformation()?_r2:_r4)("ngTemplateOutletContext",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction1"](2,_c1,listEntry_r8))}}function DsDynamicOneboxComponent_ng_template_3_li_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"li",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const item_r12=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate2"]("\n      ",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2,2,"form.other-information."+item_r12.key)," : ",item_r12.value,"\n    ")}}function DsDynamicOneboxComponent_ng_template_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](0,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](1,"ul",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](3,"li",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](6,DsDynamicOneboxComponent_ng_template_3_li_6_Template,3,4,"li",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](7,"dsObjNgFor"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n")),2&rf){const entry_r10=ctx.entry;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](entry_r10.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](7,2,entry_r10.otherInformation))}}function DsDynamicOneboxComponent_ng_template_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](0,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](1,"ul",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](3,"li",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n")),2&rf){const entry_r13=ctx.entry;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](entry_r13.value)}}function DsDynamicOneboxComponent_div_9_i_2_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0,"i",15)}function DsDynamicOneboxComponent_div_9_i_4_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"i",16),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("whenClickOnConfidenceNotAccepted",(function DsDynamicOneboxComponent_div_9_i_4_Template_i_whenClickOnConfidenceNotAccepted_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r19);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2).whenClickOnConfidenceNotAccepted($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r15=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("authorityValue",ctx_r15.currentValue)}}function DsDynamicOneboxComponent_div_9_div_9_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"Sorry, suggestions could not be loaded."),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]())}function DsDynamicOneboxComponent_div_9_Template(rf,ctx){if(1&rf){const _r21=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2,DsDynamicOneboxComponent_div_9_i_2_Template,1,0,"i",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](4,DsDynamicOneboxComponent_div_9_i_4_Template,1,1,"i",11),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](6,"input",12,13),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("ngModelChange",(function DsDynamicOneboxComponent_div_9_Template_input_ngModelChange_6_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r21);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().currentValue=$event}))("blur",(function DsDynamicOneboxComponent_div_9_Template_input_blur_6_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r21);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onBlur($event)}))("focus",(function DsDynamicOneboxComponent_div_9_Template_input_focus_6_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r21);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onFocus($event)}))("change",(function DsDynamicOneboxComponent_div_9_Template_input_change_6_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r21);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onChange($event)}))("input",(function DsDynamicOneboxComponent_div_9_Template_input_input_6_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r21);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onInput($event)}))("selectItem",(function DsDynamicOneboxComponent_div_9_Template_input_selectItem_6_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r21);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onSelectItem($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](9,DsDynamicOneboxComponent_div_9_div_9_Template,2,0,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](10,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](1);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx_r6.searching),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!ctx_r6.searching),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("is-invalid",ctx_r6.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("id",ctx_r6.model.id)("inputFormatter",ctx_r6.formatter)("name",ctx_r6.model.name)("ngbTypeahead",ctx_r6.search)("placeholder",ctx_r6.model.placeholder)("readonly",ctx_r6.model.readOnly)("resultTemplate",_r0)("type",ctx_r6.model.inputType)("ngModel",ctx_r6.currentValue),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-labelledby","label_"+ctx_r6.model.id)("autoComplete",ctx_r6.model.autoComplete),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx_r6.searchFailed)}}function DsDynamicOneboxComponent_div_12_Template(rf,ctx){if(1&rf){const _r28=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"i",18),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicOneboxComponent_div_12_Template_i_click_2_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r28);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().openTree($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](4,"input",19),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("focus",(function DsDynamicOneboxComponent_div_12_Template_input_focus_4_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r28);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onFocus($event)}))("change",(function DsDynamicOneboxComponent_div_12_Template_input_change_4_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r28);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onChange($event)}))("click",(function DsDynamicOneboxComponent_div_12_Template_input_click_4_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r28);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().openTree($event)}))("keydown",(function DsDynamicOneboxComponent_div_12_Template_input_keydown_4_listener($event){return $event.preventDefault()}))("keypress",(function DsDynamicOneboxComponent_div_12_Template_input_keypress_4_listener($event){return $event.preventDefault()}))("keyup",(function DsDynamicOneboxComponent_div_12_Template_input_keyup_4_listener($event){return $event.preventDefault()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("is-invalid",ctx_r7.showErrorMessages)("tree-input",!ctx_r7.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("id",ctx_r7.id)("name",ctx_r7.model.name)("placeholder",ctx_r7.model.placeholder)("readonly",!0)("type",ctx_r7.model.inputType)("value",null==ctx_r7.currentValue?null:ctx_r7.currentValue.display),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-labelledby","label_"+ctx_r7.model.id)("autoComplete",ctx_r7.model.autoComplete)}}class DsDynamicOneboxComponent extends _dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_20__.a{constructor(vocabularyService,cdr,layoutService,modalService,validationService){super(vocabularyService,layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.layoutService=layoutService,this.modalService=modalService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.pageInfo=new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_19__.a,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed$=new rxjs__WEBPACK_IMPORTED_MODULE_10__.a((()=>()=>this.changeSearchingStatus(!1))),this.click$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.a,this.subs=[],this.formatter=x=>"object"==typeof x?x.display:x,this.search=text$=>text$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.a)(this.click$),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)(300),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)((()=>this.changeSearchingStatus(!0))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((term=>""===term||term.length<this.model.minChars?Object(rxjs__WEBPACK_IMPORTED_MODULE_12__.a)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(term,!1,this.model.vocabularyOptions,this.pageInfo).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_17__.j)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)((()=>this.searchFailed=!1)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.a)((()=>(this.searchFailed=!0,Object(rxjs__WEBPACK_IMPORTED_MODULE_12__.a)(Object(_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_18__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_19__.a,[])))))))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.a)((list=>list.page)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)((()=>this.changeSearchingStatus(!1))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.a)(this.hideSearchingWhenUnsubscribed$))}ngOnInit(){this.model.value&&this.setCurrentValue(this.model.value,!0),this.vocabulary$=this.vocabularyService.findVocabularyById(this.model.vocabularyOptions.name).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_17__.j)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)()),this.isHierarchicalVocabulary$=this.vocabulary$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.a)((result=>result.hierarchical))),this.subs.push(this.group.get(this.model.id).valueChanges.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.a)((value=>this.currentValue!==value))).subscribe((value=>{this.setCurrentValue(this.model.value)})))}changeSearchingStatus(status){this.searching=status,this.cdr.detectChanges()}isHierarchicalVocabulary(){return this.isHierarchicalVocabulary$}onInput(event){!this.model.vocabularyOptions.closed&&Object(_empty_util__WEBPACK_IMPORTED_MODULE_15__.e)(event.target.value)&&(this.inputValue=new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_16__.a(event.target.value))}onBlur(event){this.instance.isPopupOpen()?(event.preventDefault(),event.stopImmediatePropagation(),event.target.focus()):(!this.model.vocabularyOptions.closed&&Object(_empty_util__WEBPACK_IMPORTED_MODULE_15__.e)(this.inputValue)&&(Object(_empty_util__WEBPACK_IMPORTED_MODULE_15__.g)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null),this.blur.emit(event))}onChange(event){event.stopPropagation(),Object(_empty_util__WEBPACK_IMPORTED_MODULE_15__.d)(this.currentValue)&&this.dispatchUpdate(null)}onSelectItem(event){this.inputValue=null,this.setCurrentValue(event.item),this.dispatchUpdate(event.item)}openTree(event){event.preventDefault(),event.stopImmediatePropagation(),this.subs.push(this.vocabulary$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.a)((vocabulary=>vocabulary.preloadLevel)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(1)).subscribe((preloadLevel=>{const modalRef=this.modalService.open(_vocabulary_treeview_vocabulary_treeview_component__WEBPACK_IMPORTED_MODULE_21__.a,{size:"lg",windowClass:"treeview"});modalRef.componentInstance.vocabularyOptions=this.model.vocabularyOptions,modalRef.componentInstance.preloadLevel=preloadLevel,modalRef.componentInstance.selectedItem=this.currentValue?this.currentValue:"",modalRef.result.then((result=>{result&&(this.currentValue=result,this.dispatchUpdate(result))}),(()=>{}))})))}whenClickOnConfidenceNotAccepted(confidence){this.model.readOnly||this.click$.next(this.formatter(this.currentValue))}setCurrentValue(value,init=!1){let result;init?this.getInitValueFromModel().subscribe((formValue=>{this.currentValue=formValue,this.cdr.detectChanges()})):(result=Object(_empty_util__WEBPACK_IMPORTED_MODULE_15__.d)(value)?"":value.value,this.currentValue=result,this.cdr.detectChanges())}ngOnDestroy(){this.subs.filter((sub=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_15__.b)(sub))).forEach((sub=>sub.unsubscribe()))}}DsDynamicOneboxComponent.\u0275fac=function DsDynamicOneboxComponent_Factory(t){return new(t||DsDynamicOneboxComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_13__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_22__.E),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_23__.q),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_22__.H))},DsDynamicOneboxComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:DsDynamicOneboxComponent,selectors:[["ds-dynamic-onebox"]],viewQuery:function DsDynamicOneboxComponent_Query(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275viewQuery"](_c0,1),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]())&&(ctx.instance=_t.first)}},inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"]],decls:15,vars:6,consts:[["rt",""],["hasInfo",""],["noInfo",""],["class","position-relative right-addon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["dsAuthorityConfidenceState","","class","far fa-circle fa-2x fa-fw position-absolute mt-1 p-0","aria-hidden","true",3,"authorityValue","whenClickOnConfidenceNotAccepted",4,"ngIf"],[1,"form-control",3,"id","inputFormatter","name","ngbTypeahead","placeholder","readonly","resultTemplate","type","ngModel","ngModelChange","blur","focus","change","input","selectItem"],["instance","ngbTypeahead"],["class","invalid-feedback",4,"ngIf"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0",3,"authorityValue","whenClickOnConfidenceNotAccepted"],[1,"invalid-feedback"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","tree-toggle",3,"click"],[1,"form-control",3,"id","name","placeholder","readonly","type","value","focus","change","click","keydown","keypress","keyup"]],template:function DsDynamicOneboxComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](0,DsDynamicOneboxComponent_ng_template_0_Template,4,4,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"]),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](3,DsDynamicOneboxComponent_ng_template_3_Template,10,4,"ng-template",null,1,_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"]),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](6,DsDynamicOneboxComponent_ng_template_6_Template,7,1,"ng-template",null,2,_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"]),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](9,DsDynamicOneboxComponent_div_9_Template,11,16,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](11,"\n\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](12,DsDynamicOneboxComponent_div_12_Template,6,12,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](13,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](14,"\n")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](10,2,ctx.isHierarchicalVocabulary())),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](13,4,ctx.isHierarchicalVocabulary())))},directives:[_angular_common__WEBPACK_IMPORTED_MODULE_24__.NgIf,_angular_common__WEBPACK_IMPORTED_MODULE_24__.NgTemplateOutlet,_angular_common__WEBPACK_IMPORTED_MODULE_24__.NgForOf,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_23__.Q,_angular_forms__WEBPACK_IMPORTED_MODULE_25__.DefaultValueAccessor,_angular_forms__WEBPACK_IMPORTED_MODULE_25__.NgControlStatus,_angular_forms__WEBPACK_IMPORTED_MODULE_25__.NgModel,_authority_confidence_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_26__.a],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_24__.AsyncPipe,_utils_object_ngfor_pipe__WEBPACK_IMPORTED_MODULE_27__.a,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_28__.d],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus, button.ds-form-add-more[_ngcontent-%COMP%]:focus{-webkit-box-shadow:none!important;box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.treeview[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:85vh!important;overflow-y:auto}.tree-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.tree-input[readonly][_ngcontent-%COMP%]{background-color:#fff}"]})},"Gu/b":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DsDynamicTagComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("HDdC"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("LRne"),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("Kj3r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("/uUt"),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("vkgz"),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("eIep"),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("JIr8"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("q92s"),lodash__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("LvDl"),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("PdzJ"),_chips_models_chips_model__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__("RyS1"),__webpack_require__("Dh10")),_empty_util__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("J3qs"),_environments_environment__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("AytR"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("1QIV"),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("f+Ev"),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("oBfO"),_dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("Ssu8"),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("e+Av"),_chips_chips_component__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("gLKo"),_angular_common__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("ofXK"),_angular_forms__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("3Pt+"),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("1kSV");const _c0=["instance"];function DsDynamicTagComponent_ng_template_0_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](0),2&rf){const r_r4=ctx.result;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("\n  ",r_r4.display,"\n")}}function DsDynamicTagComponent_input_5_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"input",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("ngModelChange",(function DsDynamicTagComponent_input_5_Template_input_ngModelChange_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r7);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().currentValue=$event}))("blur",(function DsDynamicTagComponent_input_5_Template_input_blur_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r7);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onBlur($event)}))("keypress",(function DsDynamicTagComponent_input_5_Template_input_keypress_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r7);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().preventEventsPropagation($event)}))("keydown",(function DsDynamicTagComponent_input_5_Template_input_keydown_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r7);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().preventEventsPropagation($event)}))("keyup",(function DsDynamicTagComponent_input_5_Template_input_keyup_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r7);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onKeyUp($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("pl-3",ctx_r2.chips.hasItems()),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("placeholder",ctx_r2.model.placeholder)("readonly",ctx_r2.model.readOnly)("ngModel",ctx_r2.currentValue)}}function DsDynamicTagComponent_div_7_i_2_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0,"i",9)}function DsDynamicTagComponent_div_7_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2,DsDynamicTagComponent_div_7_i_2_Template,1,0,"i",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](4,"input",7,8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("ngModelChange",(function DsDynamicTagComponent_div_7_Template_input_ngModelChange_4_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r15);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().currentValue=$event}))("blur",(function DsDynamicTagComponent_div_7_Template_input_blur_4_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r15);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onBlur($event)}))("focus",(function DsDynamicTagComponent_div_7_Template_input_focus_4_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r15);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onFocus($event)}))("change",(function DsDynamicTagComponent_div_7_Template_input_change_4_listener($event){return $event.stopPropagation()}))("input",(function DsDynamicTagComponent_div_7_Template_input_input_4_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r15);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onInput($event)}))("selectItem",(function DsDynamicTagComponent_div_7_Template_input_selectItem_4_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r15);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onSelectItem($event)}))("keypress",(function DsDynamicTagComponent_div_7_Template_input_keypress_4_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r15);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().preventEventsPropagation($event)}))("keydown",(function DsDynamicTagComponent_div_7_Template_input_keydown_4_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r15);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().preventEventsPropagation($event)}))("keyup",(function DsDynamicTagComponent_div_7_Template_input_keyup_4_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r15);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onKeyUp($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](1);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx_r3.searching),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("is-invalid",ctx_r3.showErrorMessages)("pl-3",ctx_r3.chips.hasItems()),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngModel",ctx_r3.currentValue)("id",ctx_r3.id)("inputFormatter",ctx_r3.formatter)("name",ctx_r3.model.name)("ngbTypeahead",ctx_r3.search)("placeholder",ctx_r3.model.placeholder)("readonly",ctx_r3.model.readOnly)("resultTemplate",_r0)("type",ctx_r3.model.inputType),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-labelledby","label_"+ctx_r3.model.id)("autoComplete",ctx_r3.model.autoComplete)}}class DsDynamicTagComponent extends _dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_19__.a{constructor(vocabularyService,cdr,layoutService,validationService){super(vocabularyService,layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.layoutService=layoutService,this.validationService=validationService,this.bindId=!0,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a((()=>()=>this.changeSearchingStatus(!1))),this.formatter=x=>x.display,this.search=text$=>text$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(300),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((()=>this.changeSearchingStatus(!0))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.a)((term=>""===term||term.length<this.model.minChars?Object(rxjs__WEBPACK_IMPORTED_MODULE_2__.a)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(term,!1,this.model.vocabularyOptions,new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_18__.a).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_16__.j)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((()=>this.searchFailed=!1)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.a)((()=>(this.searchFailed=!0,Object(rxjs__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_17__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_18__.a,[])))))))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.a)((list=>list.page)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((()=>this.changeSearchingStatus(!1))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(this.hideSearchingWhenUnsubscribed))}ngOnInit(){this.hasAuthority=this.model.vocabularyOptions&&Object(_empty_util__WEBPACK_IMPORTED_MODULE_14__.b)(this.model.vocabularyOptions.name),this.chips=new _chips_models_chips_model__WEBPACK_IMPORTED_MODULE_13__.a(this.model.value,"display",null,_environments_environment__WEBPACK_IMPORTED_MODULE_15__.a.submission.icons.metadata),this.chips.chipsItems.subscribe((subItems=>{const items=this.chips.getChipsItems();Object(lodash__WEBPACK_IMPORTED_MODULE_10__.isEqual)(items,this.model.value)||this.dispatchUpdate(items)}))}changeSearchingStatus(status){this.searching=status,this.cdr.detectChanges()}onInput(event){event.data&&this.group.markAsDirty(),this.cdr.detectChanges()}onBlur(event){Object(_empty_util__WEBPACK_IMPORTED_MODULE_14__.e)(this.currentValue)&&!this.instance.isPopupOpen()&&this.addTagsToChips(),this.blur.emit(event)}onSelectItem(event){this.chips.add(event.item),this.updateModel(event),setTimeout((()=>{this.setCurrentValue(null),this.cdr.detectChanges()}),50)}updateModel(event){this.dispatchUpdate(this.chips.getChipsItems())}onKeyUp(event){13!==event.keyCode&&188!==event.keyCode||(event.preventDefault(),this.addTagsToChips(),event.stopPropagation())}preventEventsPropagation(event){event.stopPropagation(),13===event.keyCode&&event.preventDefault()}setCurrentValue(value,init=!1){this.currentValue=value}addTagsToChips(){if(Object(_empty_util__WEBPACK_IMPORTED_MODULE_14__.b)(this.currentValue)&&(!this.hasAuthority||!this.model.vocabularyOptions.closed)){let res=[];res=this.currentValue.split(",");const res1=[];res.forEach((item=>{item.split(";").forEach((i=>{res1.push(i)}))})),res1.forEach((c=>{(c=c.trim()).length>0&&this.chips.add(c)})),setTimeout((()=>{this.setCurrentValue(null),this.cdr.detectChanges()}),50),this.updateModel(event)}}}DsDynamicTagComponent.\u0275fac=function DsDynamicTagComponent_Factory(t){return new(t||DsDynamicTagComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_11__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_20__.E),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_20__.H))},DsDynamicTagComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:DsDynamicTagComponent,selectors:[["ds-dynamic-tag"]],viewQuery:function DsDynamicTagComponent_Query(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275viewQuery"](_c0,1),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]())&&(ctx.instance=_t.first)}},inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"]],decls:10,vars:6,consts:[["rt",""],[3,"chips","editable","showIcons","wrapperClass"],["class","border-0 form-control-plaintext tag-input flex-grow-1 mt-1 mb-1","type","text","role","textbox",3,"pl-3","placeholder","readonly","ngModel","ngModelChange","blur","keypress","keydown","keyup",4,"ngIf"],["class","position-relative right-addon",4,"ngIf"],["type","text","role","textbox",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"placeholder","readonly","ngModel","ngModelChange","blur","keypress","keydown","keyup"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["type","text",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModel","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","resultTemplate","type","ngModelChange","blur","focus","change","input","selectItem","keypress","keydown","keyup"],["instance","ngbTypeahead"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"]],template:function DsDynamicTagComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](0,DsDynamicTagComponent_ng_template_0_Template,1,1,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"]),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](3,"ds-chips",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](5,DsDynamicTagComponent_input_5_Template,1,5,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](7,DsDynamicTagComponent_div_7_Template,7,16,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n\n")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("chips",ctx.chips)("editable",!1)("showIcons",ctx.model.hasAuthority)("wrapperClass","border-bottom border-light"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!ctx.model.hasAuthority),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.model.hasAuthority))},directives:[_chips_chips_component__WEBPACK_IMPORTED_MODULE_21__.a,_angular_common__WEBPACK_IMPORTED_MODULE_22__.NgIf,_angular_forms__WEBPACK_IMPORTED_MODULE_23__.DefaultValueAccessor,_angular_forms__WEBPACK_IMPORTED_MODULE_23__.NgControlStatus,_angular_forms__WEBPACK_IMPORTED_MODULE_23__.NgModel,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_24__.Q],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus, button.ds-form-add-more[_ngcontent-%COMP%]:focus{-webkit-box-shadow:none!important;box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}.chips-left[_ngcontent-%COMP%]{left:0;padding-right:100%}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:scroll;overflow-x:hidden;left:0!important;margin-top:var(--bs-spacer)!important}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.tag-input[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;outline:none;width:auto!important}"]})},JN36:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DYNAMIC_FORM_CONTROL_TYPE_CUSTOM_SWITCH})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DynamicCustomSwitchModel}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("zOht"),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e+Av");const DYNAMIC_FORM_CONTROL_TYPE_CUSTOM_SWITCH="CUSTOM_SWITCH";class DynamicCustomSwitchModel extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.r{constructor(config,layout){super(config,layout),this.type=DYNAMIC_FORM_CONTROL_TYPE_CUSTOM_SWITCH}}Object(tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([Object(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.U)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.__metadata)("design:type",String)],DynamicCustomSwitchModel.prototype,"type",void 0)},"KKO+":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return dynamic_relation_group_components_DsDynamicRelationGroupComponent}));var core=__webpack_require__("fXoL"),of=__webpack_require__("LRne"),combineLatest=__webpack_require__("itXk"),mergeMap=__webpack_require__("5+tZ"),map=__webpack_require__("lJxs"),scan=__webpack_require__("Kqap"),filter=__webpack_require__("pLZG"),fesm2015_core=__webpack_require__("e+Av"),lodash=__webpack_require__("LvDl"),form_builder_service=(__webpack_require__("sraR"),__webpack_require__("Q5/L")),form_service=__webpack_require__("NFsL"),form_component=__webpack_require__("hqmO"),chips_model=__webpack_require__("Dh10"),empty_util=__webpack_require__("J3qs"),animations=__webpack_require__("R0Ic");const shrinkInOut=Object(animations.m)("shrinkInOut",[Object(animations.j)("in",Object(animations.k)({height:"100%",opacity:1})),Object(animations.l)("* => void",[Object(animations.k)({height:"!",opacity:1}),Object(animations.e)(200,Object(animations.k)({height:0,opacity:0}))]),Object(animations.l)("void => *",[Object(animations.k)({height:0,opacity:0}),Object(animations.e)(200,Object(animations.k)({height:"*",opacity:1}))])]);var object_util=__webpack_require__("Gx58"),vocabulary_service=__webpack_require__("PdzJ"),form_field_metadata_value_model=__webpack_require__("x+ZM"),environment=__webpack_require__("AytR"),ds_dynamic_form_constants=__webpack_require__("586V"),operators=__webpack_require__("1QIV"),common=__webpack_require__("ofXK"),ng_bootstrap=__webpack_require__("1kSV"),loading_component=__webpack_require__("Frqi"),chips_component=__webpack_require__("gLKo"),ngx_translate_core=__webpack_require__("sYmb");const _c0=["formRef"];function DsDynamicRelationGroupComponent_a_0_Template(rf,ctx){if(1&rf){const _r7=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"a",7),core["\u0275\u0275pipe"](1,"translate"),core["\u0275\u0275text"](2,"\n  "),core["\u0275\u0275elementStart"](3,"span",8),core["\u0275\u0275listener"]("click",(function DsDynamicRelationGroupComponent_a_0_Template_span_click_3_listener(){core["\u0275\u0275restoreView"](_r7);return core["\u0275\u0275nextContext"]().collapseForm()})),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](4,"\n"),core["\u0275\u0275elementEnd"]()}2&rf&&core["\u0275\u0275propertyInterpolate"]("ngbTooltip",core["\u0275\u0275pipeBind1"](1,1,"form.group-collapse-help"))}function DsDynamicRelationGroupComponent_a_3_Template(rf,ctx){if(1&rf){const _r9=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"a",7),core["\u0275\u0275pipe"](1,"translate"),core["\u0275\u0275text"](2,"\n  "),core["\u0275\u0275elementStart"](3,"span",9),core["\u0275\u0275listener"]("click",(function DsDynamicRelationGroupComponent_a_3_Template_span_click_3_listener(){core["\u0275\u0275restoreView"](_r9);return core["\u0275\u0275nextContext"]().expandForm()})),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](4,"\n"),core["\u0275\u0275elementEnd"]()}2&rf&&core["\u0275\u0275propertyInterpolate"]("ngbTooltip",core["\u0275\u0275pipeBind1"](1,1,"form.group-expand-help"))}function DsDynamicRelationGroupComponent_div_8_div_5_Template(rf,ctx){if(1&rf){const _r13=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"div",15),core["\u0275\u0275text"](1,"\n\n        "),core["\u0275\u0275elementStart"](2,"button",16),core["\u0275\u0275listener"]("click",(function DsDynamicRelationGroupComponent_div_8_div_5_Template_button_click_2_listener(){core["\u0275\u0275restoreView"](_r13);return core["\u0275\u0275nextContext"](2).save()})),core["\u0275\u0275text"](3,"\n          "),core["\u0275\u0275element"](4,"i",17),core["\u0275\u0275text"](5,"\n        "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](6,"\n        "),core["\u0275\u0275elementStart"](7,"button",16),core["\u0275\u0275listener"]("click",(function DsDynamicRelationGroupComponent_div_8_div_5_Template_button_click_7_listener(){core["\u0275\u0275restoreView"](_r13);return core["\u0275\u0275nextContext"](2).delete()})),core["\u0275\u0275text"](8,"\n          "),core["\u0275\u0275element"](9,"i",18),core["\u0275\u0275text"](10,"\n        "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](11,"\n        "),core["\u0275\u0275elementStart"](12,"button",16),core["\u0275\u0275listener"]("click",(function DsDynamicRelationGroupComponent_div_8_div_5_Template_button_click_12_listener(){core["\u0275\u0275restoreView"](_r13);return core["\u0275\u0275nextContext"](2).clear()})),core["\u0275\u0275text"](13,"\n          "),core["\u0275\u0275element"](14,"i",19),core["\u0275\u0275text"](15,"\n        "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](16,"\n\n    "),core["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r11=core["\u0275\u0275nextContext"](2);core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("disabled",ctx_r11.isMandatoryFieldEmpty()),core["\u0275\u0275advance"](5),core["\u0275\u0275property"]("disabled",!ctx_r11.editMode),core["\u0275\u0275advance"](5),core["\u0275\u0275property"]("disabled",ctx_r11.isMandatoryFieldEmpty())}}function DsDynamicRelationGroupComponent_div_8_Template(rf,ctx){if(1&rf){const _r17=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"div",10),core["\u0275\u0275text"](1,"\n    "),core["\u0275\u0275elementStart"](2,"ds-form",11,12),core["\u0275\u0275listener"]("dfBlur",(function DsDynamicRelationGroupComponent_div_8_Template_ds_form_dfBlur_2_listener($event){core["\u0275\u0275restoreView"](_r17);return core["\u0275\u0275nextContext"]().onBlur($event)}))("dfFocus",(function DsDynamicRelationGroupComponent_div_8_Template_ds_form_dfFocus_2_listener($event){core["\u0275\u0275restoreView"](_r17);return core["\u0275\u0275nextContext"]().onFocus($event)})),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](4,"\n\n\n    "),core["\u0275\u0275template"](5,DsDynamicRelationGroupComponent_div_8_div_5_Template,17,3,"div",13),core["\u0275\u0275pipe"](6,"async"),core["\u0275\u0275text"](7,"\n    "),core["\u0275\u0275element"](8,"div",14),core["\u0275\u0275text"](9,"\n  "),core["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r2=core["\u0275\u0275nextContext"]();core["\u0275\u0275property"]("@shrinkInOut",void 0),core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("formId",ctx_r2.formId)("formModel",ctx_r2.formModel)("displaySubmit",!1)("displayCancel",!1)("emitChange",!1),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("ngIf",!core["\u0275\u0275pipeBind1"](6,7,ctx_r2.formCollapsed))}}function DsDynamicRelationGroupComponent_ds_loading_13_Template(rf,ctx){1&rf&&core["\u0275\u0275element"](0,"ds-loading",20),2&rf&&core["\u0275\u0275property"]("showMessage",!1)}function DsDynamicRelationGroupComponent_div_15_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"div"),core["\u0275\u0275text"](1,"\n      "),core["\u0275\u0275element"](2,"input",21),core["\u0275\u0275pipe"](3,"translate"),core["\u0275\u0275text"](4,"\n    "),core["\u0275\u0275elementEnd"]()),2&rf&&(core["\u0275\u0275advance"](2),core["\u0275\u0275propertyInterpolate"]("value",core["\u0275\u0275pipeBind1"](3,1,"form.no-value")))}function DsDynamicRelationGroupComponent_ds_chips_17_Template(rf,ctx){if(1&rf){const _r20=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"ds-chips",22),core["\u0275\u0275listener"]("selected",(function DsDynamicRelationGroupComponent_ds_chips_17_Template_ds_chips_selected_0_listener($event){core["\u0275\u0275restoreView"](_r20);return core["\u0275\u0275nextContext"]().onChipSelected($event)})),core["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r5=core["\u0275\u0275nextContext"]();core["\u0275\u0275property"]("chips",ctx_r5.chips)("editable",!0)("showIcons",!0)}}const _c1=function(a0,a1){return{"border-top":a0,"border border-danger":a1}};class dynamic_relation_group_components_DsDynamicRelationGroupComponent extends fesm2015_core.z{constructor(vocabularyService,formBuilderService,formService,cdr,layoutService,validationService){super(layoutService,validationService),this.vocabularyService=vocabularyService,this.formBuilderService=formBuilderService,this.formService=formService,this.cdr=cdr,this.layoutService=layoutService,this.validationService=validationService,this.blur=new core.EventEmitter,this.change=new core.EventEmitter,this.focus=new core.EventEmitter,this.formCollapsed=Object(of.a)(!1),this.editMode=!1,this.subs=[]}ngOnInit(){const config={rows:this.model.formConfiguration};this.model.isEmpty()||(this.formCollapsed=Object(of.a)(!0)),this.model.valueChanges.subscribe((value=>{!Object(empty_util.e)(value)||1===value.length&&Object(object_util.b)(value[0])?this.expandForm():this.collapseForm()})),this.formId=this.formService.getUniqueId(this.model.id),this.formModel=this.formBuilderService.modelFromConfiguration(this.model.submissionId,config,this.model.scopeUUID,{},this.model.submissionScope,this.model.readOnly),this.initChipsFromModelValue()}isMandatoryFieldEmpty(){let res=!0;return this.formModel.forEach((row=>{row.group.forEach((model=>{model.name!==this.model.mandatoryField||(res=null==model.value)}))})),res}onBlur(event){this.blur.emit()}onChipSelected(event){this.expandForm(),this.selectedChipItem=this.chips.getChipByIndex(event),this.formModel.forEach((row=>{row.group.forEach((model=>{const value=this.selectedChipItem.item[model.name]===ds_dynamic_form_constants.b||this.selectedChipItem.item[model.name].value===ds_dynamic_form_constants.b?null:this.selectedChipItem.item[model.name],nextValue=this.formBuilderService.isInputModel(model)&&Object(empty_util.g)(value)&&"string"!=typeof value?value.value:value;model.value=nextValue}))})),this.editMode=!0}onFocus(event){this.focus.emit(event)}collapseForm(){this.formCollapsed=Object(of.a)(!0),this.clear()}expandForm(){this.formCollapsed=Object(of.a)(!1)}clear(){this.editMode&&(this.selectedChipItem.editMode=!1,this.selectedChipItem=null,this.editMode=!1),this.resetForm(),this.model.isEmpty()||(this.formCollapsed=Object(of.a)(!0))}save(){this.editMode?this.modifyChip():this.addToChips()}delete(){this.chips.remove(this.selectedChipItem),this.clear()}ngOnDestroy(){this.subs.filter((sub=>Object(empty_util.b)(sub))).forEach((sub=>sub.unsubscribe()))}addToChips(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const item=this.buildChipItem();this.chips.add(item),this.resetForm()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}modifyChip(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const item=this.buildChipItem();this.chips.update(this.selectedChipItem.id,item),this.resetForm(),this.cdr.detectChanges()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}buildChipItem(){const item=Object.create({});return this.formModel.forEach((row=>{row.group.forEach((control=>{item[control.name]=control.value||ds_dynamic_form_constants.b}))})),item}initChipsFromModelValue(){let initChipsValue$;this.model.isEmpty()?this.initChips([]):(initChipsValue$=Object(of.a)(this.model.value),this.subs.push(initChipsValue$.pipe(Object(mergeMap.a)((valueModel=>{const returnList=[];return valueModel.forEach((valueObj=>{const returnObj=Object.keys(valueObj).map((fieldName=>{let return$;if(Object(lodash.isObject)(valueObj[fieldName])&&valueObj[fieldName].hasAuthority()&&Object(empty_util.e)(valueObj[fieldName].authority)){const fieldId=fieldName.replace(/\./g,"_"),model=this.formBuilderService.findById(fieldId,this.formModel);return$=this.vocabularyService.findEntryDetailById(valueObj[fieldName].authority,model.vocabularyOptions.name).pipe(Object(operators.j)(),Object(map.a)((entryDetail=>Object.assign(new form_field_metadata_value_model.a,valueObj[fieldName],{otherInformation:entryDetail.otherInformation}))))}else return$=Object(of.a)(valueObj[fieldName]);return return$.pipe(Object(map.a)((entry=>({[fieldName]:entry}))))}));returnList.push(Object(combineLatest.a)(returnObj))})),returnList})),Object(mergeMap.a)(((valueListObj,index)=>valueListObj.pipe(Object(map.a)((valueObj=>({index:index,value:valueObj.reduce(((acc,value)=>Object.assign({},acc,value)))})))))),Object(scan.a)(((acc,valueObj)=>(0===acc.length?acc.push(valueObj.value):acc.splice(valueObj.index,0,valueObj.value),acc)),[]),Object(filter.a)((modelValues=>this.model.value.length===modelValues.length))).subscribe((modelValue=>{this.model.value=modelValue,this.initChips(modelValue),this.cdr.markForCheck()}))))}initChips(initChipsValue){this.chips=new chips_model.a(initChipsValue,"value",this.model.mandatoryField,environment.a.submission.icons.metadata),this.subs.push(this.chips.chipsItems.subscribe((()=>{const items=this.chips.getChipsItems();Object(lodash.isEqual)(items,this.model.value)||Object(empty_util.d)(items)&&this.model.isEmpty()||(this.model.value=items,this.change.emit())})))}resetForm(){this.formRef&&this.formService.resetForm(this.formRef.formGroup,this.formModel,this.formId)}}dynamic_relation_group_components_DsDynamicRelationGroupComponent.\u0275fac=function DsDynamicRelationGroupComponent_Factory(t){return new(t||dynamic_relation_group_components_DsDynamicRelationGroupComponent)(core["\u0275\u0275directiveInject"](vocabulary_service.a),core["\u0275\u0275directiveInject"](form_builder_service.a),core["\u0275\u0275directiveInject"](form_service.a),core["\u0275\u0275directiveInject"](core.ChangeDetectorRef),core["\u0275\u0275directiveInject"](fesm2015_core.E),core["\u0275\u0275directiveInject"](fesm2015_core.H))},dynamic_relation_group_components_DsDynamicRelationGroupComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:dynamic_relation_group_components_DsDynamicRelationGroupComponent,selectors:[["ds-dynamic-relation-group"]],viewQuery:function DsDynamicRelationGroupComponent_Query(rf,ctx){if(1&rf&&core["\u0275\u0275viewQuery"](_c0,1),2&rf){let _t;core["\u0275\u0275queryRefresh"](_t=core["\u0275\u0275loadQuery"]())&&(ctx.formRef=_t.first)}},inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[core["\u0275\u0275InheritDefinitionFeature"]],decls:21,vars:16,consts:[["class","close position-relative","placement","left",3,"ngbTooltip",4,"ngIf"],[1,"pt-2",3,"ngClass"],["class","pl-2 row",4,"ngIf"],[1,"d-flex"],[3,"showMessage",4,"ngIf"],[4,"ngIf"],[3,"chips","editable","showIcons","selected",4,"ngIf"],["placement","left",1,"close","position-relative",3,"ngbTooltip"],["aria-hidden","true",1,"fas","fa-angle-up","fa-fw","fa-2x",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","fa-fw","fa-2x",3,"click"],[1,"pl-2","row"],[1,"col-sm-12","col-md-8","col-lg-9","col-xl-10","pl-0",3,"formId","formModel","displaySubmit","displayCancel","emitChange","dfBlur","dfFocus"],["formRef","formComponent"],["class","col p-0 m-0 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"clearfix"],[1,"col","p-0","m-0","d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-save","text-primary","fa-2x"],["aria-hidden","true",1,"fas","fa-trash","text-danger","fa-2x"],["aria-hidden","true",1,"fas","fa-undo","fa-2x"],[3,"showMessage"],["type","text","readonly","","tabindex","-1",1,"border-0","form-control-plaintext","tag-input","mt-1","mb-1","pl-2","text-muted",3,"value"],[3,"chips","editable","showIcons","selected"]],template:function DsDynamicRelationGroupComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275template"](0,DsDynamicRelationGroupComponent_a_0_Template,5,3,"a",0),core["\u0275\u0275pipe"](1,"async"),core["\u0275\u0275text"](2,"\n"),core["\u0275\u0275template"](3,DsDynamicRelationGroupComponent_a_3_Template,5,3,"a",0),core["\u0275\u0275pipe"](4,"async"),core["\u0275\u0275text"](5,"\n\n"),core["\u0275\u0275elementStart"](6,"div",1),core["\u0275\u0275text"](7,"\n  "),core["\u0275\u0275template"](8,DsDynamicRelationGroupComponent_div_8_Template,10,9,"div",2),core["\u0275\u0275pipe"](9,"async"),core["\u0275\u0275text"](10,"\n\n  "),core["\u0275\u0275elementStart"](11,"div",3),core["\u0275\u0275text"](12,"\n    "),core["\u0275\u0275template"](13,DsDynamicRelationGroupComponent_ds_loading_13_Template,1,1,"ds-loading",4),core["\u0275\u0275text"](14,"\n    "),core["\u0275\u0275template"](15,DsDynamicRelationGroupComponent_div_15_Template,5,3,"div",5),core["\u0275\u0275text"](16,"\n    "),core["\u0275\u0275template"](17,DsDynamicRelationGroupComponent_ds_chips_17_Template,1,3,"ds-chips",6),core["\u0275\u0275text"](18,"\n  "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](19,"\n"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](20,"\n")),2&rf&&(core["\u0275\u0275property"]("ngIf",!core["\u0275\u0275pipeBind1"](1,7,ctx.formCollapsed)),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("ngIf",core["\u0275\u0275pipeBind1"](4,9,ctx.formCollapsed)),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("ngClass",core["\u0275\u0275pureFunction2"](13,_c1,!ctx.showErrorMessages,ctx.showErrorMessages)),core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("ngIf",!core["\u0275\u0275pipeBind1"](9,11,ctx.formCollapsed)),core["\u0275\u0275advance"](5),core["\u0275\u0275property"]("ngIf",!ctx.chips),core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("ngIf",ctx.chips&&!ctx.chips.hasItems()),core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("ngIf",ctx.chips&&ctx.chips.hasItems()))},directives:[common.NgIf,common.NgClass,ng_bootstrap.O,form_component.a,loading_component.a,chips_component.a],pipes:[common.AsyncPipe,ngx_translate_core.d],styles:[".close[_ngcontent-%COMP%]{top:-2.5rem}"],data:{animation:[shrinkInOut]}})},NvTF:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return dsDynamicFormControlMapFn})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DsDynamicFormControlContainerComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e+Av"),_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("n7Wa"),_existing_metadata_list_element_existing_metadata_list_element_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("yXJd"),_models_onebox_dynamic_onebox_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("fEfZ"),_models_scrollable_dropdown_dynamic_scrollable_dropdown_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("4d3N"),_models_tag_dynamic_tag_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("RyS1"),_models_date_picker_date_picker_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("b6An"),_models_lookup_dynamic_lookup_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("8e57"),_models_list_dynamic_list_checkbox_group_model__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("upJS"),_models_list_dynamic_list_radio_group_model__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("pze9"),_empty_util__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("J3qs"),_models_lookup_dynamic_lookup_name_model__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("ZJee"),_models_tag_dynamic_tag_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("Gu/b"),_models_date_picker_date_picker_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("Ysrn"),_models_list_dynamic_list_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("ZO65"),_models_onebox_dynamic_onebox_component__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("A/iK"),_models_scrollable_dropdown_dynamic_scrollable_dropdown_component__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("bPV6"),_models_lookup_dynamic_lookup_component__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("0pnk"),_models_form_group_dynamic_form_group_component__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("tqJZ"),_models_array_group_dynamic_form_array_component__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("ZTun"),_models_relation_group_dynamic_relation_group_components__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("KKO+"),_models_date_picker_inline_dynamic_date_picker_inline_component__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("uyTL"),_models_custom_switch_custom_switch_model__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("JN36"),_models_custom_switch_custom_switch_component__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("xjoE"),rxjs_operators__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("cBqT"),rxjs_operators__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("eIep"),rxjs_operators__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("IzEk"),rxjs_operators__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("JX91"),rxjs__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("itXk"),_core_data_relationship_service__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("kN8A"),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("EGek"),_models_disabled_dynamic_disabled_component__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("sw+l"),_models_disabled_dynamic_disabled_model__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("wdRg"),_relation_lookup_modal_dynamic_lookup_relation_modal_component__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("1Pbu"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("1QIV"),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("iqTE"),_core_submission_submission_object_data_service__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("fHtB"),_object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("4SI6"),_core_shared_metadata_models__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("cBt8"),_form_service__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("NFsL"),_submission_submission_service__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__("J/vq"),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__("84Zn"),_item_page_simple_item_types_shared_item_relationships_utils__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__("ysan"),_models_relationship_options_model__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__("kcku"),_form_builder_service__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__("Q5/L"),_ds_dynamic_form_constants__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__("586V"),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__("x+ZM"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__("sYmb"),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__("1kSV"),_ngrx_store__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__("l7P3"),_angular_forms__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__("3Pt+"),_angular_common__WEBPACK_IMPORTED_MODULE_53__=__webpack_require__("ofXK"),_existing_relation_list_element_existing_relation_list_element_component__WEBPACK_IMPORTED_MODULE_54__=__webpack_require__("/Vzl");const _c0=["componentViewContainer"],_c1=function(a0,a1){return[a0,a1]};function DsDynamicFormControlContainerComponent_label_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0,"label",11),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2,"translate")),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("id","label_"+ctx_r0.model.id)("for",ctx_r0.id)("innerHTML",ctx_r0.model.required&&ctx_r0.model.label?_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,4,ctx_r0.model.label)+" *":_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2,6,ctx_r0.model.label),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275sanitizeHtml"])("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction2"](8,_c1,ctx_r0.getClass("element","label"),ctx_r0.getClass("grid","label")))}}function DsDynamicFormControlContainerComponent_ng_container_4_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainer"](0)}function DsDynamicFormControlContainerComponent_small_17_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0,"small",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"translate")),2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("innerHTML",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,2,ctx_r3.model.hint),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275sanitizeHtml"])("ngClass",ctx_r3.getClass("element","hint"))}}function DsDynamicFormControlContainerComponent_div_20_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0,"div",13)}function DsDynamicFormControlContainerComponent_div_22_small_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"small",16),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const message_r11=ctx.$implicit,ctx_r10=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind2"](2,1,message_r11,ctx_r10.model.validators))}}function DsDynamicFormControlContainerComponent_div_22_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2,DsDynamicFormControlContainerComponent_div_22_small_2_Template,3,4,"small",15),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("id",ctx_r5.id+"_errors")("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction2"](3,_c1,ctx_r5.getClass("element","errors"),ctx_r5.getClass("grid","errors"))),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",ctx_r5.errorMessages)}}function DsDynamicFormControlContainerComponent_div_25_option_5_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"option",21),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const lang_r14=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("value",lang_r14.code),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](lang_r14.display)}}const _c2=function(){return{standalone:!0}};function DsDynamicFormControlContainerComponent_div_25_Template(rf,ctx){if(1&rf){const _r16=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"select",18,19),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("ngModelChange",(function DsDynamicFormControlContainerComponent_div_25_Template_select_ngModelChange_2_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r16);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().model.language=$event}))("blur",(function DsDynamicFormControlContainerComponent_div_25_Template_select_blur_2_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r16);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onBlur($event)}))("change",(function DsDynamicFormControlContainerComponent_div_25_Template_select_change_2_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r16);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onChangeLanguage($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](5,DsDynamicFormControlContainerComponent_div_25_option_5_Template,2,2,"option",20),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("disabled",ctx_r6.model.readOnly)("ngModel",ctx_r6.model.language)("ngModelOptions",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction0"](4,_c2)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",ctx_r6.model.languageCodes)}}function DsDynamicFormControlContainerComponent_div_27_Template(rf,ctx){if(1&rf){const _r20=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",22),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"button",23),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicFormControlContainerComponent_div_27_Template_button_click_2_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r20);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().openLookup(),$event.stopPropagation()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](4,"i",24),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275propertyInterpolate"]("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](3,1,"form.lookup-help")))}function DsDynamicFormControlContainerComponent_ng_container_30_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainer"](0)}function DsDynamicFormControlContainerComponent_ng_container_32_ds_existing_metadata_list_element_2_Template(rf,ctx){if(1&rf){const _r25=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"ds-existing-metadata-list-element",27),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("remove",(function DsDynamicFormControlContainerComponent_ng_container_32_ds_existing_metadata_list_element_2_Template_ds_existing_metadata_list_element_remove_0_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r25);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2).onRemove()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r21=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("reoRel",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,6,ctx_r21.relationshipValue$))("submissionItem",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2,8,ctx_r21.item$))("listId",ctx_r21.listId)("metadataFields",ctx_r21.model.metadataFields)("submissionId",ctx_r21.model.submissionId)("relationshipOptions",ctx_r21.model.relationship)}}const _c3=function(a0){return{"d-block pb-2 pt-2":a0}};function DsDynamicFormControlContainerComponent_ng_container_32_ds_existing_relation_list_element_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"ds-existing-relation-list-element",28),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction1"](11,_c3,!(null!=ctx_r22.context&&ctx_r22.context.index)))("reoRel",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,7,ctx_r22.relationshipValue$))("submissionItem",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2,9,ctx_r22.item$))("listId",ctx_r22.listId)("metadataFields",ctx_r22.model.metadataFields)("submissionId",ctx_r22.model.submissionId)("relationshipOptions",ctx_r22.model.relationship)}}function DsDynamicFormControlContainerComponent_ng_container_32_small_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0,"small",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"translate")),2&rf){const ctx_r23=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("innerHTML",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,2,ctx_r23.model.hint),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275sanitizeHtml"])("ngClass",ctx_r23.getClass("element","hint"))}}function DsDynamicFormControlContainerComponent_ng_container_32_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerStart"](0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2,DsDynamicFormControlContainerComponent_ng_container_32_ds_existing_metadata_list_element_2_Template,4,10,"ds-existing-metadata-list-element",25),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](4,DsDynamicFormControlContainerComponent_ng_container_32_ds_existing_relation_list_element_4_Template,4,13,"ds-existing-relation-list-element",26),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](6,DsDynamicFormControlContainerComponent_ng_container_32_small_6_Template,2,4,"small",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](8,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerEnd"]()),2&rf){const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx_r9.model.hasSelectableMetadata),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!ctx_r9.model.hasSelectableMetadata),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx_r9.hasHint&&(!1===ctx_r9.model.repeatable||(null==ctx_r9.context?null:ctx_r9.context.index)===(null==ctx_r9.context||null==ctx_r9.context.context||null==ctx_r9.context.context.groups?null:ctx_r9.context.context.groups.length)-1)&&(!ctx_r9.showErrorMessages||0===ctx_r9.errorMessages.length))}}const _c4=function(a0,a1){return{"form-row":a0,"d-none":a1}};function dsDynamicFormControlMapFn(model){switch(model.type){case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.d:return _models_array_group_dynamic_form_array_component__WEBPACK_IMPORTED_MODULE_20__.a;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.e:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.c;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.f:return model instanceof _models_list_dynamic_list_checkbox_group_model__WEBPACK_IMPORTED_MODULE_9__.a?_models_list_dynamic_list_component__WEBPACK_IMPORTED_MODULE_15__.a:_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.d;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.g:return model.inline?_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.b:_models_date_picker_inline_dynamic_date_picker_inline_component__WEBPACK_IMPORTED_MODULE_22__.a;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.h:return _models_form_group_dynamic_form_group_component__WEBPACK_IMPORTED_MODULE_19__.a;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.i:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.e;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.j:return model instanceof _models_list_dynamic_list_radio_group_model__WEBPACK_IMPORTED_MODULE_10__.a?_models_list_dynamic_list_component__WEBPACK_IMPORTED_MODULE_15__.a:_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.f;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.l:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.g;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.n:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.h;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.o:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.i;case _models_onebox_dynamic_onebox_model__WEBPACK_IMPORTED_MODULE_4__.a:return _models_onebox_dynamic_onebox_component__WEBPACK_IMPORTED_MODULE_16__.a;case _models_scrollable_dropdown_dynamic_scrollable_dropdown_model__WEBPACK_IMPORTED_MODULE_5__.a:return _models_scrollable_dropdown_dynamic_scrollable_dropdown_component__WEBPACK_IMPORTED_MODULE_17__.a;case _models_tag_dynamic_tag_model__WEBPACK_IMPORTED_MODULE_6__.a:return _models_tag_dynamic_tag_component__WEBPACK_IMPORTED_MODULE_13__.a;case _ds_dynamic_form_constants__WEBPACK_IMPORTED_MODULE_47__.a:return _models_relation_group_dynamic_relation_group_components__WEBPACK_IMPORTED_MODULE_21__.a;case _models_date_picker_date_picker_model__WEBPACK_IMPORTED_MODULE_7__.a:return _models_date_picker_date_picker_component__WEBPACK_IMPORTED_MODULE_14__.b;case _models_lookup_dynamic_lookup_model__WEBPACK_IMPORTED_MODULE_8__.a:case _models_lookup_dynamic_lookup_name_model__WEBPACK_IMPORTED_MODULE_12__.a:return _models_lookup_dynamic_lookup_component__WEBPACK_IMPORTED_MODULE_18__.a;case _models_disabled_dynamic_disabled_model__WEBPACK_IMPORTED_MODULE_34__.a:return _models_disabled_dynamic_disabled_component__WEBPACK_IMPORTED_MODULE_33__.a;case _models_custom_switch_custom_switch_model__WEBPACK_IMPORTED_MODULE_23__.a:return _models_custom_switch_custom_switch_component__WEBPACK_IMPORTED_MODULE_24__.a;default:return null}}class DsDynamicFormControlContainerComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.A{constructor(componentFactoryResolver,dynamicFormComponentService,layoutService,validationService,translateService,relationService,modalService,relationshipService,selectableListService,itemService,zone,store,submissionObjectService,ref,formService,formBuilderService,submissionService){super(ref,componentFactoryResolver,layoutService,validationService,dynamicFormComponentService,relationService),this.componentFactoryResolver=componentFactoryResolver,this.dynamicFormComponentService=dynamicFormComponentService,this.layoutService=layoutService,this.validationService=validationService,this.translateService=translateService,this.relationService=relationService,this.modalService=modalService,this.relationshipService=relationshipService,this.selectableListService=selectableListService,this.itemService=itemService,this.zone=zone,this.store=store,this.submissionObjectService=submissionObjectService,this.ref=ref,this.formService=formService,this.formBuilderService=formBuilderService,this.submissionService=submissionService,this.asBootstrapFormGroup=!1,this.bindId=!0,this.context=null,this.hasErrorMessaging=!1,this.layout=null,this.subs=[],this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter}get componentType(){return dsDynamicFormControlMapFn(this.model)}ngOnInit(){this.isRelationship=Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.b)(this.model.relationship);const isWrapperAroundRelationshipList=Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.b)(this.model.relationshipConfig);if(this.isRelationship||isWrapperAroundRelationshipList){const config=this.model.relationshipConfig||this.model.relationship,relationshipOptions=Object.assign(new _models_relationship_options_model__WEBPACK_IMPORTED_MODULE_45__.a,config);if(this.listId=`list-${this.model.submissionId}-${relationshipOptions.relationshipType}`,this.setItem(),isWrapperAroundRelationshipList||!this.model.repeatable){const subscription=this.selectableListService.getSelectableList(this.listId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.a)((list=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.a)(list))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_26__.a)((()=>this.item$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(1)))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_26__.a)((item=>{const relationshipsRD$=this.relationshipService.getItemRelationshipsByLabel(item,relationshipOptions.relationshipType,void 0,!0,!0,Object(_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_43__.a)("leftItem"),Object(_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_43__.a)("rightItem"),Object(_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_43__.a)("relationshipType"));return relationshipsRD$.pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_36__.j)(),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_36__.n)()).subscribe((relationships=>{relationships.forEach((relationship=>{const relationshipMD=item.firstMetadata(relationshipOptions.metadataField,{authority:`${_core_shared_metadata_models__WEBPACK_IMPORTED_MODULE_40__.e}${relationship.id}`}),nameVariantMD=item.firstMetadata(this.model.metadataFields,{authority:`${_core_shared_metadata_models__WEBPACK_IMPORTED_MODULE_40__.e}${relationship.id}`});Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.b)(relationshipMD)&&Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.e)(relationshipMD.value)&&Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.b)(nameVariantMD)&&Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.e)(nameVariantMD.value)&&this.relationshipService.setNameVariant(this.listId,relationshipMD.value,nameVariantMD.value)}))})),relationshipsRD$.pipe(Object(_item_page_simple_item_types_shared_item_relationships_utils__WEBPACK_IMPORTED_MODULE_44__.d)(item.uuid),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_36__.i)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_28__.a)((items=>items.payload.page.map((i=>Object.assign(new _object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_39__.a,{indexableObject:i}))))))}))).subscribe((relatedItems=>this.selectableListService.select(this.listId,relatedItems)));this.subs.push(subscription)}if(Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.b)(this.model.metadataValue)?this.value=Object.assign(new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_48__.a,this.model.metadataValue):this.value=Object.assign(new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_48__.a,this.model.value),Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.b)(this.value)&&this.value.isVirtual){const relationship$=this.relationshipService.findById(this.value.virtualValue,!0,!0,Object(_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_43__.a)("leftItem"),Object(_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_43__.a)("rightItem"),Object(_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_43__.a)("relationshipType")).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_36__.c)(),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_36__.o)());this.relationshipValue$=Object(rxjs__WEBPACK_IMPORTED_MODULE_30__.a)([this.item$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.a)(1)),relationship$]).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_26__.a)((([item,relationship])=>relationship.leftItem.pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_36__.c)(),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_36__.o)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_28__.a)((leftItem=>new _existing_metadata_list_element_existing_metadata_list_element_component__WEBPACK_IMPORTED_MODULE_3__.b(relationship,leftItem.uuid!==item.uuid,this.relationshipService,this.store,this.model.submissionId)))))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_29__.a)(void 0))}}}get isCheckbox(){return this.model.type===_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.e||this.model.type===_models_custom_switch_custom_switch_model__WEBPACK_IMPORTED_MODULE_23__.a}ngOnChanges(changes){changes&&!this.isRelationship&&Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.b)(this.group.get(this.model.id))&&(super.ngOnChanges(changes),this.model&&this.model.placeholder&&(this.model.placeholder=this.translateService.instant(this.model.placeholder)))}ngDoCheck(){Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.h)(this.showErrorMessagesPreviousStage)&&this.showErrorMessagesPreviousStage!==this.showErrorMessages&&(this.showErrorMessagesPreviousStage=this.showErrorMessages,this.forceShowErrorDetection())}ngAfterViewInit(){this.showErrorMessagesPreviousStage=this.showErrorMessages}forceShowErrorDetection(){this.showErrorMessages&&(this.destroyFormControlComponent(),this.createFormControlComponent())}onChangeLanguage(event){Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.e)(this.model.value)&&this.onChange(event)}hasRelationship(){return Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.e)(this.model)&&this.model.hasOwnProperty("relationship")&&Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.e)(this.model.relationship)}isVirtual(){const value=this.model.metadataValue;return Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.e)(value)&&value.isVirtual}hasResultsSelected(){return this.model.value.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_28__.a)((list=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.e)(list))))}openLookup(){this.modalRef=this.modalService.open(_relation_lookup_modal_dynamic_lookup_relation_modal_component__WEBPACK_IMPORTED_MODULE_35__.a,{size:"lg"}),Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.b)(this.model.value)&&(this.focus.emit({$event:new Event("focus"),context:this.context,control:this.control,model:this.model,type:_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.B.Focus}),this.change.emit({$event:new Event("change"),context:this.context,control:this.control,model:this.model,type:_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.B.Change})),this.submissionService.dispatchSave(this.model.submissionId);const modalComp=this.modalRef.componentInstance;Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.b)(this.model.value)&&!this.model.readOnly&&("string"==typeof this.model.value?modalComp.query=this.model.value:"string"==typeof this.model.value.value&&(modalComp.query=this.model.value.value)),modalComp.repeatable=this.model.repeatable,modalComp.listId=this.listId,modalComp.relationshipOptions=this.model.relationship,modalComp.label=this.model.relationship.relationshipType,modalComp.metadataFields=this.model.metadataFields,modalComp.item=this.item,modalComp.collection=this.collection,modalComp.submissionId=this.model.submissionId}onRemove(){const arrayContext=this.context.context,path=this.formBuilderService.getPath(arrayContext),formArrayControl=this.group.root.get(path);this.formBuilderService.removeFormArrayGroup(this.context.index,formArrayControl,arrayContext),0===this.model.parent.context.groups.length&&this.formBuilderService.addFormArrayGroup(formArrayControl,arrayContext)}ngOnDestroy(){this.subs.filter((sub=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.b)(sub))).forEach((sub=>sub.unsubscribe()))}get hasHint(){return Object(_empty_util__WEBPACK_IMPORTED_MODULE_11__.e)(this.model.hint)&&"&nbsp;"!==this.model.hint}setItem(){const submissionObject$=this.submissionObjectService.findById(this.model.submissionId,!0,!0,Object(_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_43__.a)("item"),Object(_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_43__.a)("collection")).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_36__.c)(),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_36__.o)());this.item$=submissionObject$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_26__.a)((submissionObject=>submissionObject.item.pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_36__.c)(),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_36__.o)()))));const collection$=submissionObject$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_26__.a)((submissionObject=>submissionObject.collection.pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_36__.c)(),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_36__.o)()))));this.subs.push(this.item$.subscribe((item=>this.item=item))),this.subs.push(collection$.subscribe((collection=>this.collection=collection)))}}DsDynamicFormControlContainerComponent.\u0275fac=function DsDynamicFormControlContainerComponent_Factory(t){return new(t||DsDynamicFormControlContainerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.y),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.E),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.H),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_49__.e),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.F),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.q),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_data_relationship_service__WEBPACK_IMPORTED_MODULE_31__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_32__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_37__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ngrx_store__WEBPACK_IMPORTED_MODULE_51__.i),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_submission_submission_object_data_service__WEBPACK_IMPORTED_MODULE_38__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_form_service__WEBPACK_IMPORTED_MODULE_41__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_form_builder_service__WEBPACK_IMPORTED_MODULE_46__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_submission_submission_service__WEBPACK_IMPORTED_MODULE_42__.a))},DsDynamicFormControlContainerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:DsDynamicFormControlContainerComponent,selectors:[["ds-dynamic-form-control-container"]],contentQueries:function DsDynamicFormControlContainerComponent_ContentQueries(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275contentQuery"](dirIndex,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.O,0),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]())&&(ctx.contentTemplateList=_t)}},viewQuery:function DsDynamicFormControlContainerComponent_Query(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275viewQuery"](_c0,3,_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]())&&(ctx.componentViewContainerRef=_t.first)}},inputs:{inputTemplateList:["templates","inputTemplateList"],formId:"formId",asBootstrapFormGroup:"asBootstrapFormGroup",bindId:"bindId",context:"context",group:"group",hostClass:"hostClass",hasErrorMessaging:"hasErrorMessaging",layout:"layout",model:"model"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"],_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:["*"],decls:37,vars:23,consts:[[3,"formGroup","ngClass"],[3,"id","for","innerHTML","ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["componentViewContainer",""],["class","text-muted ds-hint",3,"innerHTML","ngClass",4,"ngIf"],["class","clearfix w-100 mb-2",4,"ngIf"],[3,"id","ngClass",4,"ngIf"],["class","col-xs-2",4,"ngIf"],["class","col-auto text-center",4,"ngIf"],[4,"ngIf"],[3,"id","for","innerHTML","ngClass"],[1,"text-muted","ds-hint",3,"innerHTML","ngClass"],[1,"clearfix","w-100","mb-2"],[3,"id","ngClass"],["class","invalid-feedback d-block",4,"ngFor","ngForOf"],[1,"invalid-feedback","d-block"],[1,"col-xs-2"],["required","",1,"form-control",3,"disabled","ngModel","ngModelOptions","ngModelChange","blur","change"],["language","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-auto","text-center"],["type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","click"],[1,"fa","fa-search"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions","remove",4,"ngIf"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions",4,"ngIf"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions","remove"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"]],template:function DsDynamicFormControlContainerComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275projectionDef"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2,DsDynamicFormControlContainerComponent_label_2_Template,3,11,"label",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](4,DsDynamicFormControlContainerComponent_ng_container_4_Template,1,0,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](7,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](9,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](10,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](11,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](12,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainer"](13,null,4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](15,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](16,"\n\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](17,DsDynamicFormControlContainerComponent_small_17_Template,2,4,"small",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](18,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](19,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](20,DsDynamicFormControlContainerComponent_div_20_Template,1,0,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](21,"\n\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](22,DsDynamicFormControlContainerComponent_div_22_Template,4,6,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](23,"\n\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](24,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](25,DsDynamicFormControlContainerComponent_div_25_Template,8,5,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](26,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](27,DsDynamicFormControlContainerComponent_div_27_Template,7,3,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](28,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](29,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](30,DsDynamicFormControlContainerComponent_ng_container_30_Template,1,0,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](31,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](32,DsDynamicFormControlContainerComponent_ng_container_32_Template,10,3,"ng-container",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](33,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275projection"](34),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](35,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](36,"\n")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("form-group","GROUP"!==ctx.model.type&&ctx.asBootstrapFormGroup||ctx.getClass("element","container").includes("form-group")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("formGroup",ctx.group)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction2"](17,_c1,ctx.getClass("element","container"),ctx.getClass("grid","container"))),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!ctx.isCheckbox&&ctx.hasLabel),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngTemplateOutlet",null==ctx.startTemplate?null:ctx.startTemplate.templateRef)("ngTemplateOutletContext",ctx.model),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction2"](20,_c4,ctx.model.hasLanguages||ctx.isRelationship,(null==ctx.value?null:ctx.value.isVirtual)&&(ctx.model.hasSelectableMetadata||(null==ctx.context?null:ctx.context.index)>0))),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngClass",ctx.getClass("grid","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.hasHint&&(!ctx.model.repeatable&&(!1===ctx.isRelationship||null===(null==ctx.value?null:ctx.value.value))||!0===ctx.model.repeatable&&(null==ctx.context?null:ctx.context.index)===(null==ctx.context||null==ctx.context.context||null==ctx.context.context.groups?null:ctx.context.context.groups.length)-1)&&(!ctx.showErrorMessages||0===ctx.errorMessages.length)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",null!==(null==ctx.context?null:ctx.context.index)&&(!ctx.showErrorMessages||0===ctx.errorMessages.length)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.model.languageCodes&&ctx.model.languageCodes.length>0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.isRelationship),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngTemplateOutlet",null==ctx.endTemplate?null:ctx.endTemplate.templateRef)("ngTemplateOutletContext",ctx.model),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",null==ctx.value?null:ctx.value.isVirtual))},directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_52__.NgControlStatusGroup,_angular_forms__WEBPACK_IMPORTED_MODULE_52__.FormGroupDirective,_angular_common__WEBPACK_IMPORTED_MODULE_53__.NgClass,_angular_common__WEBPACK_IMPORTED_MODULE_53__.NgIf,_angular_common__WEBPACK_IMPORTED_MODULE_53__.NgTemplateOutlet,_angular_common__WEBPACK_IMPORTED_MODULE_53__.NgForOf,_angular_forms__WEBPACK_IMPORTED_MODULE_52__.SelectControlValueAccessor,_angular_forms__WEBPACK_IMPORTED_MODULE_52__.RequiredValidator,_angular_forms__WEBPACK_IMPORTED_MODULE_52__.NgControlStatus,_angular_forms__WEBPACK_IMPORTED_MODULE_52__.NgModel,_angular_forms__WEBPACK_IMPORTED_MODULE_52__.NgSelectOption,_angular_forms__WEBPACK_IMPORTED_MODULE_52__["\u0275angular_packages_forms_forms_z"],_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__.O,_existing_metadata_list_element_existing_metadata_list_element_component__WEBPACK_IMPORTED_MODULE_3__.a,_existing_relation_list_element_existing_relation_list_element_component__WEBPACK_IMPORTED_MODULE_54__.a],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_49__.d,_angular_common__WEBPACK_IMPORTED_MODULE_53__.AsyncPipe],styles:["[_nghost-%COMP%]     .ds-form-input-addon{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}[_nghost-%COMP%]     .ds-form-input-btn{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}[_nghost-%COMP%]     .ds-form-input-btn:focus, [_nghost-%COMP%]     button.ds-form-add-more:focus{-webkit-box-shadow:none!important;box-shadow:none!important}[_nghost-%COMP%]     button.ds-form-add-more:focus{outline:none}[_nghost-%COMP%]     .ds-form-input-value{border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     .fa-spin{pointer-events:none}[_nghost-%COMP%]     .left-addon .far, [_nghost-%COMP%]     .left-addon .fas, [_nghost-%COMP%]     .left-addon i{left:0}[_nghost-%COMP%]     .right-addon .far, [_nghost-%COMP%]     .right-addon .fas, [_nghost-%COMP%]     .right-addon i{right:0}[_nghost-%COMP%]     .left-addon input{padding-left:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .right-addon input{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}[_nghost-%COMP%]     .custom-select{-webkit-appearance:none;-moz-appearance:none;appearance:none}"]})},Ssu8:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DsDynamicVocabularyComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e+Av"),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("lJxs"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("LRne"),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("PdzJ"),_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("J3qs"),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("x+ZM"),_core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("rbjh"),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__("JGHn"),__webpack_require__("oBfO"));class DsDynamicVocabularyComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.z{constructor(vocabularyService,layoutService,validationService){super(layoutService,validationService),this.vocabularyService=vocabularyService,this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter}getInitValueFromModel(){let initValue$;if(Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.e)(this.model.value)&&this.model.value instanceof _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_6__.a){let initEntry$;initEntry$=this.model.value.hasAuthority()?this.vocabularyService.getVocabularyEntryByID(this.model.value.authority,this.model.vocabularyOptions):this.vocabularyService.getVocabularyEntryByValue(this.model.value.value,this.model.vocabularyOptions),initValue$=initEntry$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)((initEntry=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.e)(initEntry)?new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_6__.a(initEntry.value,null,initEntry.authority,initEntry.display,this.model.value.place,null,initEntry.otherInformation||null):this.model.value)))}else initValue$=Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.e)(this.model.value)&&this.model.value instanceof _core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_7__.a?Object(rxjs__WEBPACK_IMPORTED_MODULE_3__.a)(new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_6__.a(this.model.value.value,null,this.model.value.authority,this.model.value.display,0,null,this.model.value.otherInformation||null)):Object(rxjs__WEBPACK_IMPORTED_MODULE_3__.a)(new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_6__.a(this.model.value));return initValue$}onBlur(event){this.blur.emit(event)}onFocus(event){this.focus.emit(event)}dispatchUpdate(updateValue){this.model.value=updateValue,this.change.emit(updateValue)}updatePageInfo(elementsPerPage,currentPage,totalElements,totalPages){this.pageInfo=Object.assign(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_9__.a,{elementsPerPage:elementsPerPage,currentPage:currentPage,totalElements:totalElements,totalPages:totalPages})}}DsDynamicVocabularyComponent.\u0275fac=function DsDynamicVocabularyComponent_Factory(t){return new(t||DsDynamicVocabularyComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_4__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.E),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.H))},DsDynamicVocabularyComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:DsDynamicVocabularyComponent,selectors:[["ds-dynamic-vocabulary"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"]],decls:0,vars:0,template:function DsDynamicVocabularyComponent_Template(rf,ctx){},encapsulation:2})},Ui2r:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DsDynamicLookupRelationSearchTabComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("dtp9"),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("joI/"),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("PN+Z"),__webpack_require__("kcku"),__webpack_require__("7DXY")),_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("gWc+"),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("EGek"),_empty_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("J3qs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("IzEk"),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("vkgz"),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("eIep"),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("CqXF"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("1QIV"),_object_collection_collection_element_link_type__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("84tU"),_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_17__=(__webpack_require__("ynxc"),__webpack_require__("OAtg")),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("MFUF"),_core_data_relationship_service__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("kN8A"),rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_21__=(__webpack_require__("e3cm"),__webpack_require__("7RJT")),_angular_common__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("ofXK"),_search_search_component__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("9H8w"),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("1kSV"),_utils_var_directive__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("O/5o"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("sYmb");function DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_input_9_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("change",(function DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_input_9_Template_input_change_0_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r8);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3).selectAll()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("indeterminate",!1)}function DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_input_12_Template(rf,ctx){if(1&rf){const _r10=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("change",(function DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_input_12_Template_input_change_0_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r10);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3).deselectAll()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("indeterminate",!0)}function DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_input_15_Template(rf,ctx){if(1&rf){const _r12=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"input",15),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("change",(function DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_input_15_Template_input_change_0_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r12);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3).deselectAll()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("checked",!0)}function DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_button_21_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"button",16),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n                            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](2,"span",17),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](4,"span",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](6,1,"submission.sections.describe.relationship-lookup.search-tab.loading")))}function DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_div_30_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",18),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_div_30_Template_button_click_2_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r15);const resultsRD_r13=ctx.ngVar;return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3).selectPage(null==resultsRD_r13?null:resultsRD_r13.page)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](6,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_div_30_Template_button_click_6_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r15);const resultsRD_r13=ctx.ngVar;return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3).deselectPage(null==resultsRD_r13?null:resultsRD_r13.page)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](10,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_div_30_Template_button_click_10_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r15);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3).selectAll()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](11),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](12,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](13,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](14,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_div_30_Template_button_click_14_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r15);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3).deselectAll()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](15),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](16,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](17,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](4,4,"submission.sections.describe.relationship-lookup.search-tab.select-page")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](8,6,"submission.sections.describe.relationship-lookup.search-tab.deselect-page")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](12,8,"submission.sections.describe.relationship-lookup.search-tab.select-all")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](16,10,"submission.sections.describe.relationship-lookup.search-tab.deselect-all")))}function DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](4,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](6,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](9,DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_input_9_Template,1,1,"input",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](11,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](12,DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_input_12_Template,1,1,"input",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](13,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](14,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](15,DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_input_15_Template,1,1,"input",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](16,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](17,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](18,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](19,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](20,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](21,DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_button_21_Template,8,3,"button",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](22,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](23,"button",11),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](24,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](25,"span",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](26),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](27,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](28,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](29,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](30,DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_div_30_Template,18,12,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](31,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](32,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](33,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](34,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!ctx_r1.allSelected&&!_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](10,7,ctx_r1.someSelected$)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!ctx_r1.allSelected&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](13,9,ctx_r1.someSelected$)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx_r1.allSelected),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx_r1.selectAllLoading),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("hidden",ctx_r1.selectAllLoading),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](27,11,"submission.sections.describe.relationship-lookup.toggle-dropdown")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](31,13,ctx_r1.resultsRD$))}}const _c0=function(a0,a1){return{repeatable:a0,listId:a1}};function DsDynamicLookupRelationSearchTabComponent_ds_search_0_Template(rf,ctx){if(1&rf){const _r20=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"ds-search",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("resultFound",(function DsDynamicLookupRelationSearchTabComponent_ds_search_0_Template_ds_search_resultFound_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r20);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onResultFound($event)}))("deselectObject",(function DsDynamicLookupRelationSearchTabComponent_ds_search_0_Template_ds_search_deselectObject_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r20);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().deselectObject.emit($event)}))("selectObject",(function DsDynamicLookupRelationSearchTabComponent_ds_search_0_Template_ds_search_selectObject_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r20);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().selectObject.emit($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2,DsDynamicLookupRelationSearchTabComponent_ds_search_0_div_2_Template,35,15,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("configuration",ctx_r0.relationship.searchConfiguration)("context",ctx_r0.context)("fixedFilterQuery",ctx_r0.relationship.filter)("inPlaceSearch",!0)("linkType",ctx_r0.linkTypes.ExternalLink)("searchFormPlaceholder","submission.sections.describe.relationship-lookup.search-tab.search-form.placeholder")("selectable",!0)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction2"](10,_c0,ctx_r0.repeatable,ctx_r0.listId))("showViewModes",!1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx_r0.repeatable)}}class DsDynamicLookupRelationSearchTabComponent{constructor(searchService,selectableListService,searchConfigService,lookupRelationService,relationshipService,paginationService){this.searchService=searchService,this.selectableListService=selectableListService,this.searchConfigService=searchConfigService,this.lookupRelationService=lookupRelationService,this.relationshipService=relationshipService,this.paginationService=paginationService,this.deselectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.selectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.resultsRD$=new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_21__.BehaviorSubject(null),this.initialPagination={page:1,pageSize:5},this.linkTypes=_object_collection_collection_element_link_type__WEBPACK_IMPORTED_MODULE_15__.a,this.resultFound=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter}ngOnInit(){this.resetRoute()}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,this.initialPagination)}selectPage(page){this.selection$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(1)).subscribe((selection=>{const filteredPage=page.filter((pageItem=>selection.findIndex((selected=>selected.equals(pageItem)))<0));this.selectObject.emit(...filteredPage)})),this.selectableListService.select(this.listId,page)}deselectPage(page){this.allSelected=!1,this.selection$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(1)).subscribe((selection=>{const filteredPage=page.filter((pageItem=>selection.findIndex((selected=>selected.equals(pageItem)))>=0));this.deselectObject.emit(...filteredPage)})),this.selectableListService.deselect(this.listId,page)}selectAll(){this.allSelected=!0,this.selectAllLoading=!0;const fullPagination=Object.assign(new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_5__.a,{currentPage:1,pageSize:9999}),fullSearchConfig=Object.assign(this.lookupRelationService.searchConfig,{pagination:fullPagination});this.searchService.search(fullSearchConfig).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_14__.i)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)((resultsRD=>resultsRD.payload.page)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.a)((()=>this.selectAllLoading=!1)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.a)((results=>this.selection$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(1),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.a)((selection=>{const filteredResults=results.filter((pageItem=>selection.findIndex((selected=>selected.equals(pageItem)))<0));this.selectObject.emit(...filteredResults)})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.a)(results))))).subscribe((results=>{this.selectableListService.select(this.listId,results)}))}setSelectedIds(idOfItems,resultListOfItems){let relationType=this.relationshipType.rightwardType;this.isLeft&&(relationType=this.relationshipType.leftwardType),this.relationshipService.searchByItemsAndType(this.relationshipType.id,this.item.uuid,relationType,idOfItems).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_14__.i)(),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_14__.o)()).subscribe((res=>{let selectableObject=res.page.map((relationship=>{let arrUrl=[];arrUrl=this.isLeft?relationship._links.rightItem.href.split("/"):relationship._links.leftItem.href.split("/");const uuid=arrUrl[arrUrl.length-1];return this.getRelatedItem(uuid,resultListOfItems)}));selectableObject=selectableObject.filter((selObject=>!this.getIfInRemove(selObject.indexableObject.uuid))),selectableObject.length>0&&this.selectableListService.select(this.listId,selectableObject)}))}deselectAll(){this.allSelected=!1,this.selection$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(1)).subscribe((selection=>this.deselectObject.emit(...selection))),this.selectableListService.deselectAll(this.listId)}getRelatedItem(uuid,resultList){return resultList.find((resultItem=>resultItem.indexableObject.uuid===uuid))}getIfInRemove(uuid){return!!this.toRemove.find((searchResult=>searchResult.indexableObject.uuid===uuid))}ngOnDestroy(){Object(_empty_util__WEBPACK_IMPORTED_MODULE_8__.b)(this.subscription)&&this.subscription.unsubscribe()}onResultFound($event){if(this.resultsRD$.next($event),this.resultFound.emit($event),this.isEditRelationship){const idOfItems=$event.page.map((itemSearchResult=>itemSearchResult.indexableObject.uuid));this.setSelectedIds(idOfItems,$event.page)}}}DsDynamicLookupRelationSearchTabComponent.\u0275fac=function DsDynamicLookupRelationSearchTabComponent_Factory(t){return new(t||DsDynamicLookupRelationSearchTabComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_6__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_7__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_2__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_17__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_data_relationship_service__WEBPACK_IMPORTED_MODULE_19__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_18__.a))},DsDynamicLookupRelationSearchTabComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:DsDynamicLookupRelationSearchTabComponent,selectors:[["ds-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275ProvidersFeature"]([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_1__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_2__.a}])],decls:2,vars:1,consts:[[3,"configuration","context","fixedFilterQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showViewModes","resultFound","deselectObject","selectObject",4,"ngIf"],[3,"configuration","context","fixedFilterQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showViewModes","resultFound","deselectObject","selectObject"],["additionalSearchOptions","","class","position-absolute",4,"ngIf"],["additionalSearchOptions","",1,"position-absolute"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","checkbox",3,"indeterminate","change",4,"ngIf"],["type","checkbox",3,"checked","change",4,"ngIf"],["ngbDropdown","",1,"input-group-append"],["type","button","class","btn btn-outline-secondary rounded-right",4,"ngIf"],["id","resultdropdown","type","button","ngbDropdownToggle","","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle-split",3,"hidden"],[1,"sr-only"],["ngbDropdownMenu","","aria-labelledby","resultdropdown",4,"ngVar"],["type","checkbox",3,"indeterminate","change"],["type","checkbox",3,"checked","change"],["type","button",1,"btn","btn-outline-secondary","rounded-right"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["ngbDropdownMenu","","aria-labelledby","resultdropdown"],[1,"dropdown-item",3,"click"]],template:function DsDynamicLookupRelationSearchTabComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](0,DsDynamicLookupRelationSearchTabComponent_ds_search_0_Template,4,13,"ds-search",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.relationship.searchConfiguration&&ctx.context)},directives:[_angular_common__WEBPACK_IMPORTED_MODULE_22__.NgIf,_search_search_component__WEBPACK_IMPORTED_MODULE_23__.a,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_24__.j,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_24__.o,_utils_var_directive__WEBPACK_IMPORTED_MODULE_25__.a,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_24__.m],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_22__.AsyncPipe,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_26__.d],styles:[".position-absolute[_ngcontent-%COMP%]{right:var(--bs-spacer)}"]})},ZO65:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DsDynamicListComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e+Av"),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("LvDl"),_empty_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("J3qs"),_form_builder_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("Q5/L"),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("PdzJ"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("1QIV"),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("oBfO"),_angular_forms__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("3Pt+"),_angular_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("ofXK");function DsDynamicListComponent_div_2_div_2_div_2_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"input",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("blur",(function DsDynamicListComponent_div_2_div_2_div_2_Template_input_blur_2_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r7);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3).onBlur($event)}))("change",(function DsDynamicListComponent_div_2_div_2_div_2_Template_input_change_2_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r7);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3).onChange($event)}))("focus",(function DsDynamicListComponent_div_2_div_2_div_2_Template_input_focus_2_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r7);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3).onFocus($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](4,"label",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](6,"span",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const item_r5=ctx.$implicit,ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("checked",item_r5.value)("id",item_r5.id)("formControlName",item_r5.id)("name",ctx_r4.model.name)("required",ctx_r4.model.required)("value",item_r5.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-labelledby","label_"+ctx_r4.model.id)("tabindex",item_r5.index),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("disabled",ctx_r4.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngClass",null==ctx_r4.model.layout.element?null:ctx_r4.model.layout.element.control)("for",item_r5.id),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngClass",null==ctx_r4.model.layout.element?null:ctx_r4.model.layout.element.label)("innerHTML",item_r5.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275sanitizeHtml"])}}function DsDynamicListComponent_div_2_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2,DsDynamicListComponent_div_2_div_2_div_2_Template,9,14,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](4,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const columnItems_r3=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",columnItems_r3)}}function DsDynamicListComponent_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2,DsDynamicListComponent_div_2_div_2_Template,6,1,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("id",ctx_r0.id)("formGroupName",ctx_r0.model.id)("ngClass",null==ctx_r0.model.layout.element?null:ctx_r0.model.layout.element.control),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("tabindex",ctx_r0.model.tabIndex),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",ctx_r0.items)}}function DsDynamicListComponent_div_4_div_2_div_2_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"label",14),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](4,"input",15),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("blur",(function DsDynamicListComponent_div_4_div_2_div_2_Template_input_blur_4_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r15);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3).onBlur($event)}))("focus",(function DsDynamicListComponent_div_4_div_2_div_2_Template_input_focus_4_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r15);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3).onFocus($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](6,"span",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const item_r13=ctx.$implicit,ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("disabled",ctx_r12.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngClass",null==ctx_r12.model.layout.element?null:ctx_r12.model.layout.element.control),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("checked",item_r13.value)("id",item_r13.id)("name",ctx_r12.model.id)("required",ctx_r12.model.required)("value",item_r13.index),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngClass",null==ctx_r12.model.layout.element?null:ctx_r12.model.layout.element.label)("innerHTML",item_r13.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275sanitizeHtml"])}}function DsDynamicListComponent_div_4_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2,DsDynamicListComponent_div_4_div_2_div_2_Template,9,10,"div",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](4,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const columnItems_r11=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",columnItems_r11)}}function DsDynamicListComponent_div_4_Template(rf,ctx){if(1&rf){const _r18=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("change",(function DsDynamicListComponent_div_4_Template_div_change_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r18);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onChange($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2,DsDynamicListComponent_div_4_div_2_Template,6,1,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("id",ctx_r1.id)("ngClass",null==ctx_r1.model.layout.element?null:ctx_r1.model.layout.element.control),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("tabindex",ctx_r1.model.tabIndex),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",ctx_r1.items)}}class DsDynamicListComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.z{constructor(vocabularyService,cdr,formBuilderService,layoutService,validationService){super(layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.formBuilderService=formBuilderService,this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.items=[]}ngOnInit(){this.model.vocabularyOptions&&Object(_empty_util__WEBPACK_IMPORTED_MODULE_3__.b)(this.model.vocabularyOptions.name)&&this.setOptionsFromVocabulary()}onBlur(event){this.blur.emit(event)}onFocus(event){this.focus.emit(event)}onChange(event){const target=event.target;if(this.model.repeatable){const entry=this.optionsList[target.tabIndex];if(target.checked)this.model.valueUpdates.next(entry);else{const newValue=[];this.model.value.filter((item=>item.value!==entry.value)).forEach((item=>newValue.push(item))),this.model.valueUpdates.next(newValue)}}else this.model.value=this.optionsList[target.value];this.change.emit(event)}setOptionsFromVocabulary(){if(this.model.vocabularyOptions.name&&this.model.vocabularyOptions.name.length>0){const listGroup=this.group.controls[this.model.id],pageInfo=new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_7__.a({elementsPerPage:9999,currentPage:1});this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,pageInfo).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.j)()).subscribe((entries=>{let groupCounter=0,itemsPerGroup=0,tempList=[];this.optionsList=entries.page,entries.page.forEach(((option,key)=>{const value=option.authority||option.value,checked=Object(_empty_util__WEBPACK_IMPORTED_MODULE_3__.e)(Object(lodash__WEBPACK_IMPORTED_MODULE_2__.findKey)(this.model.value,(v=>v.value===option.value))),item={id:value,label:option.display,value:checked,index:key};this.model.repeatable?this.formBuilderService.addFormGroupControl(listGroup,this.model,new _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.r(item)):this.model.options.push({label:item.label,value:option}),tempList.push(item),itemsPerGroup++,this.items[groupCounter]=tempList,itemsPerGroup===this.model.groupLength&&(groupCounter++,itemsPerGroup=0,tempList=[])})),this.cdr.markForCheck()}))}}}DsDynamicListComponent.\u0275fac=function DsDynamicListComponent_Factory(t){return new(t||DsDynamicListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_5__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_form_builder_service__WEBPACK_IMPORTED_MODULE_4__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.E),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.H))},DsDynamicListComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:DsDynamicListComponent,selectors:[["ds-dynamic-list"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"]],decls:7,vars:3,consts:[[3,"formGroup"],["class","form-row",3,"id","formGroupName","ngClass",4,"ngIf"],["class","form-row","ngbRadioGroup","",3,"id","ngClass","change",4,"ngIf"],[1,"form-row",3,"id","formGroupName","ngClass"],["class","col-sm ml-3",4,"ngFor","ngForOf"],[1,"col-sm","ml-3"],["class","custom-control custom-checkbox",4,"ngFor","ngForOf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"checked","id","formControlName","name","required","value","blur","change","focus"],[1,"custom-control-label",3,"ngClass","for"],[3,"ngClass","innerHTML"],["ngbRadioGroup","",1,"form-row",3,"id","ngClass","change"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],[1,"custom-control-label",3,"ngClass"],["type","radio",1,"custom-control-input",3,"checked","id","name","required","value","blur","focus"]],template:function DsDynamicListComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2,DsDynamicListComponent_div_2_Template,4,5,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](4,DsDynamicListComponent_div_4_Template,4,4,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.model.repeatable),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!ctx.model.repeatable))},directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_8__.NgControlStatusGroup,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.FormGroupDirective,_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.FormGroupName,_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgClass,_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgForOf,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.CheckboxControlValueAccessor,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.CheckboxRequiredValidator,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.NgControlStatus,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.FormControlName],styles:[""]})},ZTun:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DsDynamicFormArrayComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e+Av"),_empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("J3qs");__webpack_require__("fAfc");function DsDynamicFormArrayComponent_div_8_ng_container_8_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainer"](0)}const _c0=function(a0){return[a0]},_c1=function(a0,a1){return[a0,a1]};function DsDynamicFormArrayComponent_div_8_ds_dynamic_form_control_container_10_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"ds-dynamic-form-control-container",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("dfBlur",(function DsDynamicFormArrayComponent_div_8_ds_dynamic_form_control_container_10_Template_ds_dynamic_form_control_container_dfBlur_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r8);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2).onBlur($event)}))("dfChange",(function DsDynamicFormArrayComponent_div_8_ds_dynamic_form_control_container_10_Template_ds_dynamic_form_control_container_dfChange_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r8);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2).onChange($event)}))("dfFocus",(function DsDynamicFormArrayComponent_div_8_ds_dynamic_form_control_container_10_Template_ds_dynamic_form_control_container_dfFocus_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r8);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2).onFocus($event)}))("ngbEvent",(function DsDynamicFormArrayComponent_div_8_ds_dynamic_form_control_container_10_Template_ds_dynamic_form_control_container_ngbEvent_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r8);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2).onCustomEvent($event,null,!0)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const _model_r6=ctx.$implicit,ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](),groupModel_r1=ctx_r12.$implicit,idx_r2=ctx_r12.index,ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("bindId",!1)("formGroup",ctx_r4.group)("context",groupModel_r1)("group",ctx_r4.control.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction1"](9,_c0,idx_r2)))("hidden",_model_r6.hidden)("layout",ctx_r4.formLayout)("model",_model_r6)("templates",ctx_r4.templates)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction2"](11,_c1,ctx_r4.getClass("element","host",_model_r6),ctx_r4.getClass("grid","host",_model_r6)))}}function DsDynamicFormArrayComponent_div_8_ng_container_12_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainer"](0)}function DsDynamicFormArrayComponent_div_8_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](3,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](5,"i",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](8,DsDynamicFormArrayComponent_div_8_ng_container_8_Template,1,0,"ng-container",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](10,DsDynamicFormArrayComponent_div_8_ds_dynamic_form_control_container_10_Template,1,14,"ds-dynamic-form-control-container",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](11,"\n\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](12,DsDynamicFormArrayComponent_div_8_ng_container_12_Template,1,0,"ng-container",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](13,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const groupModel_r1=ctx.$implicit,idx_r2=ctx.index,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("formGroupName",idx_r2)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction2"](13,_c1,ctx_r0.getClass("element","group"),ctx_r0.getClass("grid","group")))("cdkDragDisabled",ctx_r0.dragDisabled)("cdkDragPreviewClass","ds-submission-reorder-dragging"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("drag-disable",ctx_r0.dragDisabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("drag-disable",ctx_r0.dragDisabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngTemplateOutlet",null==ctx_r0.startTemplate?null:ctx_r0.startTemplate.templateRef)("ngTemplateOutletContext",groupModel_r1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",groupModel_r1.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngTemplateOutlet",null==ctx_r0.endTemplate?null:ctx_r0.endTemplate.templateRef)("ngTemplateOutletContext",groupModel_r1)}}class DsDynamicFormArrayComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.u{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter}moveSelection(event){if(event.previousIndex===event.currentIndex)return;this.model.moveGroup(event.previousIndex,event.currentIndex-event.previousIndex);const prevIndex=event.previousIndex,index=event.currentIndex;Object(_empty_util__WEBPACK_IMPORTED_MODULE_2__.b)(this.model.groups[index])&&Object(_empty_util__WEBPACK_IMPORTED_MODULE_2__.b)(this.control.controls[index])&&this.onCustomEvent({previousIndex:prevIndex,index:index,arrayModel:this.model,model:this.model.groups[index].group[0],control:this.control.controls[index]},"move")}update(event,index){const $event=Object.assign({},event,{context:{index:index-1}});this.onChange($event)}get dragDisabled(){return 1===this.model.groups.length||!this.model.isDraggable}}DsDynamicFormArrayComponent.\u0275fac=function DsDynamicFormArrayComponent_Factory(t){return new(t||DsDynamicFormArrayComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.E),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.H))},DsDynamicFormArrayComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:DsDynamicFormArrayComponent,selectors:[["ds-dynamic-form-array"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"]],decls:13,vars:5,consts:[[3,"formGroup"],[3,"id","formArrayName","ngClass"],["cdkDropList","","cdkDropListLockAxis","y",3,"cdkDropListDropped"],["role","group","cdkDrag","","cdkDragHandle","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass",4,"ngFor","ngForOf"],["role","group","cdkDrag","","cdkDragHandle","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass"],["tabindex","0",1,"drag-handle"],[1,"drag-icon","fas","fa-grip-vertical","fa-fw"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"bindId","formGroup","context","group","hidden","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"bindId","formGroup","context","group","hidden","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent"]],template:function DsDynamicFormArrayComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerStart"](0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](5,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("cdkDropListDropped",(function DsDynamicFormArrayComponent_Template_div_cdkDropListDropped_5_listener($event){return ctx.moveSelection($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](8,DsDynamicFormArrayComponent_div_8_Template,14,16,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](10,"\n\n\n\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](11,"\n\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](12,"\n")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("id",ctx.id)("formArrayName",ctx.model.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",ctx.model.groups))},styles:["[_nghost-%COMP%]{display:block}.drag-disable[_ngcontent-%COMP%]{visibility:hidden!important}.drag-disable[_ngcontent-%COMP%]:focus, .drag-disable[_ngcontent-%COMP%]:hover{cursor:default}.drag-disable[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%], .drag-disable[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%]{visibility:hidden!important}.cdk-drag[_ngcontent-%COMP%]{margin-left:calc(-2.3 * var(--bs-spacer));margin-right:calc(-.5 * var(--bs-spacer));padding-right:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden;width:calc(2 * var(--bs-spacer));color:var(--bs-gray-600);margin:var(--bs-btn-padding-y) 0;line-height:var(--bs-btn-line-height);text-indent:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]:focus, .cdk-drag[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}.cdk-drag[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%], .cdk-drag[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%]{visibility:visible}.drag-handle[_ngcontent-%COMP%]:hover{cursor:move}.drag-handle[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:visible}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:-webkit-grabbing;cursor:grabbing}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden}.cdk-drag-preview[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]})},bPV6:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DsDynamicScrollableDropdownComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("LRne"),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("JIr8"),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("/uUt"),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("vkgz"),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("lJxs"),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("4d3N"),__webpack_require__("oBfO")),_empty_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("J3qs"),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("PdzJ"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("1QIV"),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("f+Ev"),_dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("Ssu8"),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("e+Av"),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("1kSV"),ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("dlKe"),_angular_common__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("ofXK"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("sYmb");function DsDynamicScrollableDropdownComponent_button_15_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"button",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2,1,"form.no-results")))}function DsDynamicScrollableDropdownComponent_button_17_Template(rf,ctx){if(1&rf){const _r6=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"button",11),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDynamicScrollableDropdownComponent_button_17_Template_button_click_0_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r6);const listEntry_r4=ctx.$implicit,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](1);return ctx_r5.onSelect(listEntry_r4),_r0.close()}))("mousedown",(function DsDynamicScrollableDropdownComponent_button_17_Template_button_mousedown_0_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r6);const listEntry_r4=ctx.$implicit,ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](1);return ctx_r7.onSelect(listEntry_r4),_r0.close()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const listEntry_r4=ctx.$implicit,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275propertyInterpolate"]("title",listEntry_r4.display),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("id",listEntry_r4.display==_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,3,ctx_r2.currentValue)?"combobox_"+ctx_r2.id+"_selected":null),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("\n        ",ctx_r2.inputFormatter(listEntry_r4),"\n      ")}}function DsDynamicScrollableDropdownComponent_div_19_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](3,1,"form.loading")))}class DsDynamicScrollableDropdownComponent extends _dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_12__.a{constructor(vocabularyService,cdr,layoutService,validationService){super(vocabularyService,layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.layoutService=layoutService,this.validationService=validationService,this.bindId=!0,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.loading=!1,this.inputFormatter=x=>x.display||x.value}ngOnInit(){this.updatePageInfo(this.model.maxOptions,1),this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,this.pageInfo).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.j)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)((()=>Object(rxjs__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_11__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_7__.a,[]))))).subscribe((list=>{this.optionsList=list.page,this.model.value&&this.setCurrentValue(this.model.value,!0),this.updatePageInfo(list.pageInfo.elementsPerPage,list.pageInfo.currentPage,list.pageInfo.totalElements,list.pageInfo.totalPages),this.cdr.detectChanges()})),this.group.get(this.model.id).valueChanges.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)()).subscribe((value=>{this.setCurrentValue(value)}))}openDropdown(sdRef){this.model.readOnly||(this.group.markAsUntouched(),sdRef.open())}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.loading=!0,this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,this.pageInfo).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.j)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)((()=>Object(rxjs__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_11__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_7__.a,[])))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)((()=>this.loading=!1))).subscribe((list=>{this.optionsList=this.optionsList.concat(list.page),this.updatePageInfo(list.pageInfo.elementsPerPage,list.pageInfo.currentPage,list.pageInfo.totalElements,list.pageInfo.totalPages),this.cdr.detectChanges()})))}onSelect(event){this.group.markAsDirty(),this.dispatchUpdate(event),this.setCurrentValue(event)}setCurrentValue(value,init=!1){let result;result=init?this.getInitValueFromModel().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((formValue=>formValue.display))):Object(_empty_util__WEBPACK_IMPORTED_MODULE_8__.d)(value)?Object(rxjs__WEBPACK_IMPORTED_MODULE_1__.a)(""):"string"==typeof value?Object(rxjs__WEBPACK_IMPORTED_MODULE_1__.a)(value):Object(rxjs__WEBPACK_IMPORTED_MODULE_1__.a)(value.display),this.currentValue=result}}DsDynamicScrollableDropdownComponent.\u0275fac=function DsDynamicScrollableDropdownComponent_Factory(t){return new(t||DsDynamicScrollableDropdownComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_9__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_13__.E),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_13__.H))},DsDynamicScrollableDropdownComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:DsDynamicScrollableDropdownComponent,selectors:[["ds-dynamic-scrollable-dropdown"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"]],decls:24,vars:26,consts:[["ngbDropdown","","display","dynamic","placement","bottom-right",1,"w-100"],["sdRef","ngbDropdown"],["role","combobox",1,"position-relative","right-addon"],["ngbDropdownToggle","","aria-hidden","true",1,"position-absolute","scrollable-dropdown-toggle"],[1,"form-control",3,"id","name","readonly","type","value","blur","click","focus","keypress"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["role","listbox","infiniteScroll","",1,"scrollable-menu",3,"id","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","dropdown-item disabled",4,"ngIf"],["class","dropdown-item collection-item text-truncate","role","option",3,"title","click","mousedown",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],[1,"dropdown-item","disabled"],["role","option",1,"dropdown-item","collection-item","text-truncate",3,"title","click","mousedown"],[1,"scrollable-dropdown-loading","text-center"]],template:function DsDynamicScrollableDropdownComponent_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",0,1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](3,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](5,"i",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](7,"input",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("blur",(function DsDynamicScrollableDropdownComponent_Template_input_blur_7_listener($event){return ctx.onBlur($event)}))("click",(function DsDynamicScrollableDropdownComponent_Template_input_click_7_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r8);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](1);return $event.stopPropagation(),ctx.openDropdown(_r0)}))("focus",(function DsDynamicScrollableDropdownComponent_Template_input_focus_7_listener($event){return ctx.onFocus($event)}))("keypress",(function DsDynamicScrollableDropdownComponent_Template_input_keypress_7_listener($event){return $event.preventDefault()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](10,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](11,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](12,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](13,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("scrolled",(function DsDynamicScrollableDropdownComponent_Template_div_scrolled_13_listener(){return ctx.onScroll()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](14,"\n\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](15,DsDynamicScrollableDropdownComponent_button_15_Template,3,3,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](16,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](17,DsDynamicScrollableDropdownComponent_button_17_Template,3,5,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](18,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](19,DsDynamicScrollableDropdownComponent_div_19_Template,4,3,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](20,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](21,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](22,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](23,"\n")}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-label",ctx.model.label)("aria-owns","combobox_"+ctx.id+"_listbox"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("is-invalid",ctx.showErrorMessages)("scrollable-dropdown-input",!ctx.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("id",ctx.id)("name",ctx.model.name)("readonly",!0)("type",ctx.model.inputType)("value",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](8,24,ctx.currentValue)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-controls","combobox_"+ctx.id+"_listbox")("aria-activedescendant","combobox_"+ctx.id+"_selected")("aria-label",ctx.model.placeholder)("autoComplete",ctx.model.autoComplete),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-label",ctx.model.placeholder),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("id","combobox_"+ctx.id+"_listbox")("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-label",ctx.model.placeholder),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.optionsList&&0==ctx.optionsList.length),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",ctx.optionsList),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.loading))},directives:[_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_14__.j,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_14__.o,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_14__.m,ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_15__.a,_angular_common__WEBPACK_IMPORTED_MODULE_16__.NgIf,_angular_common__WEBPACK_IMPORTED_MODULE_16__.NgForOf],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_16__.AsyncPipe,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__.d],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus, button.ds-form-add-more[_ngcontent-%COMP%]:focus{-webkit-box-shadow:none!important;box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.collection-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}.scrollable-dropdown-loading[_ngcontent-%COMP%]{background-color:var(--bs-primary);color:#fff;height:calc(var(--bs-spacer) * 2)!important;line-height:calc(var(--bs-spacer) * 2);position:-webkit-sticky;position:sticky;bottom:0}.scrollable-dropdown-menu[_ngcontent-%COMP%]{left:0!important;margin-bottom:var(--bs-spacer);z-index:1000}.scrollable-dropdown-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.scrollable-dropdown-input[readonly][_ngcontent-%COMP%]{background-color:#fff}"]})},hqmO:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FormComponent}));var rxjs_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("pLZG"),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("/uUt"),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("fXoL"),lodash__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("LvDl"),_builder_form_builder_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("Q5/L"),_empty_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("J3qs"),_form_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("NFsL");function FormComponent_ng_template_6_div_2_Template(rf,ctx){if(1&rf){const _r11=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](0,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](1,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](2,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275listener"]("click",(function FormComponent_ng_template_6_div_2_Template_button_click_2_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275restoreView"](_r11);const ctx_r10=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"](),context_r5=ctx_r10.context,index_r4=ctx_r10.index;return _angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"]().removeItem($event,context_r5,index_r4)})),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipe"](3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipe"](4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](5,"\n              "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](6,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275element"](7,"i",9),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](8,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](9,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"](),group_r3=ctx_r12.$implicit,context_r5=ctx_r12.context,index_r4=ctx_r12.index,ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275propertyInterpolate"]("title",_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipeBind1"](3,3,"form.remove")),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275property"]("disabled",1===group_r3.context.groups.length||ctx_r6.isItemReadOnly(context_r5,index_r4)),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275attribute"]("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipeBind1"](4,5,"form.remove"))}}function FormComponent_ng_template_6_div_4_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](0,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](1,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](2,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](3,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](4,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275listener"]("click",(function FormComponent_ng_template_6_div_4_Template_button_click_4_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275restoreView"](_r15);const group_r3=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"]().$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"]().insertItem($event,group_r3.context,group_r3.context.groups.length)})),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipe"](5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipe"](6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](7,"\n              "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](8,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275element"](9,"i",13),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](10),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipe"](11,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](12,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](13,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](14,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r16=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"](),context_r5=ctx_r16.context,index_r4=ctx_r16.index,ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275propertyInterpolate"]("title",_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipeBind1"](5,4,"form.add")),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275property"]("disabled",ctx_r7.isItemReadOnly(context_r5,index_r4)),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275attribute"]("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipeBind1"](6,6,"form.add")),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275advance"](6),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275textInterpolate1"](" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipeBind1"](11,8,"form.add"),"")}}function FormComponent_ng_template_6_div_7_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](0,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](1,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](2,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](3,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](4,"button",15),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275listener"]("click",(function FormComponent_ng_template_6_div_7_Template_button_click_4_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275restoreView"](_r19);const ctx_r18=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"](),context_r5=ctx_r18.context,index_r4=ctx_r18.index;return _angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"]().removeItem($event,context_r5,index_r4)})),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipe"](5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipe"](6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](7,"\n              "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](8,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](9),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipe"](10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](11,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](12,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](13,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r20=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"](),group_r3=ctx_r20.$implicit,context_r5=ctx_r20.context,index_r4=ctx_r20.index,ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275propertyInterpolate"]("title",_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipeBind1"](5,4,"form.discard")),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275property"]("disabled",1===group_r3.context.groups.length||ctx_r8.isItemReadOnly(context_r5,index_r4)),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275attribute"]("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipeBind1"](6,6,"form.discard")),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipeBind1"](10,8,"form.discard"))}}function FormComponent_ng_template_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](0,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](1,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275template"](2,FormComponent_ng_template_6_div_2_Template,10,7,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](3,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275template"](4,FormComponent_ng_template_6_div_4_Template,15,10,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](5,"\n\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](6,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275template"](7,FormComponent_ng_template_6_div_7_Template,14,10,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](8,"\n      ")),2&rf){const group_r3=ctx.$implicit,index_r4=ctx.index,context_r5=ctx.context,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275property"]("ngIf",!context_r5.notRepeatable&&!ctx_r0.isVirtual(context_r5,index_r4)),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275property"]("ngIf",!context_r5.notRepeatable&&index_r4===group_r3.context.groups.length-1),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275property"]("ngIf",context_r5.notRepeatable&&context_r5.showButtons&&group_r3.context.groups.length>1)}}function FormComponent_ng_content_11_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275projection"](0,1,["*ngIf","!displaySubmit && !displayCancel"])}function FormComponent_div_13_button_10_Template(rf,ctx){if(1&rf){const _r24=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](0,"button",20),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275listener"]("click",(function FormComponent_div_13_button_10_Template_button_click_0_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275restoreView"](_r24);return _angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"](2).reset()})),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](1,"\n              "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275element"](2,"i",21),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](3),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipe"](4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r21=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275textInterpolate1"](" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipeBind1"](4,1,ctx_r21.cancelLabel),"\n            ")}}function FormComponent_div_13_button_14_Template(rf,ctx){if(1&rf){const _r26=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](0,"button",22),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275listener"]("click",(function FormComponent_div_13_button_14_Template_button_click_0_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275restoreView"](_r26);return _angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"](2).onSubmit()})),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipe"](1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275element"](2,"i",23),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](3),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipe"](4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275property"]("disabled",!_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipeBind1"](1,2,ctx_r22.isValid())),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275textInterpolate1"](" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275pipeBind1"](4,4,ctx_r22.submitLabel),"\n            ")}}function FormComponent_div_13_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](1,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275element"](2,"hr"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](3,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](4,"div",16),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](5,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](6,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](7,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275projection"](8,2),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](9,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275template"](10,FormComponent_div_13_button_10_Template,5,3,"button",18),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](11,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275projection"](12,3),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](13,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275template"](14,FormComponent_div_13_button_14_Template,5,6,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](15,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275projection"](16,4),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](17,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](18,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](19,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"]()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275advance"](10),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275property"]("ngIf",ctx_r2.displayCancel),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275property"]("ngIf",ctx_r2.displaySubmit)}}const _c0=[[["","additional",""]],"*",[["","before",""]],[["","between",""]],[["","after",""]]];class FormComponent{constructor(formService,changeDetectorRef,formBuilderService){this.formService=formService,this.changeDetectorRef=changeDetectorRef,this.formBuilderService=formBuilderService,this.formErrors=[],this.displaySubmit=!0,this.displayCancel=!0,this.emitChange=!0,this.submitLabel="form.submit",this.cancelLabel="form.cancel",this.formLayout=null,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.EventEmitter,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.EventEmitter,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.EventEmitter,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.EventEmitter,this.addArrayItem=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.EventEmitter,this.removeArrayItem=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.EventEmitter,this.cancel=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.EventEmitter,this.submitForm=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.EventEmitter,this.subs=[]}getFormGroup(){return this.parentFormModel?this.formGroup.parent:this.formGroup}getFormGroupValue(){return this.getFormGroup().value}getFormGroupValidStatus(){return this.getFormGroup().valid}ngOnInit(){this.formGroup?this.formModel.forEach((model=>{this.parentFormModel&&this.formBuilderService.addFormGroupControl(this.formGroup,this.parentFormModel,model)})):this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.formService.initForm(this.formId,this.formModel,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus(),this.subs.push(this.formGroup.statusChanges.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__.a)((()=>this.formValid!==this.getFormGroupValidStatus()))).subscribe((()=>{this.formService.setStatusChanged(this.formId,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus()}))),this.subs.push(this.formService.getForm(this.formId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__.a)((formState=>!!formState&&(Object(_empty_util__WEBPACK_IMPORTED_MODULE_6__.e)(formState.errors)||Object(_empty_util__WEBPACK_IMPORTED_MODULE_6__.e)(this.formErrors)))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.a)((formState=>formState.errors)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)()).subscribe((errors=>{const{formGroup:formGroup,formModel:formModel}=this;errors.filter((error=>-1===Object(lodash__WEBPACK_IMPORTED_MODULE_4__.findIndex)(this.formErrors,{fieldId:error.fieldId,fieldIndex:error.fieldIndex}))).forEach((error=>{const{fieldId:fieldId}=error,{fieldIndex:fieldIndex}=error;let field;if(field=this.parentFormModel?this.formBuilderService.getFormControlById(fieldId,formGroup.parent,formModel,fieldIndex):this.formBuilderService.getFormControlById(fieldId,formGroup,formModel,fieldIndex),field){const model=this.formBuilderService.findById(fieldId,formModel);this.formService.addErrorToField(field,model,error.message),this.changeDetectorRef.detectChanges()}})),this.formErrors.filter((error=>-1===Object(lodash__WEBPACK_IMPORTED_MODULE_4__.findIndex)(errors,{fieldId:error.fieldId,fieldIndex:error.fieldIndex}))).forEach((error=>{const{fieldId:fieldId}=error,{fieldIndex:fieldIndex}=error;let field;if(field=this.parentFormModel?this.formBuilderService.getFormControlById(fieldId,formGroup.parent,formModel,fieldIndex):this.formBuilderService.getFormControlById(fieldId,formGroup,formModel,fieldIndex),field){const model=this.formBuilderService.findById(fieldId,formModel);this.formService.removeErrorFromField(field,model,error.message)}})),this.formErrors=errors,this.changeDetectorRef.detectChanges()})))}ngOnDestroy(){this.subs.filter((sub=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_6__.b)(sub))).forEach((sub=>sub.unsubscribe())),this.formService.removeForm(this.formId)}isValid(){return this.formService.isValid(this.formId)}keepSync(){this.subs.push(this.formService.getFormData(this.formId).subscribe((stateFormData=>{!Object.is(stateFormData,this.formGroup.value)&&this.formGroup&&this.formGroup.setValue(stateFormData)})))}onBlur(event){this.blur.emit(event);const control=event.control,fieldIndex=event.context&&event.context.index?event.context.index:0;control.valid?this.formService.removeError(this.formId,event.model.name,fieldIndex):this.formService.addControlErrors(control,this.formId,event.model.name,fieldIndex)}onCustomEvent(event){this.customEvent.emit(event)}onFocus(event){this.formService.setTouched(this.formId,this.formModel,event),this.focus.emit(event)}onChange(event){this.formService.changeForm(this.formId,this.formModel),this.formGroup.markAsPristine(),this.emitChange&&this.change.emit(event);const control=event.control,fieldIndex=event.context&&event.context.index?event.context.index:0;control.valid&&this.formService.removeError(this.formId,event.model.id,fieldIndex)}onSubmit(){this.getFormGroupValidStatus()?this.submitForm.emit(this.formService.getFormData(this.formId)):this.formService.validateAllFormFields(this.formGroup)}reset(){this.formGroup.reset(),this.cancel.emit()}isItemReadOnly(arrayContext,index){return arrayContext.groups[index].group[0].readOnly}removeItem($event,arrayContext,index){const formArrayControl=this.formGroup.get(this.formBuilderService.getPath(arrayContext)),event=this.getEvent($event,arrayContext,index,"remove");this.formBuilderService.isQualdropGroup(event.model)&&this.removeArrayItem.emit(event),this.formBuilderService.removeFormArrayGroup(index,formArrayControl,arrayContext),this.formService.changeForm(this.formId,this.formModel),this.formBuilderService.isQualdropGroup(event.model)||this.removeArrayItem.emit(event)}insertItem($event,arrayContext,index){const formArrayControl=this.formGroup.get(this.formBuilderService.getPath(arrayContext));this.formBuilderService.insertFormArrayGroup(index,formArrayControl,arrayContext),this.addArrayItem.emit(this.getEvent($event,arrayContext,index,"add")),this.formService.changeForm(this.formId,this.formModel)}isVirtual(arrayContext,index){const value=arrayContext.groups[index].group[0].metadataValue;return Object(_empty_util__WEBPACK_IMPORTED_MODULE_6__.e)(value)&&value.isVirtual}getEvent($event,arrayContext,index,type){const context=arrayContext.groups[index],itemGroupModel=context.context;let group=this.formGroup.get(itemGroupModel.id);if(Object(_empty_util__WEBPACK_IMPORTED_MODULE_6__.i)(group))for(const key of Object.keys(this.formGroup.controls))if(group=this.formGroup.controls[key].get(itemGroupModel.id),Object(_empty_util__WEBPACK_IMPORTED_MODULE_6__.g)(group))break;const model=context.group[0];return{$event:$event,context:context,control:group.controls[index],group:group,model:model,type:type}}}FormComponent.\u0275fac=function FormComponent_Factory(t){return new(t||FormComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275directiveInject"](_form_service__WEBPACK_IMPORTED_MODULE_7__.a),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_3__.ChangeDetectorRef),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275directiveInject"](_builder_form_builder_service__WEBPACK_IMPORTED_MODULE_5__.a))},FormComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275defineComponent"]({type:FormComponent,selectors:[["ds-form"]],inputs:{displaySubmit:"displaySubmit",displayCancel:"displayCancel",emitChange:"emitChange",formId:"formId",submitLabel:"submitLabel",cancelLabel:"cancelLabel",formModel:"formModel",parentFormModel:"parentFormModel",formGroup:"formGroup",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent",addArrayItem:"addArrayItem",removeArrayItem:"removeArrayItem",cancel:"cancel",submitForm:"submitForm"},exportAs:["formComponent"],ngContentSelectors:["[additional]","*","[before]","[between]","[after]"],decls:17,vars:7,consts:[[1,"container-fluid"],[1,"form-horizontal",3,"formGroup"],[3,"formId","formGroup","formModel","formLayout","change","dfBlur","dfChange","dfFocus","ngbEvent"],["modelType","ARRAY"],[4,"ngIf"],["class","col-xs-2 d-flex flex-column justify-content-sm-start align-items-end",4,"ngIf"],["class","clearfix pl-4 w-100",4,"ngIf"],[1,"col-xs-2","d-flex","flex-column","justify-content-sm-start","align-items-end"],["type","button","role","button",1,"btn","btn-secondary",3,"title","disabled","click"],["aria-hidden","true",1,"fas","fa-trash"],[1,"clearfix","pl-4","w-100"],["role","group",1,"btn-group"],["type","button","role","button",1,"ds-form-add-more","btn","btn-link",3,"title","disabled","click"],[1,"fas","fa-plus"],["role","button",1,"btn-group"],["type","button",1,"btn","btn-secondary",3,"title","disabled","click"],[1,"form-group","row"],[1,"col","text-right"],["type","reset","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","reset",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-times"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-save"]],template:function FormComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275projectionDef"](_c0),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](1,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](2,"form",1),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](3,"\n\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementStart"](4,"ds-dynamic-form",2),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275listener"]("change",(function FormComponent_Template_ds_dynamic_form_change_4_listener($event){return $event.stopPropagation()}))("dfBlur",(function FormComponent_Template_ds_dynamic_form_dfBlur_4_listener($event){return ctx.onBlur($event)}))("dfChange",(function FormComponent_Template_ds_dynamic_form_dfChange_4_listener($event){return ctx.onChange($event)}))("dfFocus",(function FormComponent_Template_ds_dynamic_form_dfFocus_4_listener($event){return ctx.onFocus($event)}))("ngbEvent",(function FormComponent_Template_ds_dynamic_form_ngbEvent_4_listener($event){return ctx.onCustomEvent($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](5,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275template"](6,FormComponent_ng_template_6_Template,9,3,"ng-template",3),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](7,"\n\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](8,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275projection"](9),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](10,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275template"](11,FormComponent_ng_content_11_Template,1,0,"ng-content",4),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](12,"\n\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275template"](13,FormComponent_div_13_Template,20,2,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](14,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](15,"\n\n"),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275text"](16,"\n")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275property"]("formGroup",ctx.formGroup),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275property"]("formId",ctx.formId)("formGroup",ctx.formGroup)("formModel",ctx.formModel)("formLayout",ctx.formLayout),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275advance"](7),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275property"]("ngIf",!ctx.displaySubmit&&!ctx.displayCancel),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275property"]("ngIf",ctx.displaySubmit||ctx.displayCancel))},styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus, button.ds-form-add-more[_ngcontent-%COMP%]:focus{-webkit-box-shadow:none!important;box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}"]})},"sw+l":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DsDynamicDisabledComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e+Av"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("wdRg"),__webpack_require__("sYmb"));class DsDynamicDisabledComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.z{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.modelValuesString="",this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter}}DsDynamicDisabledComponent.\u0275fac=function DsDynamicDisabledComponent_Factory(t){return new(t||DsDynamicDisabledComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.E),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.H))},DsDynamicDisabledComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:DsDynamicDisabledComponent,selectors:[["ds-dynamic-disabled"]],inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"]],decls:12,vars:11,consts:[[1,"form-row","align-items-center"],[1,"col"],[1,"form-control",3,"id","name","value","disabled","type","placeholder","readonly"]],template:function DsDynamicDisabledComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](4,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](6,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](7,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](10,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](11,"\n")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("id",ctx.id)("name",ctx.model.name)("value",ctx.modelValuesString)("disabled",ctx.model.disabled)("type",ctx.model.inputType)("placeholder",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](7,9,ctx.model.placeholder))("readonly",ctx.model.readOnly))},pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.d],encapsulation:2})},tqJZ:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DsDynamicFormGroupComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e+Av");const _c0=function(a0,a1){return[a0,a1]};function DsDynamicFormGroupComponent_ds_dynamic_form_control_container_4_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"ds-dynamic-form-control-container",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("dfBlur",(function DsDynamicFormGroupComponent_ds_dynamic_form_control_container_4_Template_ds_dynamic_form_control_container_dfBlur_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r3);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onBlur($event)}))("dfChange",(function DsDynamicFormGroupComponent_ds_dynamic_form_control_container_4_Template_ds_dynamic_form_control_container_dfChange_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r3);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onChange($event)}))("dfFocus",(function DsDynamicFormGroupComponent_ds_dynamic_form_control_container_4_Template_ds_dynamic_form_control_container_dfFocus_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r3);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onFocus($event)}))("ngbEvent",(function DsDynamicFormGroupComponent_ds_dynamic_form_control_container_4_Template_ds_dynamic_form_control_container_ngbEvent_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r3);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onCustomEvent($event,null,!0)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const _model_r1=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("group",ctx_r0.control)("hasErrorMessaging",ctx_r0.model.hasErrorMessages)("hidden",_model_r1.hidden)("layout",ctx_r0.formLayout)("model",_model_r1)("templates",ctx_r0.templates)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction2"](7,_c0,ctx_r0.getClass("element","host",_model_r1),ctx_r0.getClass("grid","host",_model_r1)))}}class DsDynamicFormGroupComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.z{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter}}DsDynamicFormGroupComponent.\u0275fac=function DsDynamicFormGroupComponent_Factory(t){return new(t||DsDynamicFormGroupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.E),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.H))},DsDynamicFormGroupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:DsDynamicFormGroupComponent,selectors:[["ds-dynamic-form-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"]],decls:8,vars:5,consts:[[3,"formGroup"],["role","group",3,"formGroupName","id","ngClass"],[3,"group","hasErrorMessaging","hidden","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"group","hasErrorMessaging","hidden","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent"]],template:function DsDynamicFormGroupComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerStart"](0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](4,DsDynamicFormGroupComponent_ds_dynamic_form_control_container_4_Template,1,10,"ds-dynamic-form-control-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("formGroupName",ctx.model.id)("id",ctx.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",ctx.model.group))},encapsulation:2})},uyTL:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DsDatePickerInlineComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("1kSV"),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("e+Av"),_angular_forms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("3Pt+"),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ofXK");function DsDatePickerInlineComponent_i_9_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0,"i",7),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classMap"](ctx_r1.model.toggleIcon)}}function DsDatePickerInlineComponent_span_11_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](ctx_r2.model.toggleLabel)}}class DsDatePickerInlineComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_2__.z{constructor(layoutService,validationService,config){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.config=config,this.bindId=!0,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter}}DsDatePickerInlineComponent.\u0275fac=function DsDatePickerInlineComponent_Factory(t){return new(t||DsDatePickerInlineComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_2__.E),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_2__.H),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__.h))},DsDatePickerInlineComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:DsDatePickerInlineComponent,selectors:[["ds-dynamic-date-picker-inline"]],viewQuery:function DsDatePickerInlineComponent_Query(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275viewQuery"](_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__.g,1),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]())&&(ctx.ngbDatePicker=_t.first)}},inputs:{bindId:"bindId",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"]],decls:16,vars:25,consts:[[1,"input-group",3,"formGroup"],["ngbDatepicker","",1,"form-control",3,"displayMonths","id","firstDayOfWeek","formControlName","maxDate","minDate","name","navigation","ngClass","outsideDays","placeholder","placement","showWeekdays","showWeekNumbers","startDate","blur","dateSelect","change","focus"],["datepicker","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","click"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["aria-hidden","true"]],template:function DsDatePickerInlineComponent_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"input",1,2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("blur",(function DsDatePickerInlineComponent_Template_input_blur_2_listener($event){return ctx.onBlur($event)}))("dateSelect",(function DsDatePickerInlineComponent_Template_input_dateSelect_2_listener($event){return ctx.onChange($event)}))("change",(function DsDatePickerInlineComponent_Template_input_change_2_listener($event){return ctx.onChange($event)}))("focus",(function DsDatePickerInlineComponent_Template_input_focus_2_listener($event){return ctx.onFocus($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4,"\n\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](5,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](7,"button",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function DsDatePickerInlineComponent_Template_button_click_7_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r3);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](3).toggle()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](9,DsDatePickerInlineComponent_i_9_Template,1,3,"i",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](10,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](11,DsDatePickerInlineComponent_span_11_Template,2,1,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](12,"\n\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](13,"\n\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](14,"\n\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](15,"\n")}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("displayMonths",ctx.model.getAdditional("displayMonths",ctx.config.displayMonths))("id",ctx.id)("firstDayOfWeek",ctx.model.getAdditional("firstDayOfWeek",ctx.config.firstDayOfWeek))("formControlName",ctx.model.id)("maxDate",ctx.model.max)("minDate",ctx.model.min)("name",ctx.model.name)("navigation",ctx.model.getAdditional("navigation",ctx.config.navigation))("ngClass",ctx.getClass("element","control"))("outsideDays",ctx.model.getAdditional("outsideDays",ctx.config.outsideDays))("placeholder",ctx.model.placeholder)("placement",ctx.model.getAdditional("placement","bottom-left"))("showWeekdays",ctx.model.getAdditional("showWeekdays",ctx.config.showWeekdays))("showWeekNumbers",ctx.model.getAdditional("showWeekNumbers",ctx.config.showWeekNumbers))("startDate",ctx.model.focusedDate),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-labelledby","label_"+ctx.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("disabled",ctx.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("disabled",ctx.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-labelledby","label_"+ctx.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.model.toggleIcon),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.model.toggleLabel))},directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.NgControlStatusGroup,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormGroupDirective,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__.p,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.DefaultValueAccessor,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.NgControlStatus,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormControlName,_angular_common__WEBPACK_IMPORTED_MODULE_4__.NgClass,_angular_common__WEBPACK_IMPORTED_MODULE_4__.NgIf],encapsulation:2})},xjoE:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CustomSwitchComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("n7Wa"),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("JN36"),__webpack_require__("e+Av")),_angular_forms__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("3Pt+"),_angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ofXK");const _c0=function(a0,a1){return[a0,a1]};class CustomSwitchComponent extends _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__.c{constructor(layoutService,validationService){super(layoutService,validationService),this.bindId=!0,this.selected=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.remove=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter}}CustomSwitchComponent.\u0275fac=function CustomSwitchComponent_Factory(t){return new(t||CustomSwitchComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__.E),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__.H))},CustomSwitchComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:CustomSwitchComponent,selectors:[["ds-custom-switch"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"]],decls:10,vars:20,consts:[[1,"form-check","custom-control","custom-switch",3,"formGroup"],["type","checkbox",1,"form-check-input","custom-control-input",3,"checked","id","formControlName","indeterminate","name","ngClass","required","tabindex","value","blur","change","focus"],[1,"form-check-label","custom-control-label",3,"for"],[3,"innerHTML","ngClass"]],template:function CustomSwitchComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"input",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("blur",(function CustomSwitchComponent_Template_input_blur_2_listener($event){return ctx.onBlur($event)}))("change",(function CustomSwitchComponent_Template_input_change_2_listener($event){return ctx.onChange($event)}))("focus",(function CustomSwitchComponent_Template_input_focus_2_listener($event){return ctx.onFocus($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](4,"label",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](6,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("disabled",ctx.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("checked",ctx.model.checked)("id",ctx.id)("formControlName",ctx.model.id)("indeterminate",ctx.model.indeterminate)("name",ctx.model.name)("ngClass",ctx.getClass("element","control"))("required",ctx.model.required)("tabindex",ctx.model.tabIndex)("value",ctx.model.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("for",ctx.bindId&&ctx.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("innerHTML",ctx.model.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275sanitizeHtml"])("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction2"](17,_c0,ctx.getClass("element","label"),ctx.getClass("grid","label"))))},directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_4__.NgControlStatusGroup,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.FormGroupDirective,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.CheckboxControlValueAccessor,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.CheckboxRequiredValidator,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.NgControlStatus,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.FormControlName,_angular_common__WEBPACK_IMPORTED_MODULE_5__.NgClass],styles:[""]})},yXJd:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return ReorderableRelationship})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ExistingMetadataListElementComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2Vo4"),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("pLZG"),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("IzEk"),_core_shared_metadata_representation_item_item_metadata_representation_model__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("PN+Z"),__webpack_require__("naZE")),_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("1QIV"),_empty_util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("J3qs"),_object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("4SI6"),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("EGek"),_relation_lookup_modal_relationship_actions__WEBPACK_IMPORTED_MODULE_11__=(__webpack_require__("kcku"),__webpack_require__("XcME")),_submission_submission_service__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("J/vq"),_ngrx_store__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("l7P3"),_angular_common__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("ofXK"),_loading_loading_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("Frqi"),_metadata_representation_metadata_representation_loader_component__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("Ytjd"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("sYmb");function ExistingMetadataListElementComponent_ng_container_4_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerStart"](0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](2,"ds-loading",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerEnd"]()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("showMessage",!1))}function ExistingMetadataListElementComponent_ng_container_7_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerStart"](0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](2,"ds-metadata-representation-loader",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerEnd"]()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("mdRepresentation",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](3,1,ctx_r1.metadataRepresentation$))}}class Reorderable{constructor(oldIndex,newIndex){this.oldIndex=oldIndex,this.newIndex=newIndex}update(){this.oldIndex=this.newIndex}get hasMoved(){return this.oldIndex!==this.newIndex}}class ReorderableRelationship extends Reorderable{constructor(relationship,useLeftItem,relationshipService,store,submissionID,oldIndex,newIndex){super(oldIndex,newIndex),this.relationship=relationship,this.useLeftItem=useLeftItem,this.relationshipService=relationshipService,this.store=store,this.submissionID=submissionID,this.relationship=relationship,this.useLeftItem=useLeftItem}getId(){return this.relationship.id}getPlace(){return this.useLeftItem?this.relationship.rightPlace:this.relationship.leftPlace}}class ExistingMetadataListElementComponent{constructor(selectableListService,store,submissionService){this.selectableListService=selectableListService,this.store=store,this.submissionService=submissionService,this.metadataRepresentation$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a(void 0),this.remove=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){if(Object(_empty_util__WEBPACK_IMPORTED_MODULE_7__.b)(this.reoRel)){const item$=this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem;this.subs.push(item$.pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.c)(),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.o)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)((item=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_7__.b)(item)&&Object(_empty_util__WEBPACK_IMPORTED_MODULE_7__.e)(item.uuid)))).subscribe((item=>{this.relatedItem=item;const relationMD=this.submissionItem.firstMetadata(this.relationshipOptions.metadataField,{value:this.relatedItem.uuid});if(Object(_empty_util__WEBPACK_IMPORTED_MODULE_7__.b)(relationMD)){const metadataRepresentationMD=this.submissionItem.firstMetadata(this.metadataFields,{authority:relationMD.authority}),nextValue=Object.assign(new _core_shared_metadata_representation_item_item_metadata_representation_model__WEBPACK_IMPORTED_MODULE_5__.a(metadataRepresentationMD),this.relatedItem);this.metadataRepresentation$.next(nextValue)}})))}}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.submissionService.getSubmissionObject(this.submissionId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)((state=>!state.savePending&&!state.isLoading)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(1)).subscribe((()=>{this.selectableListService.deselectSingle(this.listId,Object.assign(new _object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_8__.a,{indexableObject:this.relatedItem})),this.store.dispatch(new _relation_lookup_modal_relationship_actions__WEBPACK_IMPORTED_MODULE_11__.c(this.submissionItem,this.relatedItem,this.relationshipOptions.relationshipType,this.submissionId)),this.remove.emit()}))}ngOnDestroy(){this.subs.filter((sub=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_7__.b)(sub))).forEach((sub=>sub.unsubscribe()))}}ExistingMetadataListElementComponent.\u0275fac=function ExistingMetadataListElementComponent_Factory(t){return new(t||ExistingMetadataListElementComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_9__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ngrx_store__WEBPACK_IMPORTED_MODULE_13__.i),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_submission_submission_service__WEBPACK_IMPORTED_MODULE_12__.a))},ExistingMetadataListElementComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:ExistingMetadataListElementComponent,selectors:[["ds-existing-metadata-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275NgOnChangesFeature"]],decls:18,vars:9,consts:[[1,"d-flex"],[1,"mr-auto","text-contents"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"title","click"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"mdRepresentation"]],template:function ExistingMetadataListElementComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"span",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](4,ExistingMetadataListElementComponent_ng_container_4_Template,4,1,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](7,ExistingMetadataListElementComponent_ng_container_7_Template,5,3,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](10,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](11,"button",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function ExistingMetadataListElementComponent_Template_button_click_11_listener(){return ctx.removeSelection()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](12,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](13,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](14,"i",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](15,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](16,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](17,"\n")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](5,3,ctx.metadataRepresentation$)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](8,5,ctx.metadataRepresentation$)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275propertyInterpolate"]("title",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](12,7,"form.remove")))},directives:[_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf,_loading_loading_component__WEBPACK_IMPORTED_MODULE_15__.a,_metadata_representation_metadata_representation_loader_component__WEBPACK_IMPORTED_MODULE_16__.a],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_14__.AsyncPipe,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__.d],styles:["span.text-contents[_ngcontent-%COMP%]{padding:var(--bs-btn-padding-y) 0}"]})},zGzN:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ExternalSourceEntryImportModalComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_core_shared_metadata_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("/eM4"),_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("OAtg"),_search_models_paginated_search_options_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("R7cy"),_object_collection_collection_element_link_type__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("84tU"),_core_shared_context_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ynxc"),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("EGek"),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("iqTE"),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("7DXY"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("1QIV"),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("eIep"),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("IzEk"),_object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("4SI6"),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("lI3o"),_submission_import_external_import_external_collection_submission_import_external_collection_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("6c/T"),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("1kSV"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("sYmb"),_angular_common__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("ofXK"),_search_search_results_search_results_component__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("JYDz");function ExternalSourceEntryImportModalComponent_div_25_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](1,"a",17),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275propertyInterpolate"]("href",ctx_r0.uri.value,_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275sanitizeUrl"]),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](ctx_r0.uri.value)}}const _c0=function(a1){return{repeatable:!1,listId:a1}};function ExternalSourceEntryImportModalComponent_ds_search_results_38_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"ds-search-results",18),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("deselectObject",(function ExternalSourceEntryImportModalComponent_ds_search_results_38_Template_ds_search_results_deselectObject_0_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r4);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().deselectEntity()}))("selectObject",(function ExternalSourceEntryImportModalComponent_ds_search_results_38_Template_ds_search_results_selectObject_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r4);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().selectEntity($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("searchResults",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,9,ctx_r1.localEntitiesRD$))("sortConfig",null==ctx_r1.lookupRelationService.searchConfig?null:ctx_r1.lookupRelationService.searchConfig.sort)("searchConfig",ctx_r1.lookupRelationService.searchConfig)("selectable",!0)("disableHeader",!0)("hidePaginationDetail",!0)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction1"](11,_c0,ctx_r1.entityListId))("linkType",ctx_r1.linkTypes.ExternalLink)("context",ctx_r1.context)}}function ExternalSourceEntryImportModalComponent_div_51_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",19),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"h5",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](6,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](8,"input",20),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function ExternalSourceEntryImportModalComponent_div_51_Template_input_click_8_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r7);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().selectNewAuthority()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](10,"label",21),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](11),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](12,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](13,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](14,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](4,3,ctx_r2.labelPrefix+"authority")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("checked",ctx_r2.selectedImportType===ctx_r2.importType.NewAuthority),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](12,5,ctx_r2.labelPrefix+"authority.new"))}}var ImportType;!function(ImportType){ImportType.None="None",ImportType.LocalEntity="LocalEntity",ImportType.LocalAuthority="LocalAuthority",ImportType.NewEntity="NewEntity",ImportType.NewAuthority="NewAuthority"}(ImportType||(ImportType={}));class ExternalSourceEntryImportModalComponent{constructor(modal,lookupRelationService,modalService,selectService,itemService,notificationsService,translateService){this.modal=modal,this.lookupRelationService=lookupRelationService,this.modalService=modalService,this.selectService=selectService,this.itemService=itemService,this.notificationsService=notificationsService,this.translateService=translateService,this.labelPrefix="submission.sections.describe.relationship-lookup.external-source.import-modal.",this.linkTypes=_object_collection_collection_element_link_type__WEBPACK_IMPORTED_MODULE_4__.a,this.context=_core_shared_context_model__WEBPACK_IMPORTED_MODULE_5__.a.EntitySearchModalWithNameVariants,this.entityListId="external-source-import-entity",this.authorityListId="external-source-import-authority",this.importType=ImportType,this.selectedImportType=ImportType.None,this.importedObject=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.authorityEnabled=!1}ngOnInit(){this.uri=_core_shared_metadata_utils__WEBPACK_IMPORTED_MODULE_1__.a.first(this.externalSourceEntry.metadata,"dc.identifier.uri");const pagination=Object.assign(new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_8__.a,{id:"external-entry-import",pageSize:5});this.searchOptions=Object.assign(new _search_models_paginated_search_options_model__WEBPACK_IMPORTED_MODULE_3__.a({query:this.externalSourceEntry.value,pagination:pagination})),this.localEntitiesRD$=this.lookupRelationService.getLocalResults(this.relationship,this.searchOptions)}close(){this.modal.close()}import(){switch(this.selectedImportType){case ImportType.LocalEntity:this.importLocalEntity();break;case ImportType.NewEntity:this.importNewEntity();break;case ImportType.LocalAuthority:this.importLocalAuthority();break;case ImportType.NewAuthority:this.importNewAuthority()}this.selectedImportType=ImportType.None,this.deselectAllLists(),this.close()}importLocalEntity(){void 0!==this.selectedEntity&&(this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.local-entity")),this.importedObject.emit(this.selectedEntity))}importNewEntity(){this.modalRef=this.modalService.open(_submission_import_external_import_external_collection_submission_import_external_collection_component__WEBPACK_IMPORTED_MODULE_14__.a,{size:"lg"}),this.modalRef.componentInstance.entityType=this.relatedEntityType.label,this.modalRef.componentInstance.selectedEvent.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)((collectionListEntry=>this.itemService.importExternalSourceEntry(this.externalSourceEntry,collectionListEntry.collection.id).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_9__.i)(),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_9__.o)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.a)(1))))).subscribe((item=>{this.lookupRelationService.removeLocalResultsCache();const searchResult=Object.assign(new _object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_12__.a,{indexableObject:item});this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.new-entity")),this.modalRef.close(),this.importedObject.emit(searchResult)}))}importLocalAuthority(){}importNewAuthority(){}deselectEntity(){this.selectedEntity=void 0,this.selectedImportType===ImportType.LocalEntity&&(this.selectedImportType=ImportType.None)}selectEntity(entity){this.selectedEntity=entity,this.selectedImportType=ImportType.LocalEntity}selectNewEntity(){this.selectedImportType===ImportType.NewEntity?this.selectedImportType=ImportType.None:(this.selectedImportType=ImportType.NewEntity,this.deselectAllLists())}deselectAuthority(){this.selectedAuthority=void 0,this.selectedImportType===ImportType.LocalAuthority&&(this.selectedImportType=ImportType.None)}selectAuthority(authority){this.selectedAuthority=authority,this.selectedImportType=ImportType.LocalAuthority}selectNewAuthority(){this.selectedImportType===ImportType.NewAuthority?this.selectedImportType=ImportType.None:(this.selectedImportType=ImportType.NewAuthority,this.deselectAllLists())}deselectAllLists(){this.selectService.deselectAll(this.entityListId),this.selectService.deselectAll(this.authorityListId)}}ExternalSourceEntryImportModalComponent.\u0275fac=function ExternalSourceEntryImportModalComponent_Factory(t){return new(t||ExternalSourceEntryImportModalComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.c),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_2__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.q),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_6__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_7__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_13__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.e))},ExternalSourceEntryImportModalComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:ExternalSourceEntryImportModalComponent,selectors:[["ds-external-source-entry-import-modal"]],decls:71,vars:29,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","external-source-entry-information",1,"mb-3"],[4,"ngIf"],["id","external-source-entry-entities",1,"mb-3"],[1,"font-weight-bold"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context","deselectObject","selectObject",4,"ngIf"],[1,"ml-4"],["type","radio","name","new-entity","id","new-entity","value","new-entity",1,"form-check-input",3,"checked","click"],["for","new-entity",1,"form-check-label"],["id","external-source-entry-authority",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"href"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context","deselectObject","selectObject"],["id","external-source-entry-authority"],["type","radio","name","new-authority","id","new-authority","value","new-authority",1,"form-check-input",3,"checked","click"],["for","new-authority",1,"form-check-label"]],template:function ExternalSourceEntryImportModalComponent_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](6,"button",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function ExternalSourceEntryImportModalComponent_Template_button_click_6_listener(){return ctx.modal.dismiss()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](8,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](10,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](11,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](12,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](13,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](14,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](15,"h4"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](16),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](17,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](18,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](19,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](20,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](21,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](22,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](23),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](24,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](25,ExternalSourceEntryImportModalComponent_div_25_Template,3,2,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](26,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](27,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](28,"h4"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](29),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](30,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](31,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](32,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](33,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](34,"h5",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](35),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](36,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](37,"\n\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](38,ExternalSourceEntryImportModalComponent_ds_search_results_38_Template,3,13,"ds-search-results",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](39,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](40,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](41,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](42,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](43,"input",11),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function ExternalSourceEntryImportModalComponent_Template_input_click_43_listener(){return ctx.selectNewEntity()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](44,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](45,"label",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](46),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](47,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](48,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](49,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](50,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](51,ExternalSourceEntryImportModalComponent_div_51_Template,15,7,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](52,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](53,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](54,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](55,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](56,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](57,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](58,"button",15),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function ExternalSourceEntryImportModalComponent_Template_button_click_58_listener(){return ctx.close()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](59),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](60,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](61,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](62,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](63,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](64,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](65,"button",16),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function ExternalSourceEntryImportModalComponent_Template_button_click_65_listener(){return ctx.import()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](66),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](67,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](68,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](69,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](70,"\n")),2&rf){let tmp_6_0=null;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](4,13,ctx.labelPrefix+ctx.label+".title")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](13),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](17,15,ctx.labelPrefix+"head."+ctx.externalSourceEntry.externalSource)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](ctx.externalSourceEntry.display),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.uri),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](30,17,ctx.labelPrefix+"select")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](36,19,ctx.labelPrefix+"entities")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",(null==(tmp_6_0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](39,21,ctx.localEntitiesRD$))||null==tmp_6_0.payload||null==tmp_6_0.payload.page?null:tmp_6_0.payload.page.length)>0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("checked",ctx.selectedImportType===ctx.importType.NewEntity),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](47,23,ctx.labelPrefix+"entities.new")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.authorityEnabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](60,25,ctx.labelPrefix+"cancel")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("disabled",ctx.selectedImportType===ctx.importType.None),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](67,27,ctx.labelPrefix+"import"))}},directives:[_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgIf,_search_search_results_search_results_component__WEBPACK_IMPORTED_MODULE_18__.a],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.d,_angular_common__WEBPACK_IMPORTED_MODULE_17__.AsyncPipe],styles:[".modal-footer[_ngcontent-%COMP%]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}"]})},zVKZ:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DsDynamicLookupRelationExternalSourceTabComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("dtp9"),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("joI/"),_core_data_external_source_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("dHui"),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("3asZ"),__webpack_require__("lJxs")),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("eIep"),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("JX91"),_animations_fade__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__("ynxc"),__webpack_require__("mEo1")),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("7DXY"),_external_source_entry_import_modal_external_source_entry_import_modal_component__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__("kcku"),__webpack_require__("zGzN")),_empty_util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("J3qs"),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("EGek"),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_17__=(__webpack_require__("PN+Z"),__webpack_require__("ye/0"),__webpack_require__("MFUF")),_core_shared_operators__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("1QIV"),_angular_router__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("tyNb"),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("1kSV"),_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("pKvA"),_search_form_search_form_component__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("DdXh"),_utils_var_directive__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("O/5o"),_angular_common__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("ofXK"),_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("jLV+"),_loading_loading_component__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("Frqi"),_error_error_component__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("HZwm"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("sYmb");const _c0=function(a0,a1){return{repeatable:a0,listId:a1}};function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_24_ds_viewable_collection_2_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"ds-viewable-collection",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("importObject",(function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_24_ds_viewable_collection_2_Template_ds_viewable_collection_importObject_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r7);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2).import($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const entriesRD_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().ngVar,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("@fadeIn",void 0)("objects",entriesRD_r1)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction2"](10,_c0,ctx_r2.repeatable,ctx_r2.listId))("config",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,8,ctx_r2.currentPagination$))("hideGear",!0)("context",ctx_r2.context)("importable",!0)("importConfig",ctx_r2.importConfig)}}function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_24_ds_loading_4_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0,"ds-loading",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275propertyInterpolate"]("message",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,1,"loading.search-results"))}function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_24_ds_error_6_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0,"ds-error",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275propertyInterpolate"]("message",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,1,"error.search-results"))}function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_24_div_8_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("\n          ",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2,1,"search.results.empty"),"\n        "))}function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_24_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerStart"](0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_24_ds_viewable_collection_2_Template,3,13,"ds-viewable-collection",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](4,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_24_ds_loading_4_Template,2,3,"ds-loading",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](6,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_24_ds_error_6_Template,2,3,"ds-error",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](8,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_24_div_8_Template,3,3,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerEnd"]()),2&rf){const entriesRD_r1=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",(null==entriesRD_r1?null:entriesRD_r1.hasSucceeded)&&!(null!=entriesRD_r1&&entriesRD_r1.isLoading)&&(null==entriesRD_r1||null==entriesRD_r1.payload||null==entriesRD_r1.payload.page?null:entriesRD_r1.payload.page.length)>0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!entriesRD_r1||(null==entriesRD_r1?null:entriesRD_r1.isLoading)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",(null==entriesRD_r1?null:entriesRD_r1.hasFailed)&&(!(null!=entriesRD_r1&&entriesRD_r1.errorMessage)||400!=(null==entriesRD_r1?null:entriesRD_r1.statusCode))),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",0==(null==entriesRD_r1||null==entriesRD_r1.payload||null==entriesRD_r1.payload.page?null:entriesRD_r1.payload.page.length)||400==(null==entriesRD_r1?null:entriesRD_r1.statusCode))}}class DsDynamicLookupRelationExternalSourceTabComponent{constructor(router,searchConfigService,externalSourceService,modalService,selectableListService,paginationService){this.router=router,this.searchConfigService=searchConfigService,this.externalSourceService=externalSourceService,this.modalService=modalService,this.selectableListService=selectableListService,this.paginationService=paginationService,this.importedObject=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.initialPagination=Object.assign(new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_10__.a,{id:"spc",pageSize:5})}ngOnInit(){this.externalSource.entityTypes.pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_18__.g)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((entityTypesRD=>entityTypesRD.hasSucceeded&&entityTypesRD.payload.totalElements>0?entityTypesRD.payload.page[0]:null))).subscribe((entityType=>{this.relatedEntityType=entityType})),this.resetRoute(),this.entriesRD$=this.searchConfigService.paginatedSearchOptions.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.a)((searchOptions=>this.externalSourceService.getExternalSourceEntries(this.externalSource.id,searchOptions).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.a)(void 0))))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination),this.importConfig={buttonLabel:"submission.sections.describe.relationship-lookup.external-source.import-button-title."+this.label}}import(entry){this.modalRef=this.modalService.open(_external_source_entry_import_modal_external_source_entry_import_modal_component__WEBPACK_IMPORTED_MODULE_12__.a,{size:"lg",container:"ds-dynamic-lookup-relation-modal"});const modalComp=this.modalRef.componentInstance;modalComp.externalSourceEntry=entry,modalComp.item=this.item,modalComp.collection=this.collection,modalComp.relationship=this.relationship,modalComp.label=this.label,modalComp.relatedEntityType=this.relatedEntityType,this.importObjectSub=modalComp.importedObject.subscribe((object=>{this.selectableListService.selectSingle(this.listId,object),this.importedObject.emit(object)}))}ngOnDestroy(){Object(_empty_util__WEBPACK_IMPORTED_MODULE_13__.b)(this.importObjectSub)&&this.importObjectSub.unsubscribe()}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}}DsDynamicLookupRelationExternalSourceTabComponent.\u0275fac=function DsDynamicLookupRelationExternalSourceTabComponent_Factory(t){return new(t||DsDynamicLookupRelationExternalSourceTabComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_19__.g),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_2__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_data_external_source_service__WEBPACK_IMPORTED_MODULE_3__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.q),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_14__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_17__.a))},DsDynamicLookupRelationExternalSourceTabComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:DsDynamicLookupRelationExternalSourceTabComponent,selectors:[["ds-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275ProvidersFeature"]([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_1__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_2__.a}])],decls:30,vars:16,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[3,"query","inPlaceSearch","searchPlaceholder"],[4,"ngVar"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig","importObject",4,"ngIf"],[3,"message",4,"ngIf"],["id","empty-external-entry-list",4,"ngIf"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig","importObject"],[3,"message"],["id","empty-external-entry-list"]],template:function DsDynamicLookupRelationExternalSourceTabComponent_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](4,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](8,"ds-page-size-selector"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](10,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](11,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](12,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](13,"ds-search-form",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](14,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](15,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](16,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](17,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](18,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](19,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](20,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](21),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](22,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](23,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](24,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_24_Template,10,4,"ng-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](25,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](26,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](27,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](28,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](29,"\n")),2&rf){let tmp_1_0=null;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](6,6,"submission.sections.describe.relationship-lookup.selection-tab.settings")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("query",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](14,8,ctx.searchConfigService.paginatedSearchOptions))?null:tmp_1_0.query)("inPlaceSearch",!0)("searchPlaceholder",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](15,10,"submission.sections.describe.relationship-lookup.selection-tab.search-form.placeholder")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](22,12,"submission.sections.describe.relationship-lookup.selection-tab.title."+ctx.externalSource.id)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](25,14,ctx.entriesRD$))}},directives:[_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_21__.a,_search_form_search_form_component__WEBPACK_IMPORTED_MODULE_22__.a,_utils_var_directive__WEBPACK_IMPORTED_MODULE_23__.a,_angular_common__WEBPACK_IMPORTED_MODULE_24__.NgIf,_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_25__.a,_loading_loading_component__WEBPACK_IMPORTED_MODULE_26__.a,_error_error_component__WEBPACK_IMPORTED_MODULE_27__.a],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_28__.d,_angular_common__WEBPACK_IMPORTED_MODULE_24__.AsyncPipe],styles:[""],data:{animation:[_animations_fade__WEBPACK_IMPORTED_MODULE_9__.a,_animations_fade__WEBPACK_IMPORTED_MODULE_9__.c]}})}};