exports.ids=[5],exports.modules={"+Bs4":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ResourcePoliciesComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2Vo4"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("Cfvw"),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("pLZG"),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("128B"),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("/uUt"),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("bOdf"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("Kqap"),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("IzEk"),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("JX91"),_core_resource_policy_resource_policy_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("8a3C"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("1QIV"),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("C765"),_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("YIpg"),_empty_util__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("J3qs"),_core_eperson_eperson_data_service__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("wLgS"),_core_data_request_service__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("X/78"),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("lI3o"),_date_util__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("fM99"),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("84Zn"),_app_routing_paths__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("TVZh"),_access_control_access_control_routing_paths__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("mOAm"),_angular_router__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("tyNb"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("sYmb"),_angular_common__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("ofXK"),_ng_for_track_by_id_directive__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("xPuV"),_angular_forms__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("3Pt+");function ResourcePoliciesComponent_div_0_span_20_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n                  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](2,"i",14),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"](" ",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](4,1,"submission.workflow.tasks.generic.processing"),"\n                "))}function ResourcePoliciesComponent_div_0_span_23_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n                  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](2,"i",15),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("\n                  ",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](4,1,"resource-policies.delete.btn"),"\n                "))}function ResourcePoliciesComponent_div_0_tr_91_td_24_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const entry_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().$implicit,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("\n          ",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2,1,ctx_r5.getEPersonName(entry_r4.policy)),"\n        ")}}function ResourcePoliciesComponent_div_0_tr_91_td_27_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0,"td")}function ResourcePoliciesComponent_div_0_tr_91_td_30_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const entry_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().$implicit,ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("\n          ",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2,1,ctx_r7.getGroupName(entry_r4.policy)),"\n        ")}}function ResourcePoliciesComponent_div_0_tr_91_td_33_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0,"td")}function ResourcePoliciesComponent_div_0_tr_91_button_52_Template(rf,ctx){if(1&rf){const _r14=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function ResourcePoliciesComponent_div_0_tr_91_button_52_Template_button_click_0_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r14);const entry_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2).redirectToGroupEditPage(entry_r4.policy)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n              "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](3,"i",22),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("title",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,1,"resource-policies.table.headers.edit.group"))}function ResourcePoliciesComponent_div_0_tr_91_Template(rf,ctx){if(1&rf){const _r16=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"tr"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"td",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](4,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](6,"input",16),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("ngModelChange",(function ResourcePoliciesComponent_div_0_tr_91_Template_input_ngModelChange_6_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r16);const entry_r4=ctx.$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2).selectCheckbox(entry_r4,$event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](8,"label",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](10,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](11,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](12,"th",17),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](13),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](14,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](15,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](16),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](17,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](18,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](19),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](20,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](21,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](22),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](23,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](24,ResourcePoliciesComponent_div_0_tr_91_td_24_Template,3,3,"td",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](25,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](26,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](27,ResourcePoliciesComponent_div_0_tr_91_td_27_Template,1,0,"td",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](28,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](29,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](30,ResourcePoliciesComponent_div_0_tr_91_td_30_Template,3,3,"td",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](31,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](32,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](33,ResourcePoliciesComponent_div_0_tr_91_td_33_Template,1,0,"td",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](34,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](35,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](36,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](37),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](38,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](39,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](40),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](41,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](42,"td",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](43,"\n\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](44,"div",18),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](45,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](46,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function ResourcePoliciesComponent_div_0_tr_91_Template_button_click_46_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r16);const entry_r4=ctx.$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2).redirectToResourcePolicyEditPage(entry_r4.policy)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](47,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](48,"\n              "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](49,"i",20),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](50,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](51,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](52,ResourcePoliciesComponent_div_0_tr_91_button_52_Template,5,3,"button",21),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](53,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](54,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](55,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](56,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const entry_r4=ctx.$implicit,ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("id",entry_r4.id)("ngModel",entry_r4.checked),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("for",entry_r4.id),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("\n          ",entry_r4.id,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](entry_r4.policy.name),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](entry_r4.policy.policyType),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](entry_r4.policy.action),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](25,15,ctx_r3.hasEPerson(entry_r4.policy))),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](28,17,ctx_r3.hasEPerson(entry_r4.policy))),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](31,19,ctx_r3.hasGroup(entry_r4.policy))),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](34,21,ctx_r3.hasGroup(entry_r4.policy))),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](ctx_r3.formatDate(entry_r4.policy.startDate)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](ctx_r3.formatDate(entry_r4.policy.endDate)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("title",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](47,23,"resource-policies.table.headers.edit.policy")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](53,25,ctx_r3.hasGroup(entry_r4.policy)))}}function ResourcePoliciesComponent_div_0_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"table",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](4,"thead"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](6,"tr"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](8,"th",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](10,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](11),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](12,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](13,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](14,"\n              "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](15,"button",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function ResourcePoliciesComponent_div_0_Template_button_click_15_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r19);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().deleteSelectedResourcePolicies()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](16,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](17,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](18,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](19,"\n                "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](20,ResourcePoliciesComponent_div_0_span_20_Template,5,3,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](21,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](22,"\n                "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](23,ResourcePoliciesComponent_div_0_span_23_Template,5,3,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](24,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](25,"\n              "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](26,"\n              "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](27,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function ResourcePoliciesComponent_div_0_Template_button_click_27_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r19);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().redirectToResourcePolicyCreatePage()})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](28,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](29,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](30,"\n                "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](31,"i",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](32),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](33,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](34,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](35,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](36,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](37,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](38,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](39,"tr",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](40,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](41,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](42,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](43,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](44,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](45,"input",11),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("change",(function ResourcePoliciesComponent_div_0_Template_input_change_45_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r19);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().selectAllCheckbox($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](46,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](47,"label",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](48,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](49,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](50,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](51,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](52),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](53,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](54,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](55,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](56),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](57,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](58,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](59,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](60),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](61,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](62,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](63,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](64),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](65,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](66,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](67,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](68),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](69,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](70,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](71,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](72),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](73,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](74,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](75,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](76),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](77,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](78,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](79,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](80),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](81,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](82,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](83,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](84),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](85,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](86,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](87,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](88,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](89,"tbody"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](90,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](91,ResourcePoliciesComponent_div_0_tr_91_Template,57,27,"tr",13),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](92,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](93,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](94,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](95,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](11),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate2"]("\n            ",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](12,21,"resource-policies.table.headers.title.for."+ctx_r0.resourceType)," ",ctx_r0.resourceUUID,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("disabled",!_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](16,23,ctx_r0.canDelete())||_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](17,25,ctx_r0.isProcessingDelete()))("title",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](18,27,"resource-policies.delete.btn.title")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](21,29,ctx_r0.isProcessingDelete())),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](24,31,ctx_r0.isProcessingDelete())),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("disabled",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](28,33,ctx_r0.isProcessingDelete()))("title",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](29,35,"resource-policies.add.for."+ctx_r0.resourceType)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("\n                ",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](33,37,"resource-policies.add.button"),"\n              "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](13),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("id","selectAll_"+ctx_r0.resourceUUID),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("for","selectAll_"+ctx_r0.resourceUUID),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](53,39,"resource-policies.table.headers.id")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](57,41,"resource-policies.table.headers.name")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](61,43,"resource-policies.table.headers.policyType")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](65,45,"resource-policies.table.headers.action")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](69,47,"resource-policies.table.headers.eperson")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](73,49,"resource-policies.table.headers.group")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](77,51,"resource-policies.table.headers.date.start")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](81,53,"resource-policies.table.headers.date.end")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](85,55,"resource-policies.table.headers.edit")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](92,57,ctx_r0.getResourcePolicies()))}}class ResourcePoliciesComponent{constructor(cdr,dsoNameService,ePersonService,groupService,notificationsService,requestService,resourcePolicyService,route,router,translate){this.cdr=cdr,this.dsoNameService=dsoNameService,this.ePersonService=ePersonService,this.groupService=groupService,this.notificationsService=notificationsService,this.requestService=requestService,this.resourcePolicyService=resourcePolicyService,this.route=route,this.router=router,this.translate=translate,this.processingDelete$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a(!1),this.resourcePoliciesEntries$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a([]),this.subs=[]}ngOnInit(){this.isActive=!0,this.initResourcePolicyLIst()}canDelete(){return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__.a)(this.resourcePoliciesEntries$.value).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)((entry=>entry.checked)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)(((acc,value)=>[...acc,value]),[]),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((entries=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_15__.e)(entries))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.a)())}deleteSelectedResourcePolicies(){this.processingDelete$.next(!0);const policiesToDelete=this.resourcePoliciesEntries$.value.filter((entry=>entry.checked));this.subs.push(Object(rxjs__WEBPACK_IMPORTED_MODULE_2__.a)(policiesToDelete).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.a)((entry=>this.resourcePolicyService.delete(entry.policy.id))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.a)(((acc,value)=>[...acc,value]),[]),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)((results=>results.length===policiesToDelete.length)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(1)).subscribe((results=>{const failureResults=results.filter((result=>!result));Object(_empty_util__WEBPACK_IMPORTED_MODULE_15__.d)(failureResults)?this.notificationsService.success(null,this.translate.get("resource-policies.delete.success.content")):this.notificationsService.error(null,this.translate.get("resource-policies.delete.failure.content")),this.requestService.setStaleByHrefSubstring(this.resourceUUID),this.processingDelete$.next(!1)})))}formatDate(date){return Object(_empty_util__WEBPACK_IMPORTED_MODULE_15__.e)(date)?Object(_date_util__WEBPACK_IMPORTED_MODULE_19__.b)(Object(_date_util__WEBPACK_IMPORTED_MODULE_19__.d)(date)):""}getEPersonName(policy){return policy.eperson.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)((()=>this.isActive)),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_12__.k)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((eperson=>this.dsoNameService.getName(eperson))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(""))}getGroupName(policy){return policy.group.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)((()=>this.isActive)),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_12__.k)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((group=>this.dsoNameService.getName(group))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(""))}getResourcePolicies(){return this.resourcePoliciesEntries$.asObservable()}hasEPerson(policy){return policy.eperson.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)((()=>this.isActive)),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_12__.j)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((eperson=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_15__.e)(eperson))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(!1))}hasGroup(policy){return policy.group.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)((()=>this.isActive)),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_12__.j)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((group=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_15__.e)(group))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(!1))}initResourcePolicyLIst(){this.subs.push(this.resourcePolicyService.searchByResource(this.resourceUUID,null,!1,!0,Object(_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_20__.a)("eperson"),Object(_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_20__.a)("group")).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)((()=>this.isActive)),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_12__.c)()).subscribe((result=>{const entries=result.payload.page.map((policy=>({id:policy.id,policy:policy,checked:!1})));this.resourcePoliciesEntries$.next(entries),this.cdr.detectChanges()})))}isProcessingDelete(){return this.processingDelete$.asObservable()}redirectToResourcePolicyCreatePage(){this.router.navigate(["./create"],{relativeTo:this.route,queryParams:{policyTargetId:this.resourceUUID,targetType:this.resourceType}})}redirectToResourcePolicyEditPage(policy){this.router.navigate(["./edit"],{relativeTo:this.route,queryParams:{policyId:policy.id}})}redirectToGroupEditPage(policy){this.subs.push(this.groupService.findByHref(policy._links.group.href,!1).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)((()=>this.isActive)),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_12__.j)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((group=>group.id))).subscribe((groupUUID=>{this.router.navigate([_app_routing_paths__WEBPACK_IMPORTED_MODULE_21__.a,_access_control_access_control_routing_paths__WEBPACK_IMPORTED_MODULE_22__.a,groupUUID])})))}selectAllCheckbox(event){const checked=event.target.checked;this.resourcePoliciesEntries$.value.forEach((entry=>entry.checked=checked))}selectCheckbox(policyEntry,checked){policyEntry.checked=checked}ngOnDestroy(){this.isActive=!1,this.resourcePoliciesEntries$=null,this.subs.filter((subscription=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_15__.b)(subscription))).forEach((subscription=>subscription.unsubscribe()))}}ResourcePoliciesComponent.\u0275fac=function ResourcePoliciesComponent_Factory(t){return new(t||ResourcePoliciesComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_13__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_eperson_eperson_data_service__WEBPACK_IMPORTED_MODULE_16__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_14__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_18__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_data_request_service__WEBPACK_IMPORTED_MODULE_17__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_resource_policy_resource_policy_service__WEBPACK_IMPORTED_MODULE_11__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_23__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_23__.g),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_24__.e))},ResourcePoliciesComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:ResourcePoliciesComponent,selectors:[["ds-resource-policies"]],inputs:{resourceUUID:"resourceUUID",resourceType:"resourceType"},decls:3,vars:3,consts:[["class","table-responsive",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","table-hover"],["colspan","10"],[1,"d-flex","justify-content-between","align-items-center","m-0"],[1,"btn","btn-danger","float-right","ml-1",3,"disabled","title","click"],[4,"ngIf"],[1,"btn","btn-success","float-right",3,"disabled","title","click"],[1,"fas","fa-plus"],[1,"text-center"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id","change"],[1,"custom-control-label",3,"for"],[4,"ngFor","ngForTrackById","ngForOf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-trash-alt","fa-fw"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","ngModelChange"],["scope","row"],[1,"btn-group","edit-field"],[1,"btn","btn-outline-primary","btn-sm",3,"title","click"],[1,"fas","fa-edit","fa-fw"],["class","btn btn-outline-primary btn-sm",3,"title","click",4,"ngIf"],[1,"fas","fa-users","fa-fw"]],template:function ResourcePoliciesComponent_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](0,ResourcePoliciesComponent_div_0_Template,96,59,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n")),2&rf){let tmp_0_0=null;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",(null==(tmp_0_0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,1,ctx.getResourcePolicies()))?null:tmp_0_0.length)>0)}},directives:[_angular_common__WEBPACK_IMPORTED_MODULE_25__.NgIf,_angular_common__WEBPACK_IMPORTED_MODULE_25__.NgForOf,_ng_for_track_by_id_directive__WEBPACK_IMPORTED_MODULE_26__.a,_angular_forms__WEBPACK_IMPORTED_MODULE_27__.CheckboxControlValueAccessor,_angular_forms__WEBPACK_IMPORTED_MODULE_27__.NgControlStatus,_angular_forms__WEBPACK_IMPORTED_MODULE_27__.NgModel],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_25__.AsyncPipe,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_24__.d],styles:["td[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{-webkit-box-shadow:none!important;box-shadow:none!important}"]})},"539a":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return EpersonGroupListComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2Vo4"),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("lJxs"),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("LvDl"),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("7DXY"),_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("J3qs"),_core_data_request_models__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("B/au"),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("C765"),_core_cache_builders_build_decorators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("zQ+x"),_core_eperson_models_eperson_resource_type__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("qFpP"),_core_eperson_models_group_resource_type__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("Rulr"),_animations_fade__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("mEo1"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("1QIV"),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("MFUF");function EpersonGroupListComponent_ds_eperson_search_box_2_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"ds-eperson-search-box",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("search",(function EpersonGroupListComponent_ds_eperson_search_box_2_Template_ds_eperson_search_box_search_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r4);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onSearch($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}}function EpersonGroupListComponent_ds_group_search_box_4_Template(rf,ctx){if(1&rf){const _r6=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"ds-group-search-box",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("search",(function EpersonGroupListComponent_ds_group_search_box_4_Template_ds_group_search_box_search_0_listener($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r6);return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().onSearch($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}}function EpersonGroupListComponent_ds_pagination_6_tr_27_Template(rf,ctx){if(1&rf){const _r10=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"tr"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](3,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](6,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](9,"td",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](10,"\n            "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](11,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click",(function EpersonGroupListComponent_ds_pagination_6_tr_27_Template_button_click_11_listener(){_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r10);const entry_r8=ctx.$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2).emitSelect(entry_r8)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](12),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](14,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](15,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()}if(2&rf){const entry_r8=ctx.$implicit,ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("table-primary",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,5,ctx_r7.isSelected(entry_r8))),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](entry_r8.id),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](ctx_r7.dsoNameService.getName(entry_r8)),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("\n              ",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](13,7,"resource-policies.form.eperson-group-list.select.btn"),"\n            ")}}function EpersonGroupListComponent_ds_pagination_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"ds-pagination",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2,"\n\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](3,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](5,"table",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](6,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](7,"thead"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](9,"tr",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](10,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](11,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](12),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](14,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](15,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](16),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](17,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](18,"\n          "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](19,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](20),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](21,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](22,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](23,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](24,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](25,"tbody"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](26,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](27,EpersonGroupListComponent_ds_pagination_6_tr_27_Template,16,9,"tr",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](28,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](29,"\n        "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](30,"\n      "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](31,"\n    "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](32,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();let tmp_1_0=null,tmp_7_0=null;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("paginationOptions",ctx_r2.paginationOptions)("collectionSize",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1,8,ctx_r2.getList()))||null==tmp_1_0.payload?null:tmp_1_0.payload.totalElements)("retainScrollPosition",!0)("hideGear",!0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](12),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](13,10,"resource-policies.form.eperson-group-list.table.headers.id")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](17,12,"resource-policies.form.eperson-group-list.table.headers.name")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](21,14,"resource-policies.form.eperson-group-list.table.headers.action")),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",null==(tmp_7_0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](28,16,ctx_r2.getList()))||null==tmp_7_0.payload?null:tmp_7_0.payload.page)}}class EpersonGroupListComponent{constructor(dsoNameService,parentInjector,paginationService){this.dsoNameService=dsoNameService,this.parentInjector=parentInjector,this.paginationService=paginationService,this.isListOfEPerson=!0,this.select=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.currentSearchQuery="",this.currentSearchScope="metadata",this.paginationOptions=new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_4__.a,this.list$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a({}),this.entrySelectedId=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a(""),this.subs=[]}ngOnInit(){const resourceType=this.isListOfEPerson?_core_eperson_models_eperson_resource_type__WEBPACK_IMPORTED_MODULE_9__.a:_core_eperson_models_group_resource_type__WEBPACK_IMPORTED_MODULE_10__.a,provider=Object(_core_cache_builders_build_decorators__WEBPACK_IMPORTED_MODULE_8__.f)(resourceType);this.dataService=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector.create({providers:[],parent:this.parentInjector}).get(provider),this.paginationOptions.id=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.uniqueId)("egl"),this.paginationOptions.pageSize=5,this.initSelected&&this.entrySelectedId.next(this.initSelected),this.updateList(this.currentSearchScope,this.currentSearchQuery)}emitSelect(entry){this.select.emit(entry),this.entrySelectedId.next(entry.id)}getList(){return this.list$.asObservable()}isSelected(entry){return this.entrySelectedId.asObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)((selectedId=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.e)(selectedId)&&selectedId===entry.id)))}onSearch(searchEvent){this.currentSearchQuery=searchEvent.query,this.currentSearchScope=searchEvent.scope,this.paginationService.resetPage(this.paginationOptions.id),this.updateList(this.currentSearchScope,this.currentSearchQuery)}updateList(scope,query){Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.b)(this.pageConfigSub)&&this.pageConfigSub.unsubscribe(),this.pageConfigSub=this.paginationService.getCurrentPagination(this.paginationOptions.id,this.paginationOptions).subscribe((paginationOptions=>{const options=Object.assign({},new _core_data_request_models__WEBPACK_IMPORTED_MODULE_6__.f,{elementsPerPage:paginationOptions.pageSize,currentPage:paginationOptions.currentPage}),search$=this.isListOfEPerson?this.dataService.searchByScope(scope,query,options):this.dataService.searchGroups(query,options);this.subs.push(search$.pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_12__.g)()).subscribe((list=>{Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.b)(this.list$)&&this.list$.next(list)})))}))}ngOnDestroy(){this.list$=null,this.subs.filter((subscription=>Object(_empty_util__WEBPACK_IMPORTED_MODULE_5__.b)(subscription))).forEach((subscription=>subscription.unsubscribe())),this.paginationService.clearPagination(this.paginationOptions.id)}}EpersonGroupListComponent.\u0275fac=function EpersonGroupListComponent_Factory(t){return new(t||EpersonGroupListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_7__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_13__.a))},EpersonGroupListComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:EpersonGroupListComponent,selectors:[["ds-eperson-group-list"]],inputs:{isListOfEPerson:"isListOfEPerson",initSelected:"initSelected"},outputs:{select:"select"},decls:10,vars:6,consts:[[1,"mt-3"],[3,"search",4,"ngIf"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear",4,"ngIf"],[3,"search"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear"],[1,"table-responsive"],["id","groups",1,"table","table-sm","table-striped","table-hover","table-bordered"],[1,"text-center"],[3,"table-primary",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:function EpersonGroupListComponent_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2,EpersonGroupListComponent_ds_eperson_search_box_2_Template,1,0,"ds-eperson-search-box",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](4,EpersonGroupListComponent_ds_group_search_box_4_Template,1,0,"ds-group-search-box",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](6,EpersonGroupListComponent_ds_pagination_6_Template,33,18,"ds-pagination",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](9,"\n")),2&rf){let tmp_2_0=null;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("@fadeInOut",void 0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.isListOfEPerson),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",!ctx.isListOfEPerson),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",(null==(tmp_2_0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](7,4,ctx.getList()))||null==tmp_2_0.payload?null:tmp_2_0.payload.totalElements)>0)}},styles:[""],data:{animation:[_animations_fade__WEBPACK_IMPORTED_MODULE_11__.c]}})},ALMP:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ResourcePolicyEditComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2Vo4"),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("IzEk"),_core_resource_policy_resource_policy_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("8a3C"),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("lI3o"),_core_resource_policy_models_resource_policy_resource_type__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("TLL5"),_item_page_edit_item_page_edit_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("jrTz"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("1QIV"),_angular_router__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("tyNb"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("sYmb"),_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("O/Ly");class ResourcePolicyEditComponent{constructor(notificationsService,resourcePolicyService,route,router,translate){this.notificationsService=notificationsService,this.resourcePolicyService=resourcePolicyService,this.route=route,this.router=router,this.translate=translate,this.processing$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a(!1)}ngOnInit(){this.route.data.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)((data=>data)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(1)).subscribe((data=>{this.resourcePolicy=data.resourcePolicy.payload}))}isProcessing(){return this.processing$.asObservable()}redirectToAuthorizationsPage(){this.router.navigate([`../../${_item_page_edit_item_page_edit_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__.a}`],{relativeTo:this.route})}updateResourcePolicy(event){this.processing$.next(!0);const updatedObject=Object.assign({},event.object,{id:this.resourcePolicy.id,type:_core_resource_policy_models_resource_policy_resource_type__WEBPACK_IMPORTED_MODULE_6__.a.value,_links:this.resourcePolicy._links});this.resourcePolicyService.update(updatedObject).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_8__.g)()).subscribe((responseRD=>{this.processing$.next(!1),responseRD&&responseRD.hasSucceeded?(this.notificationsService.success(null,this.translate.get("resource-policies.edit.page.success.content")),this.redirectToAuthorizationsPage()):this.notificationsService.error(null,this.translate.get("resource-policies.edit.page.failure.content"))}))}}ResourcePolicyEditComponent.\u0275fac=function ResourcePolicyEditComponent_Factory(t){return new(t||ResourcePolicyEditComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_5__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_resource_policy_resource_policy_service__WEBPACK_IMPORTED_MODULE_4__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_9__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_9__.g),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.e))},ResourcePolicyEditComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:ResourcePolicyEditComponent,selectors:[["ds-resource-policy-edit"]],decls:9,vars:6,consts:[[1,"container"],[1,"mb-3"],[3,"resourcePolicy","isProcessing","reset","submit"]],template:function ResourcePolicyEditComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](6,"ds-resource-policy-form",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("reset",(function ResourcePolicyEditComponent_Template_ds_resource_policy_form_reset_6_listener(){return ctx.redirectToAuthorizationsPage()}))("submit",(function ResourcePolicyEditComponent_Template_ds_resource_policy_form_submit_6_listener($event){return ctx.updateResourcePolicy($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate2"]("",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](4,4,"resource-policies.edit.page.heading")," ",ctx.resourcePolicy.id,""),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("resourcePolicy",ctx.resourcePolicy)("isProcessing",ctx.isProcessing()))},directives:[_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_11__.a],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.d],encapsulation:2})},EEUA:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ResourcePolicyCreateComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2Vo4"),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("IzEk"),_core_resource_policy_resource_policy_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("8a3C"),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("lI3o"),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("C765"),_item_page_edit_item_page_edit_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("jrTz"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("1QIV"),_angular_router__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("tyNb"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("sYmb"),_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("O/Ly");class ResourcePolicyCreateComponent{constructor(dsoNameService,notificationsService,resourcePolicyService,route,router,translate){this.dsoNameService=dsoNameService,this.notificationsService=notificationsService,this.resourcePolicyService=resourcePolicyService,this.route=route,this.router=router,this.translate=translate,this.processing$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a(!1)}ngOnInit(){this.route.data.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)((data=>data)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(1)).subscribe((data=>{this.targetResourceUUID=data.resourcePolicyTarget.payload.id,this.targetResourceName=this.dsoNameService.getName(data.resourcePolicyTarget.payload)}))}isProcessing(){return this.processing$.asObservable()}redirectToAuthorizationsPage(){this.router.navigate([`../../${_item_page_edit_item_page_edit_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__.a}`],{relativeTo:this.route})}createResourcePolicy(event){let response$;this.processing$.next(!0),response$="eperson"===event.target.type?this.resourcePolicyService.create(event.object,this.targetResourceUUID,event.target.uuid):this.resourcePolicyService.create(event.object,this.targetResourceUUID,null,event.target.uuid),response$.pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_8__.g)()).subscribe((responseRD=>{this.processing$.next(!1),responseRD.hasSucceeded?(this.notificationsService.success(null,this.translate.get("resource-policies.create.page.success.content")),this.redirectToAuthorizationsPage()):this.notificationsService.error(null,this.translate.get("resource-policies.create.page.failure.content"))}))}}ResourcePolicyCreateComponent.\u0275fac=function ResourcePolicyCreateComponent_Factory(t){return new(t||ResourcePolicyCreateComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_6__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_5__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_core_resource_policy_resource_policy_service__WEBPACK_IMPORTED_MODULE_4__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_9__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_9__.g),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.e))},ResourcePolicyCreateComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:ResourcePolicyCreateComponent,selectors:[["ds-resource-policy-create"]],decls:9,vars:5,consts:[[1,"container"],[1,"mb-3"],[3,"isProcessing","reset","submit"]],template:function ResourcePolicyCreateComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5,"\n\n  "),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](6,"ds-resource-policy-form",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("reset",(function ResourcePolicyCreateComponent_Template_ds_resource_policy_form_reset_6_listener(){return ctx.redirectToAuthorizationsPage()}))("submit",(function ResourcePolicyCreateComponent_Template_ds_resource_policy_form_submit_6_listener($event){return ctx.createResourcePolicy($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](7,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8,"\n")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate2"]("",_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](4,3,"resource-policies.create.page.heading")," ",ctx.targetResourceName,""),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("isProcessing",ctx.isProcessing()))},directives:[_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_11__.a],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.d],encapsulation:2})},G5zm:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ResourcePolicyResolver}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_empty_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("J3qs"),_core_resource_policy_resource_policy_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("8a3C"),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("84Zn"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("1QIV"),_angular_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("tyNb");class ResourcePolicyResolver{constructor(resourcePolicyService,router){this.resourcePolicyService=resourcePolicyService,this.router=router}resolve(route,state){const policyId=route.queryParamMap.get("policyId");return Object(_empty_util__WEBPACK_IMPORTED_MODULE_1__.d)(policyId)&&this.router.navigateByUrl("/404",{skipLocationChange:!0}),this.resourcePolicyService.findById(policyId,!0,!1,Object(_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.a)("eperson"),Object(_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.a)("group")).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.g)())}}ResourcePolicyResolver.\u0275fac=function ResourcePolicyResolver_Factory(t){return new(t||ResourcePolicyResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"](_core_resource_policy_resource_policy_service__WEBPACK_IMPORTED_MODULE_2__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"](_angular_router__WEBPACK_IMPORTED_MODULE_5__.g))},ResourcePolicyResolver.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineInjectable"]({token:ResourcePolicyResolver,factory:ResourcePolicyResolver.\u0275fac})},GFj5:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ResourcePoliciesModule}));var core=__webpack_require__("fXoL"),common=__webpack_require__("ofXK"),ngx_translate_core=__webpack_require__("sYmb"),resource_policies_component=__webpack_require__("+Bs4"),resource_policy_form_component=__webpack_require__("O/Ly"),resource_policy_edit_component=__webpack_require__("ALMP"),resource_policy_create_component=__webpack_require__("EEUA"),form_module=__webpack_require__("kcqd"),resource_policy_resolver=__webpack_require__("G5zm"),resource_policy_target_resolver=__webpack_require__("n1Qy"),eperson_group_list_component=__webpack_require__("539a"),fesm2015_forms=__webpack_require__("3Pt+");class group_search_box_component_GroupSearchBoxComponent{constructor(formBuilder){this.formBuilder=formBuilder,this.labelPrefix="admin.access-control.groups.",this.subs=[],this.search=new core.EventEmitter,this.searchForm=this.formBuilder.group({query:""})}reset(){this.searchForm=this.formBuilder.group({query:""})}submit(data){const event={scope:"",query:data.query};this.search.emit(event)}}group_search_box_component_GroupSearchBoxComponent.\u0275fac=function GroupSearchBoxComponent_Factory(t){return new(t||group_search_box_component_GroupSearchBoxComponent)(core["\u0275\u0275directiveInject"](fesm2015_forms.FormBuilder))},group_search_box_component_GroupSearchBoxComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:group_search_box_component_GroupSearchBoxComponent,selectors:[["ds-group-search-box"]],outputs:{search:"search"},decls:27,vars:7,consts:[[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function GroupSearchBoxComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"form",0),core["\u0275\u0275listener"]("ngSubmit",(function GroupSearchBoxComponent_Template_form_ngSubmit_0_listener($event){return ctx.submit(ctx.searchForm.value),$event.stopImmediatePropagation()})),core["\u0275\u0275text"](1,"\n  "),core["\u0275\u0275elementStart"](2,"div",1),core["\u0275\u0275text"](3,"\n    "),core["\u0275\u0275elementStart"](4,"div",2),core["\u0275\u0275text"](5,"\n      "),core["\u0275\u0275element"](6,"input",3),core["\u0275\u0275text"](7,"\n      "),core["\u0275\u0275elementStart"](8,"span",4),core["\u0275\u0275text"](9,"\n        "),core["\u0275\u0275elementStart"](10,"button",5),core["\u0275\u0275text"](11,"\n          "),core["\u0275\u0275element"](12,"i",6),core["\u0275\u0275text"](13),core["\u0275\u0275pipe"](14,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](15,"\n      "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](16,"\n    "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](17,"\n  "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](18,"\n  "),core["\u0275\u0275elementStart"](19,"div"),core["\u0275\u0275text"](20,"\n    "),core["\u0275\u0275elementStart"](21,"button",7),core["\u0275\u0275listener"]("click",(function GroupSearchBoxComponent_Template_button_click_21_listener(){return ctx.submit(null),ctx.reset()})),core["\u0275\u0275text"](22),core["\u0275\u0275pipe"](23,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](24,"\n  "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](25,"\n"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](26,"\n")),2&rf&&(core["\u0275\u0275property"]("formGroup",ctx.searchForm),core["\u0275\u0275advance"](13),core["\u0275\u0275textInterpolate1"](" ",core["\u0275\u0275pipeBind1"](14,3,ctx.labelPrefix+"search.button"),"\n        "),core["\u0275\u0275advance"](9),core["\u0275\u0275textInterpolate1"]("\n      ",core["\u0275\u0275pipeBind1"](23,5,ctx.labelPrefix+"button.see-all"),"\n    "))},directives:[fesm2015_forms["\u0275angular_packages_forms_forms_ba"],fesm2015_forms.NgControlStatusGroup,fesm2015_forms.FormGroupDirective,fesm2015_forms.DefaultValueAccessor,fesm2015_forms.NgControlStatus,fesm2015_forms.FormControlName],pipes:[ngx_translate_core.d],encapsulation:2});var empty_util=__webpack_require__("J3qs");class eperson_search_box_component_EpersonSearchBoxComponent{constructor(formBuilder){this.formBuilder=formBuilder,this.labelPrefix="admin.access-control.epeople.",this.subs=[],this.search=new core.EventEmitter,this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}reset(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}submit(data){const event={scope:Object(empty_util.g)(data)?data.scope:"metadata",query:Object(empty_util.g)(data)?data.query:""};this.search.emit(event)}}eperson_search_box_component_EpersonSearchBoxComponent.\u0275fac=function EpersonSearchBoxComponent_Factory(t){return new(t||eperson_search_box_component_EpersonSearchBoxComponent)(core["\u0275\u0275directiveInject"](fesm2015_forms.FormBuilder))},eperson_search_box_component_EpersonSearchBoxComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:eperson_search_box_component_EpersonSearchBoxComponent,selectors:[["ds-eperson-search-box"]],outputs:{search:"search"},decls:41,vars:13,consts:[[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],["name","scope","id","scope","formControlName","scope","aria-label","Search scope",1,"form-control"],["value","metadata"],["value","email"],[1,"flex-grow-1","mr-3","ml-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function EpersonSearchBoxComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"form",0),core["\u0275\u0275listener"]("ngSubmit",(function EpersonSearchBoxComponent_Template_form_ngSubmit_0_listener($event){return ctx.submit(ctx.searchForm.value),$event.stopImmediatePropagation()})),core["\u0275\u0275text"](1,"\n  "),core["\u0275\u0275elementStart"](2,"div"),core["\u0275\u0275text"](3,"\n    "),core["\u0275\u0275elementStart"](4,"select",1),core["\u0275\u0275text"](5,"\n      "),core["\u0275\u0275elementStart"](6,"option",2),core["\u0275\u0275text"](7),core["\u0275\u0275pipe"](8,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](9,"\n      "),core["\u0275\u0275elementStart"](10,"option",3),core["\u0275\u0275text"](11),core["\u0275\u0275pipe"](12,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](13,"\n    "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](14,"\n  "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](15,"\n  "),core["\u0275\u0275elementStart"](16,"div",4),core["\u0275\u0275text"](17,"\n    "),core["\u0275\u0275elementStart"](18,"div",5),core["\u0275\u0275text"](19,"\n      "),core["\u0275\u0275element"](20,"input",6),core["\u0275\u0275text"](21,"\n      "),core["\u0275\u0275elementStart"](22,"span",7),core["\u0275\u0275text"](23,"\n        "),core["\u0275\u0275elementStart"](24,"button",8),core["\u0275\u0275text"](25,"\n          "),core["\u0275\u0275element"](26,"i",9),core["\u0275\u0275text"](27),core["\u0275\u0275pipe"](28,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](29,"\n      "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](30,"\n    "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](31,"\n  "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](32,"\n  "),core["\u0275\u0275elementStart"](33,"div"),core["\u0275\u0275text"](34,"\n    "),core["\u0275\u0275elementStart"](35,"button",10),core["\u0275\u0275listener"]("click",(function EpersonSearchBoxComponent_Template_button_click_35_listener(){return ctx.submit(null),ctx.reset()})),core["\u0275\u0275text"](36),core["\u0275\u0275pipe"](37,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](38,"\n  "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](39,"\n"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](40,"\n")),2&rf&&(core["\u0275\u0275property"]("formGroup",ctx.searchForm),core["\u0275\u0275advance"](7),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](8,5,ctx.labelPrefix+"search.scope.metadata")),core["\u0275\u0275advance"](4),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](12,7,ctx.labelPrefix+"search.scope.email")),core["\u0275\u0275advance"](16),core["\u0275\u0275textInterpolate1"](" ",core["\u0275\u0275pipeBind1"](28,9,ctx.labelPrefix+"search.button"),"\n        "),core["\u0275\u0275advance"](9),core["\u0275\u0275textInterpolate1"]("\n      ",core["\u0275\u0275pipeBind1"](37,11,ctx.labelPrefix+"button.see-all"),"\n    "))},directives:[fesm2015_forms["\u0275angular_packages_forms_forms_ba"],fesm2015_forms.NgControlStatusGroup,fesm2015_forms.FormGroupDirective,fesm2015_forms.SelectControlValueAccessor,fesm2015_forms.NgControlStatus,fesm2015_forms.FormControlName,fesm2015_forms.NgSelectOption,fesm2015_forms["\u0275angular_packages_forms_forms_z"],fesm2015_forms.DefaultValueAccessor],pipes:[ngx_translate_core.d],encapsulation:2});var ng_bootstrap=__webpack_require__("1kSV"),shared_module=__webpack_require__("PCNd"),pagination_component=__webpack_require__("Exvd");resource_policies_component.a,resource_policy_form_component.a,resource_policy_edit_component.a,resource_policy_create_component.a,eperson_group_list_component.a;const PROVIDERS=[resource_policy_resolver.a,resource_policy_target_resolver.a];class ResourcePoliciesModule{}ResourcePoliciesModule.\u0275fac=function ResourcePoliciesModule_Factory(t){return new(t||ResourcePoliciesModule)},ResourcePoliciesModule.\u0275mod=core["\u0275\u0275defineNgModule"]({type:ResourcePoliciesModule}),ResourcePoliciesModule.\u0275inj=core["\u0275\u0275defineInjector"]({providers:[...PROVIDERS],imports:[[ng_bootstrap.s,common.CommonModule,form_module.a,ngx_translate_core.c,shared_module.a]]}),core["\u0275\u0275setComponentScope"](eperson_group_list_component.a,[common.NgIf,eperson_search_box_component_EpersonSearchBoxComponent,group_search_box_component_GroupSearchBoxComponent,pagination_component.a,common.NgForOf],[common.AsyncPipe,ngx_translate_core.d])},"O/Ly":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return resource_policy_form_component_ResourcePolicyFormComponent}));var core=__webpack_require__("fXoL"),of=__webpack_require__("LRne"),BehaviorSubject=__webpack_require__("2Vo4"),combineLatest=__webpack_require__("itXk"),map=__webpack_require__("lJxs"),filter=__webpack_require__("pLZG"),take=__webpack_require__("IzEk"),fesm2015_core=__webpack_require__("e+Av"),resource_policy_model=__webpack_require__("szIk"),ds_dynamic_input_model=__webpack_require__("JGHn"),policy_type_model=__webpack_require__("199z"),action_type_model=__webpack_require__("+Rck");const policyTypeList=[{label:policy_type_model.a.TYPE_SUBMISSION,value:policy_type_model.a.TYPE_SUBMISSION},{label:policy_type_model.a.TYPE_WORKFLOW,value:policy_type_model.a.TYPE_WORKFLOW},{label:policy_type_model.a.TYPE_INHERITED,value:policy_type_model.a.TYPE_INHERITED},{label:policy_type_model.a.TYPE_CUSTOM,value:policy_type_model.a.TYPE_CUSTOM}],policyActionList=[{label:action_type_model.a.READ.toString(),value:action_type_model.a.READ},{label:action_type_model.a.WRITE.toString(),value:action_type_model.a.WRITE},{label:action_type_model.a.REMOVE.toString(),value:action_type_model.a.REMOVE},{label:action_type_model.a.ADMIN.toString(),value:action_type_model.a.ADMIN},{label:action_type_model.a.DELETE.toString(),value:action_type_model.a.DELETE},{label:action_type_model.a.WITHDRAWN_READ.toString(),value:action_type_model.a.WITHDRAWN_READ},{label:action_type_model.a.DEFAULT_BITSTREAM_READ.toString(),value:action_type_model.a.DEFAULT_BITSTREAM_READ},{label:action_type_model.a.DEFAULT_ITEM_READ.toString(),value:action_type_model.a.DEFAULT_ITEM_READ}],RESOURCE_POLICY_FORM_NAME_CONFIG={id:"name",label:"resource-policies.form.name.label",metadataFields:[],repeatable:!1,submissionId:"",hasSelectableMetadata:!1},RESOURCE_POLICY_FORM_DESCRIPTION_CONFIG={id:"description",label:"resource-policies.form.description.label",metadataFields:[],repeatable:!1,rows:10,submissionId:"",hasSelectableMetadata:!1},RESOURCE_POLICY_FORM_POLICY_TYPE_CONFIG={id:"policyType",label:"resource-policies.form.policy-type.label",options:policyTypeList,required:!0,validators:{required:null},errorMessages:{required:"resource-policies.form.policy-type.required"}},RESOURCE_POLICY_FORM_ACTION_TYPE_CONFIG={id:"action",label:"resource-policies.form.action-type.label",options:policyActionList,required:!0,validators:{required:null},errorMessages:{required:"resource-policies.form.action-type.required"}},RESOURCE_POLICY_FORM_DATE_GROUP_CONFIG={id:"date",group:[]},RESOURCE_POLICY_FORM_DATE_GROUP_LAYOUT={element:{control:"form-row"}},RESOURCE_POLICY_FORM_START_DATE_CONFIG={id:"start",label:"resource-policies.form.date.start.label",placeholder:"resource-policies.form.date.start.label",inline:!1,toggleIcon:"far fa-calendar-alt"},RESOURCE_POLICY_FORM_START_DATE_LAYOUT={element:{container:"p-0",label:"col-form-label"},grid:{host:"col-md-6"}},RESOURCE_POLICY_FORM_END_DATE_CONFIG={id:"end",label:"resource-policies.form.date.end.label",placeholder:"resource-policies.form.date.end.label",inline:!1,toggleIcon:"far fa-calendar-alt"},RESOURCE_POLICY_FORM_END_DATE_LAYOUT={element:{container:"p-0",label:"col-form-label"},grid:{host:"col-md-6"}};var ds_dynamic_textarea_model=__webpack_require__("c/qf"),dso_name_service=__webpack_require__("C765"),empty_util=__webpack_require__("J3qs"),form_service=__webpack_require__("NFsL"),resource_policy_resource_type=__webpack_require__("TLL5"),date_util=__webpack_require__("fM99"),eperson_data_service=__webpack_require__("wLgS"),group_data_service=__webpack_require__("YIpg"),operators=__webpack_require__("1QIV"),request_service=__webpack_require__("X/78"),common=__webpack_require__("ofXK"),form_component=__webpack_require__("hqmO"),ng_bootstrap=__webpack_require__("1kSV"),eperson_group_list_component=__webpack_require__("539a"),ngx_translate_core=__webpack_require__("sYmb");function ResourcePolicyFormComponent_ds_form_2_Template(rf,ctx){if(1&rf&&core["\u0275\u0275element"](0,"ds-form",9,10),2&rf){const ctx_r0=core["\u0275\u0275nextContext"]();core["\u0275\u0275property"]("formId",ctx_r0.formId)("formModel",ctx_r0.formModel)("displaySubmit",!1)("displayCancel",!1)}}function ResourcePolicyFormComponent_ng_container_13_ng_template_11_Template(rf,ctx){if(1&rf){const _r9=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275text"](0,"\n            "),core["\u0275\u0275elementStart"](1,"ds-eperson-group-list",17),core["\u0275\u0275listener"]("select",(function ResourcePolicyFormComponent_ng_container_13_ng_template_11_Template_ds_eperson_group_list_select_1_listener($event){core["\u0275\u0275restoreView"](_r9);return core["\u0275\u0275nextContext"](2).updateObjectSelected($event,!0)})),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](2,"\n          ")}}function ResourcePolicyFormComponent_ng_container_13_ng_template_20_Template(rf,ctx){if(1&rf){const _r11=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275text"](0,"\n            "),core["\u0275\u0275elementStart"](1,"ds-eperson-group-list",18),core["\u0275\u0275listener"]("select",(function ResourcePolicyFormComponent_ng_container_13_ng_template_20_Template_ds_eperson_group_list_select_1_listener($event){core["\u0275\u0275restoreView"](_r11);return core["\u0275\u0275nextContext"](2).updateObjectSelected($event,!1)})),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](2,"\n          ")}2&rf&&(core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("isListOfEPerson",!1))}function ResourcePolicyFormComponent_ng_container_13_Template(rf,ctx){if(1&rf&&(core["\u0275\u0275elementContainerStart"](0),core["\u0275\u0275text"](1,"\n      "),core["\u0275\u0275elementStart"](2,"ul",11,12),core["\u0275\u0275text"](4,"\n        "),core["\u0275\u0275elementStart"](5,"li",13),core["\u0275\u0275text"](6,"\n          "),core["\u0275\u0275elementStart"](7,"a",14),core["\u0275\u0275text"](8),core["\u0275\u0275pipe"](9,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](10,"\n          "),core["\u0275\u0275template"](11,ResourcePolicyFormComponent_ng_container_13_ng_template_11_Template,3,0,"ng-template",15),core["\u0275\u0275text"](12,"\n        "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](13,"\n        "),core["\u0275\u0275elementStart"](14,"li",13),core["\u0275\u0275text"](15,"\n          "),core["\u0275\u0275elementStart"](16,"a",14),core["\u0275\u0275text"](17),core["\u0275\u0275pipe"](18,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](19,"\n          "),core["\u0275\u0275template"](20,ResourcePolicyFormComponent_ng_container_13_ng_template_20_Template,3,1,"ng-template",15),core["\u0275\u0275text"](21,"\n        "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](22,"\n      "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](23,"\n      "),core["\u0275\u0275element"](24,"div",16),core["\u0275\u0275text"](25,"\n    "),core["\u0275\u0275elementContainerEnd"]()),2&rf){const _r5=core["\u0275\u0275reference"](3);core["\u0275\u0275advance"](8),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](9,3,"resource-policies.form.eperson-group-list.tab.eperson")),core["\u0275\u0275advance"](9),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](18,5,"resource-policies.form.eperson-group-list.tab.group")),core["\u0275\u0275advance"](7),core["\u0275\u0275property"]("ngbNavOutlet",_r5)}}function ResourcePolicyFormComponent_span_32_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"span"),core["\u0275\u0275text"](1,"\n                  "),core["\u0275\u0275element"](2,"i",19),core["\u0275\u0275text"](3),core["\u0275\u0275pipe"](4,"translate"),core["\u0275\u0275elementEnd"]()),2&rf&&(core["\u0275\u0275advance"](3),core["\u0275\u0275textInterpolate1"](" ",core["\u0275\u0275pipeBind1"](4,1,"submission.workflow.tasks.generic.processing"),"\n                "))}function ResourcePolicyFormComponent_span_35_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"span"),core["\u0275\u0275text"](1),core["\u0275\u0275pipe"](2,"translate"),core["\u0275\u0275elementEnd"]()),2&rf&&(core["\u0275\u0275advance"](1),core["\u0275\u0275textInterpolate1"]("\n                  ",core["\u0275\u0275pipeBind1"](2,1,"form.submit"),"\n                "))}class resource_policy_form_component_ResourcePolicyFormComponent{constructor(dsoNameService,ePersonService,formService,groupService,requestService){this.dsoNameService=dsoNameService,this.ePersonService=ePersonService,this.formService=formService,this.groupService=groupService,this.requestService=requestService,this.isProcessing=Object(of.a)(!1),this.reset=new core.EventEmitter,this.submit=new core.EventEmitter,this.resourcePolicyTargetName$=new BehaviorSubject.a(""),this.subs=[]}ngOnInit(){if(this.isActive=!0,this.formId=this.formService.getUniqueId("resource-policy-form"),this.formModel=this.buildResourcePolicyForm(),!this.canSetGrant()){const epersonRD$=this.ePersonService.findByHref(this.resourcePolicy._links.eperson.href,!1).pipe(Object(operators.i)()),groupRD$=this.groupService.findByHref(this.resourcePolicy._links.group.href,!1).pipe(Object(operators.i)()),dsoRD$=Object(combineLatest.a)([epersonRD$,groupRD$]).pipe(Object(map.a)((rdArr=>rdArr.find((rd=>Object(empty_util.e)(rd.payload))))),Object(empty_util.c)());this.subs.push(dsoRD$.pipe(Object(filter.a)((()=>this.isActive))).subscribe((dsoRD=>{this.resourcePolicyGrant=dsoRD.payload,this.resourcePolicyTargetName$.next(this.getResourcePolicyTargetName())})))}}isFormValid(){return this.formService.isValid(this.formId).pipe(Object(map.a)((isValid=>isValid&&Object(empty_util.e)(this.resourcePolicyGrant))))}buildResourcePolicyForm(){const formModel=[],policyTypeConf=Object.assign({},RESOURCE_POLICY_FORM_POLICY_TYPE_CONFIG,{disabled:Object(empty_util.e)(this.resourcePolicy)}),actionConf=Object.assign({},RESOURCE_POLICY_FORM_ACTION_TYPE_CONFIG,{disabled:Object(empty_util.e)(this.resourcePolicy)});formModel.push(new ds_dynamic_input_model.a(RESOURCE_POLICY_FORM_NAME_CONFIG),new ds_dynamic_textarea_model.a(RESOURCE_POLICY_FORM_DESCRIPTION_CONFIG),new fesm2015_core.N(policyTypeConf),new fesm2015_core.N(actionConf));const startDateModel=new fesm2015_core.t(RESOURCE_POLICY_FORM_START_DATE_CONFIG,RESOURCE_POLICY_FORM_START_DATE_LAYOUT),endDateModel=new fesm2015_core.t(RESOURCE_POLICY_FORM_END_DATE_CONFIG,RESOURCE_POLICY_FORM_END_DATE_LAYOUT),dateGroupConfig=Object.assign({},RESOURCE_POLICY_FORM_DATE_GROUP_CONFIG,{group:[]});return dateGroupConfig.group.push(startDateModel,endDateModel),formModel.push(new fesm2015_core.D(dateGroupConfig,RESOURCE_POLICY_FORM_DATE_GROUP_LAYOUT)),this.initModelsValue(formModel),formModel}initModelsValue(formModel){return this.resourcePolicy&&formModel.forEach((model=>{"date"===model.id?(Object(empty_util.b)(this.resourcePolicy.startDate)&&(model.get(0).value=Object(date_util.d)(this.resourcePolicy.startDate)),Object(empty_util.b)(this.resourcePolicy.endDate)&&(model.get(1).value=Object(date_util.d)(this.resourcePolicy.endDate))):this.resourcePolicy.hasOwnProperty(model.id)&&this.resourcePolicy[model.id]&&(model.value=this.resourcePolicy[model.id])})),formModel}canSetGrant(){return Object(empty_util.d)(this.resourcePolicy)}getResourcePolicyTargetName(){return Object(empty_util.e)(this.resourcePolicyGrant)?this.dsoNameService.getName(this.resourcePolicyGrant):""}updateObjectSelected(object,isEPerson){this.resourcePolicyGrant=object,this.resourcePolicyGrantType=isEPerson?"eperson":"group"}onReset(){this.reset.emit()}onSubmit(){this.formService.getFormData(this.formId).pipe(Object(take.a)(1)).subscribe((data=>{const eventPayload=Object.create({});eventPayload.object=this.createResourcePolicyByFormData(data),eventPayload.target={type:this.resourcePolicyGrantType,uuid:this.resourcePolicyGrant.id},this.submit.emit(eventPayload)}))}createResourcePolicyByFormData(data){const resourcePolicy=new resource_policy_model.a;return resourcePolicy.name=data.name?data.name[0].value:null,resourcePolicy.description=data.description?data.description[0].value:null,resourcePolicy.policyType=data.policyType?data.policyType[0].value:null,resourcePolicy.action=data.action?data.action[0].value:null,resourcePolicy.startDate=data.date&&data.date.start?Object(date_util.a)(data.date.start[0].value):null,resourcePolicy.endDate=data.date&&data.date.end?Object(date_util.a)(data.date.end[0].value):null,resourcePolicy.type=resource_policy_resource_type.a,resourcePolicy}ngOnDestroy(){this.isActive=!1,this.formModel=null,this.subs.filter((subscription=>Object(empty_util.b)(subscription))).forEach((subscription=>subscription.unsubscribe()))}}resource_policy_form_component_ResourcePolicyFormComponent.\u0275fac=function ResourcePolicyFormComponent_Factory(t){return new(t||resource_policy_form_component_ResourcePolicyFormComponent)(core["\u0275\u0275directiveInject"](dso_name_service.a),core["\u0275\u0275directiveInject"](eperson_data_service.a),core["\u0275\u0275directiveInject"](form_service.a),core["\u0275\u0275directiveInject"](group_data_service.a),core["\u0275\u0275directiveInject"](request_service.a))},resource_policy_form_component_ResourcePolicyFormComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:resource_policy_form_component_ResourcePolicyFormComponent,selectors:[["ds-resource-policy-form"]],inputs:{resourcePolicy:"resourcePolicy",isProcessing:"isProcessing"},outputs:{reset:"reset",submit:"submit"},decls:44,vars:25,consts:[[3,"formId","formModel","displaySubmit","displayCancel",4,"ngIf"],[1,"container-fluid"],["for","ResourcePolicyObject"],["id","ResourcePolicyObject","type","text","readonly","",1,"form-control","mb-3",3,"value"],[4,"ngIf"],[1,"form-group","row"],[1,"col","text-right"],["type","reset",1,"btn","btn-default",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"formId","formModel","displaySubmit","displayCancel"],["formRef","formComponent"],["ngbNav","",1,"nav-pills"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[3,"select"],[3,"isListOfEPerson","select"],[1,"fas","fa-circle-notch","fa-spin"]],template:function ResourcePolicyFormComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"div"),core["\u0275\u0275text"](1,"\n  "),core["\u0275\u0275template"](2,ResourcePolicyFormComponent_ds_form_2_Template,2,4,"ds-form",0),core["\u0275\u0275text"](3,"\n  "),core["\u0275\u0275elementStart"](4,"div",1),core["\u0275\u0275text"](5,"\n    "),core["\u0275\u0275elementStart"](6,"label",2),core["\u0275\u0275text"](7),core["\u0275\u0275pipe"](8,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](9,"\n    "),core["\u0275\u0275element"](10,"input",3),core["\u0275\u0275pipe"](11,"async"),core["\u0275\u0275text"](12,"\n    "),core["\u0275\u0275template"](13,ResourcePolicyFormComponent_ng_container_13_Template,26,7,"ng-container",4),core["\u0275\u0275text"](14,"\n    "),core["\u0275\u0275elementStart"](15,"div"),core["\u0275\u0275text"](16,"\n      "),core["\u0275\u0275element"](17,"hr"),core["\u0275\u0275text"](18,"\n      "),core["\u0275\u0275elementStart"](19,"div",5),core["\u0275\u0275text"](20,"\n\n        "),core["\u0275\u0275elementStart"](21,"div",6),core["\u0275\u0275text"](22,"\n          "),core["\u0275\u0275elementStart"](23,"button",7),core["\u0275\u0275listener"]("click",(function ResourcePolicyFormComponent_Template_button_click_23_listener(){return ctx.onReset()})),core["\u0275\u0275pipe"](24,"async"),core["\u0275\u0275text"](25),core["\u0275\u0275pipe"](26,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](27,"\n          "),core["\u0275\u0275elementStart"](28,"button",8),core["\u0275\u0275listener"]("click",(function ResourcePolicyFormComponent_Template_button_click_28_listener(){return ctx.onSubmit()})),core["\u0275\u0275pipe"](29,"async"),core["\u0275\u0275pipe"](30,"async"),core["\u0275\u0275text"](31,"\n            "),core["\u0275\u0275template"](32,ResourcePolicyFormComponent_span_32_Template,5,3,"span",4),core["\u0275\u0275pipe"](33,"async"),core["\u0275\u0275text"](34,"\n            "),core["\u0275\u0275template"](35,ResourcePolicyFormComponent_span_35_Template,3,3,"span",4),core["\u0275\u0275pipe"](36,"async"),core["\u0275\u0275text"](37,"\n          "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](38,"\n        "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](39,"\n      "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](40,"\n    "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](41,"\n  "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](42,"\n"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](43,"\n")),2&rf&&(core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("ngIf",ctx.formModel),core["\u0275\u0275advance"](5),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](8,9,"resource-policies.form.eperson-group-list.label")),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("value",core["\u0275\u0275pipeBind1"](11,11,ctx.resourcePolicyTargetName$)),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("ngIf",ctx.canSetGrant()),core["\u0275\u0275advance"](10),core["\u0275\u0275property"]("disabled",core["\u0275\u0275pipeBind1"](24,13,ctx.isProcessing)),core["\u0275\u0275advance"](2),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](26,15,"form.cancel")),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("disabled",!core["\u0275\u0275pipeBind1"](29,17,ctx.isFormValid())||core["\u0275\u0275pipeBind1"](30,19,ctx.isProcessing)),core["\u0275\u0275advance"](4),core["\u0275\u0275property"]("ngIf",core["\u0275\u0275pipeBind1"](33,21,ctx.isProcessing)),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("ngIf",!core["\u0275\u0275pipeBind1"](36,23,ctx.isProcessing)))},directives:[common.NgIf,form_component.a,ng_bootstrap.t,ng_bootstrap.v,ng_bootstrap.w,ng_bootstrap.u,ng_bootstrap.y,eperson_group_list_component.a],pipes:[ngx_translate_core.d,common.AsyncPipe],encapsulation:2})},jrTz:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",(function(){return ITEM_EDIT_WITHDRAW_PATH})),__webpack_require__.d(__webpack_exports__,"f",(function(){return ITEM_EDIT_REINSTATE_PATH})),__webpack_require__.d(__webpack_exports__,"d",(function(){return ITEM_EDIT_PRIVATE_PATH})),__webpack_require__.d(__webpack_exports__,"e",(function(){return ITEM_EDIT_PUBLIC_PATH})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ITEM_EDIT_DELETE_PATH})),__webpack_require__.d(__webpack_exports__,"c",(function(){return ITEM_EDIT_MOVE_PATH})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ITEM_EDIT_AUTHORIZATIONS_PATH}));const ITEM_EDIT_WITHDRAW_PATH="withdraw",ITEM_EDIT_REINSTATE_PATH="reinstate",ITEM_EDIT_PRIVATE_PATH="private",ITEM_EDIT_PUBLIC_PATH="public",ITEM_EDIT_DELETE_PATH="delete",ITEM_EDIT_MOVE_PATH="move",ITEM_EDIT_AUTHORIZATIONS_PATH="authorizations"},n1Qy:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ResourcePolicyTargetResolver}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_core_cache_builders_build_decorators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("zQ+x"),_core_shared_resource_type__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("+1Sv"),_empty_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("J3qs"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("1QIV"),_angular_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("tyNb");class ResourcePolicyTargetResolver{constructor(parentInjector,router){this.parentInjector=parentInjector,this.router=router}resolve(route,state){const targetType=route.queryParamMap.get("targetType"),policyTargetId=route.queryParamMap.get("policyTargetId");(Object(_empty_util__WEBPACK_IMPORTED_MODULE_3__.d)(targetType)||Object(_empty_util__WEBPACK_IMPORTED_MODULE_3__.d)(policyTargetId))&&this.router.navigateByUrl("/404",{skipLocationChange:!0});const provider=Object(_core_cache_builders_build_decorators__WEBPACK_IMPORTED_MODULE_1__.f)(new _core_shared_resource_type__WEBPACK_IMPORTED_MODULE_2__.a(targetType));return this.dataService=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector.create({providers:[],parent:this.parentInjector}).get(provider),this.dataService.findById(policyTargetId).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.g)())}}ResourcePolicyTargetResolver.\u0275fac=function ResourcePolicyTargetResolver_Factory(t){return new(t||ResourcePolicyTargetResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"](_angular_router__WEBPACK_IMPORTED_MODULE_5__.g))},ResourcePolicyTargetResolver.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineInjectable"]({token:ResourcePolicyTargetResolver,factory:ResourcePolicyTargetResolver.\u0275fac})}};