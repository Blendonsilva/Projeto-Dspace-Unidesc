exports.ids=[28],exports.modules={FJQs:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"RequestCopyModule",(function(){return RequestCopyModule}));var core=__webpack_require__("fXoL"),common=__webpack_require__("ofXK"),shared_module=__webpack_require__("PCNd"),map=__webpack_require__("lJxs"),switchMap=__webpack_require__("eIep"),operators=__webpack_require__("1QIV"),auth_service=__webpack_require__("Vurf"),url_combiner=__webpack_require__("zZO8"),app_routing_paths=__webpack_require__("TVZh");function getRequestCopyRoute(token){return new url_combiner.a(Object(app_routing_paths.A)(),token).toString()}var item_data_service=__webpack_require__("iqTE"),dso_name_service=__webpack_require__("C765"),item_page_routing_paths=__webpack_require__("Xioo"),router=__webpack_require__("tyNb"),var_directive=__webpack_require__("O/5o"),loading_component=__webpack_require__("Frqi"),ngx_translate_core=__webpack_require__("sYmb");const _c0=function(a0,a1){return{url:a0,name:a1}};function GrantDenyRequestCopyComponent_div_0_div_6_div_2_Template(rf,ctx){if(1&rf&&(core["\u0275\u0275elementStart"](0,"div"),core["\u0275\u0275text"](1,"\n      "),core["\u0275\u0275element"](2,"p",5),core["\u0275\u0275pipe"](3,"translate"),core["\u0275\u0275pipe"](4,"async"),core["\u0275\u0275pipe"](5,"async"),core["\u0275\u0275text"](6,"\n      "),core["\u0275\u0275elementStart"](7,"p"),core["\u0275\u0275text"](8),core["\u0275\u0275pipe"](9,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](10,"\n\n      "),core["\u0275\u0275elementStart"](11,"div",6),core["\u0275\u0275text"](12,"\n        "),core["\u0275\u0275elementStart"](13,"a",7),core["\u0275\u0275pipe"](14,"async"),core["\u0275\u0275pipe"](15,"translate"),core["\u0275\u0275text"](16),core["\u0275\u0275pipe"](17,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](18,"\n\n        "),core["\u0275\u0275elementStart"](19,"a",8),core["\u0275\u0275pipe"](20,"async"),core["\u0275\u0275pipe"](21,"translate"),core["\u0275\u0275text"](22),core["\u0275\u0275pipe"](23,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](24,"\n      "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](25,"\n    "),core["\u0275\u0275elementEnd"]()),2&rf){const ctx_r4=core["\u0275\u0275nextContext"](3);core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("innerHTML",core["\u0275\u0275pipeBind2"](3,8,"grant-deny-request-copy.intro1",core["\u0275\u0275pureFunction2"](29,_c0,core["\u0275\u0275pipeBind1"](4,11,ctx_r4.itemUrl$),core["\u0275\u0275pipeBind1"](5,13,ctx_r4.itemName$))),core["\u0275\u0275sanitizeHtml"]),core["\u0275\u0275advance"](6),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](9,15,"grant-deny-request-copy.intro2")),core["\u0275\u0275advance"](5),core["\u0275\u0275propertyInterpolate"]("title",core["\u0275\u0275pipeBind1"](15,19,"grant-deny-request-copy.grant")),core["\u0275\u0275property"]("routerLink",core["\u0275\u0275pipeBind1"](14,17,ctx_r4.grantRoute$)),core["\u0275\u0275advance"](3),core["\u0275\u0275textInterpolate1"]("\n          ",core["\u0275\u0275pipeBind1"](17,21,"grant-deny-request-copy.grant"),"\n        "),core["\u0275\u0275advance"](3),core["\u0275\u0275propertyInterpolate"]("title",core["\u0275\u0275pipeBind1"](21,25,"grant-deny-request-copy.deny")),core["\u0275\u0275property"]("routerLink",core["\u0275\u0275pipeBind1"](20,23,ctx_r4.denyRoute$)),core["\u0275\u0275advance"](3),core["\u0275\u0275textInterpolate1"]("\n          ",core["\u0275\u0275pipeBind1"](23,27,"grant-deny-request-copy.deny"),"\n        ")}}function GrantDenyRequestCopyComponent_div_0_div_6_div_4_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"div",9),core["\u0275\u0275text"](1,"\n      "),core["\u0275\u0275elementStart"](2,"p"),core["\u0275\u0275text"](3),core["\u0275\u0275pipe"](4,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](5,"\n      "),core["\u0275\u0275elementStart"](6,"p",10),core["\u0275\u0275text"](7,"\n        "),core["\u0275\u0275elementStart"](8,"a",11),core["\u0275\u0275text"](9),core["\u0275\u0275pipe"](10,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](11,"\n      "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](12,"\n    "),core["\u0275\u0275elementEnd"]()),2&rf&&(core["\u0275\u0275advance"](3),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](4,2,"grant-deny-request-copy.processed")),core["\u0275\u0275advance"](6),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](10,4,"grant-deny-request-copy.home-page")))}function GrantDenyRequestCopyComponent_div_0_div_6_Template(rf,ctx){if(1&rf&&(core["\u0275\u0275elementStart"](0,"div"),core["\u0275\u0275text"](1,"\n    "),core["\u0275\u0275template"](2,GrantDenyRequestCopyComponent_div_0_div_6_div_2_Template,26,32,"div",3),core["\u0275\u0275text"](3,"\n    "),core["\u0275\u0275template"](4,GrantDenyRequestCopyComponent_div_0_div_6_div_4_Template,13,6,"div",4),core["\u0275\u0275text"](5,"\n  "),core["\u0275\u0275elementEnd"]()),2&rf){const itemRequestRD_r1=core["\u0275\u0275nextContext"]().ngVar;core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("ngIf",!itemRequestRD_r1.payload.decisionDate),core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("ngIf",itemRequestRD_r1.payload.decisionDate)}}function GrantDenyRequestCopyComponent_div_0_ds_loading_8_Template(rf,ctx){1&rf&&core["\u0275\u0275element"](0,"ds-loading")}function GrantDenyRequestCopyComponent_div_0_Template(rf,ctx){if(1&rf&&(core["\u0275\u0275elementStart"](0,"div",1),core["\u0275\u0275text"](1,"\n  "),core["\u0275\u0275elementStart"](2,"h3",2),core["\u0275\u0275text"](3),core["\u0275\u0275pipe"](4,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](5,"\n  "),core["\u0275\u0275template"](6,GrantDenyRequestCopyComponent_div_0_div_6_Template,6,2,"div",3),core["\u0275\u0275text"](7,"\n  "),core["\u0275\u0275template"](8,GrantDenyRequestCopyComponent_div_0_ds_loading_8_Template,1,0,"ds-loading",3),core["\u0275\u0275text"](9,"\n"),core["\u0275\u0275elementEnd"]()),2&rf){const itemRequestRD_r1=ctx.ngVar;core["\u0275\u0275advance"](3),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](4,3,"grant-deny-request-copy.header")),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("ngIf",itemRequestRD_r1&&itemRequestRD_r1.hasSucceeded),core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("ngIf",!itemRequestRD_r1||(null==itemRequestRD_r1?null:itemRequestRD_r1.isLoading))}}class grant_deny_request_copy_component_GrantDenyRequestCopyComponent{constructor(router,route,authService,itemDataService,nameService){this.router=router,this.route=route,this.authService=authService,this.itemDataService=itemDataService,this.nameService=nameService}ngOnInit(){this.itemRequestRD$=this.route.data.pipe(Object(map.a)((data=>data.request)),Object(operators.g)(),Object(operators.t)(this.router,this.authService)),this.itemRD$=this.itemRequestRD$.pipe(Object(operators.j)(),Object(switchMap.a)((itemRequest=>this.itemDataService.findById(itemRequest.itemId)))),this.itemName$=this.itemRD$.pipe(Object(operators.j)(),Object(map.a)((item=>this.nameService.getName(item)))),this.itemUrl$=this.itemRD$.pipe(Object(operators.j)(),Object(map.a)((item=>Object(item_page_routing_paths.h)(item)))),this.denyRoute$=this.itemRequestRD$.pipe(Object(operators.j)(),Object(map.a)((itemRequest=>function getRequestCopyDenyRoute(token){return new url_combiner.a(getRequestCopyRoute(token),"deny").toString()}(itemRequest.token)))),this.grantRoute$=this.itemRequestRD$.pipe(Object(operators.j)(),Object(map.a)((itemRequest=>function getRequestCopyGrantRoute(token){return new url_combiner.a(getRequestCopyRoute(token),"grant").toString()}(itemRequest.token))))}}grant_deny_request_copy_component_GrantDenyRequestCopyComponent.\u0275fac=function GrantDenyRequestCopyComponent_Factory(t){return new(t||grant_deny_request_copy_component_GrantDenyRequestCopyComponent)(core["\u0275\u0275directiveInject"](router.g),core["\u0275\u0275directiveInject"](router.a),core["\u0275\u0275directiveInject"](auth_service.a),core["\u0275\u0275directiveInject"](item_data_service.a),core["\u0275\u0275directiveInject"](dso_name_service.a))},grant_deny_request_copy_component_GrantDenyRequestCopyComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:grant_deny_request_copy_component_GrantDenyRequestCopyComponent,selectors:[["ds-grant-deny-request-copy"]],decls:3,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"mb-4"],[4,"ngIf"],["class","processed-message",4,"ngIf"],[3,"innerHTML"],[1,"btn-group"],[1,"btn","btn-outline-primary",3,"routerLink","title"],[1,"btn","btn-outline-danger",3,"routerLink","title"],[1,"processed-message"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function GrantDenyRequestCopyComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275template"](0,GrantDenyRequestCopyComponent_div_0_Template,10,5,"div",0),core["\u0275\u0275pipe"](1,"async"),core["\u0275\u0275text"](2,"\n")),2&rf&&core["\u0275\u0275property"]("ngVar",core["\u0275\u0275pipeBind1"](1,1,ctx.itemRequestRD$))},directives:[var_directive.a,common.NgIf,router.j,loading_component.a],pipes:[common.AsyncPipe,ngx_translate_core.d],styles:[""]});var item_request_data_service=__webpack_require__("Ub/z");class request_copy_resolver_RequestCopyResolver{constructor(itemRequestDataService){this.itemRequestDataService=itemRequestDataService}resolve(route,state){return this.itemRequestDataService.findById(route.params.token).pipe(Object(operators.g)())}}request_copy_resolver_RequestCopyResolver.\u0275fac=function RequestCopyResolver_Factory(t){return new(t||request_copy_resolver_RequestCopyResolver)(core["\u0275\u0275inject"](item_request_data_service.a))},request_copy_resolver_RequestCopyResolver.\u0275prov=core["\u0275\u0275defineInjectable"]({token:request_copy_resolver_RequestCopyResolver,factory:request_copy_resolver_RequestCopyResolver.\u0275fac});var combineLatest=__webpack_require__("itXk"),empty_util=__webpack_require__("J3qs"),notifications_service=__webpack_require__("lI3o");class RequestCopyEmail{constructor(subject,message){this.subject=subject,this.message=message}}var fesm2015_forms=__webpack_require__("3Pt+");function EmailRequestCopyComponent_div_10_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"div",11),core["\u0275\u0275text"](1),core["\u0275\u0275pipe"](2,"translate"),core["\u0275\u0275elementEnd"]()),2&rf&&(core["\u0275\u0275advance"](1),core["\u0275\u0275textInterpolate1"]("\n      ",core["\u0275\u0275pipeBind1"](2,1,"grant-deny-request-copy.email.subject.empty"),"\n    "))}function EmailRequestCopyComponent_div_21_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"div",11),core["\u0275\u0275text"](1),core["\u0275\u0275pipe"](2,"translate"),core["\u0275\u0275elementEnd"]()),2&rf&&(core["\u0275\u0275advance"](1),core["\u0275\u0275textInterpolate1"]("\n      ",core["\u0275\u0275pipeBind1"](2,1,"grant-deny-request-copy.email.message.empty"),"\n    "))}const email_request_copy_component_c0=function(a0){return{"is-invalid":a0}};class email_request_copy_component_EmailRequestCopyComponent{constructor(location){this.location=location,this.send=new core.EventEmitter}submit(){this.send.emit(new RequestCopyEmail(this.subject,this.message))}return(){this.location.back()}}function DenyRequestCopyComponent_div_0_div_6_Template(rf,ctx){if(1&rf){const _r5=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"div"),core["\u0275\u0275text"](1,"\n    "),core["\u0275\u0275elementStart"](2,"p"),core["\u0275\u0275text"](3),core["\u0275\u0275pipe"](4,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](5,"\n\n    "),core["\u0275\u0275elementStart"](6,"ds-email-request-copy",4),core["\u0275\u0275listener"]("send",(function DenyRequestCopyComponent_div_0_div_6_Template_ds_email_request_copy_send_6_listener($event){core["\u0275\u0275restoreView"](_r5);return core["\u0275\u0275nextContext"](2).deny($event)})),core["\u0275\u0275pipe"](7,"async"),core["\u0275\u0275pipe"](8,"async"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](9,"\n  "),core["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r2=core["\u0275\u0275nextContext"](2);core["\u0275\u0275advance"](3),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](4,3,"deny-request-copy.intro")),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("subject",core["\u0275\u0275pipeBind1"](7,5,ctx_r2.subject$))("message",core["\u0275\u0275pipeBind1"](8,7,ctx_r2.message$))}}function DenyRequestCopyComponent_div_0_ds_loading_8_Template(rf,ctx){1&rf&&core["\u0275\u0275element"](0,"ds-loading")}function DenyRequestCopyComponent_div_0_Template(rf,ctx){if(1&rf&&(core["\u0275\u0275elementStart"](0,"div",1),core["\u0275\u0275text"](1,"\n  "),core["\u0275\u0275elementStart"](2,"h3",2),core["\u0275\u0275text"](3),core["\u0275\u0275pipe"](4,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](5,"\n  "),core["\u0275\u0275template"](6,DenyRequestCopyComponent_div_0_div_6_Template,10,9,"div",3),core["\u0275\u0275text"](7,"\n  "),core["\u0275\u0275template"](8,DenyRequestCopyComponent_div_0_ds_loading_8_Template,1,0,"ds-loading",3),core["\u0275\u0275text"](9,"\n"),core["\u0275\u0275elementEnd"]()),2&rf){const itemRequestRD_r1=ctx.ngVar;core["\u0275\u0275advance"](3),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](4,3,"deny-request-copy.header")),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("ngIf",itemRequestRD_r1&&itemRequestRD_r1.hasSucceeded),core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("ngIf",!itemRequestRD_r1||(null==itemRequestRD_r1?null:itemRequestRD_r1.isLoading))}}email_request_copy_component_EmailRequestCopyComponent.\u0275fac=function EmailRequestCopyComponent_Factory(t){return new(t||email_request_copy_component_EmailRequestCopyComponent)(core["\u0275\u0275directiveInject"](common.Location))},email_request_copy_component_EmailRequestCopyComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:email_request_copy_component_EmailRequestCopyComponent,selectors:[["ds-email-request-copy"]],inputs:{subject:"subject",message:"message"},outputs:{send:"send"},ngContentSelectors:["*"],decls:44,vars:29,consts:[[1,"form-group"],["for","subject"],["type","text","id","subject","name","subject",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],["for","message"],["id","message","rows","8","name","message",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[1,"d-flex","flex-row-reverse"],[1,"btn","btn-primary",3,"disabled","title","click"],[1,"fas","fa-envelope"],[1,"btn","btn-outline-secondary","mr-1",3,"title","click"],[1,"fas","fa-arrow-left"],[1,"invalid-feedback"]],template:function EmailRequestCopyComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275projectionDef"](),core["\u0275\u0275elementStart"](0,"form"),core["\u0275\u0275text"](1,"\n  "),core["\u0275\u0275elementStart"](2,"div",0),core["\u0275\u0275text"](3,"\n    "),core["\u0275\u0275elementStart"](4,"label",1),core["\u0275\u0275text"](5),core["\u0275\u0275pipe"](6,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](7,"\n    "),core["\u0275\u0275elementStart"](8,"input",2),core["\u0275\u0275listener"]("ngModelChange",(function EmailRequestCopyComponent_Template_input_ngModelChange_8_listener($event){return ctx.subject=$event})),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](9,"\n    "),core["\u0275\u0275template"](10,EmailRequestCopyComponent_div_10_Template,3,3,"div",3),core["\u0275\u0275text"](11,"\n  "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](12,"\n  "),core["\u0275\u0275elementStart"](13,"div",0),core["\u0275\u0275text"](14,"\n    "),core["\u0275\u0275elementStart"](15,"label",4),core["\u0275\u0275text"](16),core["\u0275\u0275pipe"](17,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](18,"\n    "),core["\u0275\u0275elementStart"](19,"textarea",5),core["\u0275\u0275listener"]("ngModelChange",(function EmailRequestCopyComponent_Template_textarea_ngModelChange_19_listener($event){return ctx.message=$event})),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](20,"\n    "),core["\u0275\u0275template"](21,EmailRequestCopyComponent_div_21_Template,3,3,"div",3),core["\u0275\u0275text"](22,"\n  "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](23,"\n  "),core["\u0275\u0275projection"](24),core["\u0275\u0275text"](25,"\n  "),core["\u0275\u0275elementStart"](26,"div",6),core["\u0275\u0275text"](27,"\n    "),core["\u0275\u0275elementStart"](28,"button",7),core["\u0275\u0275listener"]("click",(function EmailRequestCopyComponent_Template_button_click_28_listener(){return ctx.submit()})),core["\u0275\u0275pipe"](29,"translate"),core["\u0275\u0275text"](30,"\n      "),core["\u0275\u0275element"](31,"i",8),core["\u0275\u0275text"](32),core["\u0275\u0275pipe"](33,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](34,"\n    "),core["\u0275\u0275elementStart"](35,"button",9),core["\u0275\u0275listener"]("click",(function EmailRequestCopyComponent_Template_button_click_35_listener(){return ctx.return()})),core["\u0275\u0275pipe"](36,"translate"),core["\u0275\u0275text"](37,"\n      "),core["\u0275\u0275element"](38,"i",10),core["\u0275\u0275text"](39),core["\u0275\u0275pipe"](40,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](41,"\n  "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](42,"\n"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](43,"\n")),2&rf&&(core["\u0275\u0275advance"](5),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](6,13,"grant-deny-request-copy.email.subject")),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("ngClass",core["\u0275\u0275pureFunction1"](25,email_request_copy_component_c0,!ctx.subject||0===ctx.subject.length))("ngModel",ctx.subject),core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("ngIf",!ctx.subject||0===ctx.subject.length),core["\u0275\u0275advance"](6),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](17,15,"grant-deny-request-copy.email.message")),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("ngClass",core["\u0275\u0275pureFunction1"](27,email_request_copy_component_c0,!ctx.message||0===ctx.message.length))("ngModel",ctx.message),core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("ngIf",!ctx.message||0===ctx.message.length),core["\u0275\u0275advance"](7),core["\u0275\u0275propertyInterpolate"]("title",core["\u0275\u0275pipeBind1"](29,17,"grant-deny-request-copy.email.send")),core["\u0275\u0275property"]("disabled",!ctx.message||0===ctx.message.length||!ctx.subject||0===ctx.subject.length),core["\u0275\u0275advance"](4),core["\u0275\u0275textInterpolate1"](" ",core["\u0275\u0275pipeBind1"](33,19,"grant-deny-request-copy.email.send"),"\n    "),core["\u0275\u0275advance"](3),core["\u0275\u0275propertyInterpolate"]("title",core["\u0275\u0275pipeBind1"](36,21,"grant-deny-request-copy.email.back")),core["\u0275\u0275advance"](4),core["\u0275\u0275textInterpolate1"](" ",core["\u0275\u0275pipeBind1"](40,23,"grant-deny-request-copy.email.back"),"\n    "))},directives:[fesm2015_forms["\u0275angular_packages_forms_forms_ba"],fesm2015_forms.NgControlStatusGroup,fesm2015_forms.NgForm,fesm2015_forms.DefaultValueAccessor,common.NgClass,fesm2015_forms.NgControlStatus,fesm2015_forms.NgModel,common.NgIf],pipes:[ngx_translate_core.d],styles:[""]});class deny_request_copy_component_DenyRequestCopyComponent{constructor(router,route,authService,translateService,itemDataService,nameService,itemRequestService,notificationsService){this.router=router,this.route=route,this.authService=authService,this.translateService=translateService,this.itemDataService=itemDataService,this.nameService=nameService,this.itemRequestService=itemRequestService,this.notificationsService=notificationsService}ngOnInit(){this.itemRequestRD$=this.route.data.pipe(Object(map.a)((data=>data.request)),Object(operators.g)(),Object(operators.t)(this.router,this.authService));const msgParams$=Object(combineLatest.a)(this.itemRequestRD$.pipe(Object(operators.j)()),this.authService.getAuthenticatedUserFromStore()).pipe(Object(switchMap.a)((([itemRequest,user])=>this.itemDataService.findById(itemRequest.itemId).pipe(Object(operators.j)(),Object(map.a)((item=>{const uri=item.firstMetadataValue("dc.identifier.uri");return Object.assign({recipientName:itemRequest.requestName,itemUrl:Object(empty_util.e)(uri)?uri:item.handle,itemName:this.nameService.getName(item),authorName:user.name,authorEmail:user.email})}))))));this.subject$=this.translateService.get("deny-request-copy.email.subject"),this.message$=msgParams$.pipe(Object(switchMap.a)((params=>this.translateService.get("deny-request-copy.email.message",params))))}deny(email){this.itemRequestRD$.pipe(Object(operators.j)(),Object(switchMap.a)((itemRequest=>this.itemRequestService.deny(itemRequest.token,email))),Object(operators.g)()).subscribe((rd=>{rd.hasSucceeded?(this.notificationsService.success(this.translateService.get("deny-request-copy.success")),this.router.navigateByUrl("/")):this.notificationsService.error(this.translateService.get("deny-request-copy.error"),rd.errorMessage)}))}}function GrantRequestCopyComponent_div_0_div_6_Template(rf,ctx){if(1&rf){const _r5=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"div"),core["\u0275\u0275text"](1,"\n    "),core["\u0275\u0275elementStart"](2,"p"),core["\u0275\u0275text"](3),core["\u0275\u0275pipe"](4,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](5,"\n\n    "),core["\u0275\u0275elementStart"](6,"ds-email-request-copy",4),core["\u0275\u0275listener"]("send",(function GrantRequestCopyComponent_div_0_div_6_Template_ds_email_request_copy_send_6_listener($event){core["\u0275\u0275restoreView"](_r5);return core["\u0275\u0275nextContext"](2).grant($event)})),core["\u0275\u0275pipe"](7,"async"),core["\u0275\u0275pipe"](8,"async"),core["\u0275\u0275text"](9,"\n      "),core["\u0275\u0275elementStart"](10,"p"),core["\u0275\u0275text"](11),core["\u0275\u0275pipe"](12,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](13,"\n      "),core["\u0275\u0275elementStart"](14,"form",5),core["\u0275\u0275text"](15,"\n        "),core["\u0275\u0275elementStart"](16,"div",6),core["\u0275\u0275text"](17,"\n          "),core["\u0275\u0275elementStart"](18,"input",7),core["\u0275\u0275listener"]("ngModelChange",(function GrantRequestCopyComponent_div_0_div_6_Template_input_ngModelChange_18_listener($event){core["\u0275\u0275restoreView"](_r5);return core["\u0275\u0275nextContext"](2).suggestOpenAccess=$event})),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](19,"\n          "),core["\u0275\u0275elementStart"](20,"label",8),core["\u0275\u0275text"](21),core["\u0275\u0275pipe"](22,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](23,"\n        "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](24,"\n      "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](25,"\n    "),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](26,"\n  "),core["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r2=core["\u0275\u0275nextContext"](2);core["\u0275\u0275advance"](3),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](4,6,"grant-request-copy.intro")),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("subject",core["\u0275\u0275pipeBind1"](7,8,ctx_r2.subject$))("message",core["\u0275\u0275pipeBind1"](8,10,ctx_r2.message$)),core["\u0275\u0275advance"](5),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](12,12,"grant-deny-request-copy.email.permissions.info")),core["\u0275\u0275advance"](7),core["\u0275\u0275property"]("ngModel",ctx_r2.suggestOpenAccess),core["\u0275\u0275advance"](3),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](22,14,"grant-deny-request-copy.email.permissions.label"))}}function GrantRequestCopyComponent_div_0_ds_loading_8_Template(rf,ctx){1&rf&&core["\u0275\u0275element"](0,"ds-loading")}function GrantRequestCopyComponent_div_0_Template(rf,ctx){if(1&rf&&(core["\u0275\u0275elementStart"](0,"div",1),core["\u0275\u0275text"](1,"\n  "),core["\u0275\u0275elementStart"](2,"h3",2),core["\u0275\u0275text"](3),core["\u0275\u0275pipe"](4,"translate"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275text"](5,"\n  "),core["\u0275\u0275template"](6,GrantRequestCopyComponent_div_0_div_6_Template,27,16,"div",3),core["\u0275\u0275text"](7,"\n  "),core["\u0275\u0275template"](8,GrantRequestCopyComponent_div_0_ds_loading_8_Template,1,0,"ds-loading",3),core["\u0275\u0275text"](9,"\n"),core["\u0275\u0275elementEnd"]()),2&rf){const itemRequestRD_r1=ctx.ngVar;core["\u0275\u0275advance"](3),core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](4,3,"grant-request-copy.header")),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("ngIf",itemRequestRD_r1&&itemRequestRD_r1.hasSucceeded),core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("ngIf",!itemRequestRD_r1||(null==itemRequestRD_r1?null:itemRequestRD_r1.isLoading))}}deny_request_copy_component_DenyRequestCopyComponent.\u0275fac=function DenyRequestCopyComponent_Factory(t){return new(t||deny_request_copy_component_DenyRequestCopyComponent)(core["\u0275\u0275directiveInject"](router.g),core["\u0275\u0275directiveInject"](router.a),core["\u0275\u0275directiveInject"](auth_service.a),core["\u0275\u0275directiveInject"](ngx_translate_core.e),core["\u0275\u0275directiveInject"](item_data_service.a),core["\u0275\u0275directiveInject"](dso_name_service.a),core["\u0275\u0275directiveInject"](item_request_data_service.a),core["\u0275\u0275directiveInject"](notifications_service.a))},deny_request_copy_component_DenyRequestCopyComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:deny_request_copy_component_DenyRequestCopyComponent,selectors:[["ds-deny-request-copy"]],decls:3,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"mb-4"],[4,"ngIf"],[3,"subject","message","send"]],template:function DenyRequestCopyComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275template"](0,DenyRequestCopyComponent_div_0_Template,10,5,"div",0),core["\u0275\u0275pipe"](1,"async"),core["\u0275\u0275text"](2,"\n")),2&rf&&core["\u0275\u0275property"]("ngVar",core["\u0275\u0275pipeBind1"](1,1,ctx.itemRequestRD$))},directives:[var_directive.a,common.NgIf,email_request_copy_component_EmailRequestCopyComponent,loading_component.a],pipes:[common.AsyncPipe,ngx_translate_core.d],styles:[""]});class grant_request_copy_component_GrantRequestCopyComponent{constructor(router,route,authService,translateService,itemDataService,nameService,itemRequestService,notificationsService){this.router=router,this.route=route,this.authService=authService,this.translateService=translateService,this.itemDataService=itemDataService,this.nameService=nameService,this.itemRequestService=itemRequestService,this.notificationsService=notificationsService,this.suggestOpenAccess=!1}ngOnInit(){this.itemRequestRD$=this.route.data.pipe(Object(map.a)((data=>data.request)),Object(operators.g)(),Object(operators.t)(this.router,this.authService));const msgParams$=Object(combineLatest.a)(this.itemRequestRD$.pipe(Object(operators.j)()),this.authService.getAuthenticatedUserFromStore()).pipe(Object(switchMap.a)((([itemRequest,user])=>this.itemDataService.findById(itemRequest.itemId).pipe(Object(operators.j)(),Object(map.a)((item=>{const uri=item.firstMetadataValue("dc.identifier.uri");return Object.assign({recipientName:itemRequest.requestName,itemUrl:Object(empty_util.e)(uri)?uri:item.handle,itemName:this.nameService.getName(item),authorName:user.name,authorEmail:user.email})}))))));this.subject$=this.translateService.get("grant-request-copy.email.subject"),this.message$=msgParams$.pipe(Object(switchMap.a)((params=>this.translateService.get("grant-request-copy.email.message",params))))}grant(email){this.itemRequestRD$.pipe(Object(operators.j)(),Object(switchMap.a)((itemRequest=>this.itemRequestService.grant(itemRequest.token,email,this.suggestOpenAccess))),Object(operators.g)()).subscribe((rd=>{rd.hasSucceeded?(this.notificationsService.success(this.translateService.get("grant-request-copy.success")),this.router.navigateByUrl("/")):this.notificationsService.error(this.translateService.get("grant-request-copy.error"),rd.errorMessage)}))}}grant_request_copy_component_GrantRequestCopyComponent.\u0275fac=function GrantRequestCopyComponent_Factory(t){return new(t||grant_request_copy_component_GrantRequestCopyComponent)(core["\u0275\u0275directiveInject"](router.g),core["\u0275\u0275directiveInject"](router.a),core["\u0275\u0275directiveInject"](auth_service.a),core["\u0275\u0275directiveInject"](ngx_translate_core.e),core["\u0275\u0275directiveInject"](item_data_service.a),core["\u0275\u0275directiveInject"](dso_name_service.a),core["\u0275\u0275directiveInject"](item_request_data_service.a),core["\u0275\u0275directiveInject"](notifications_service.a))},grant_request_copy_component_GrantRequestCopyComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:grant_request_copy_component_GrantRequestCopyComponent,selectors:[["ds-grant-request-copy"]],decls:3,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"mb-4"],[4,"ngIf"],[3,"subject","message","send"],[1,"mb-3"],[1,"form-check"],["type","checkbox","value","","id","permissions","name","permissions",1,"form-check-input",3,"ngModel","ngModelChange"],["for","permissions",1,"form-check-label"]],template:function GrantRequestCopyComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275template"](0,GrantRequestCopyComponent_div_0_Template,10,5,"div",0),core["\u0275\u0275pipe"](1,"async"),core["\u0275\u0275text"](2,"\n")),2&rf&&core["\u0275\u0275property"]("ngVar",core["\u0275\u0275pipeBind1"](1,1,ctx.itemRequestRD$))},directives:[var_directive.a,common.NgIf,email_request_copy_component_EmailRequestCopyComponent,fesm2015_forms["\u0275angular_packages_forms_forms_ba"],fesm2015_forms.NgControlStatusGroup,fesm2015_forms.NgForm,fesm2015_forms.CheckboxControlValueAccessor,fesm2015_forms.NgControlStatus,fesm2015_forms.NgModel,loading_component.a],pipes:[common.AsyncPipe,ngx_translate_core.d],styles:[""]});class RequestCopyRoutingModule{}RequestCopyRoutingModule.\u0275fac=function RequestCopyRoutingModule_Factory(t){return new(t||RequestCopyRoutingModule)},RequestCopyRoutingModule.\u0275mod=core["\u0275\u0275defineNgModule"]({type:RequestCopyRoutingModule}),RequestCopyRoutingModule.\u0275inj=core["\u0275\u0275defineInjector"]({providers:[request_copy_resolver_RequestCopyResolver,grant_deny_request_copy_component_GrantDenyRequestCopyComponent],imports:[[router.k.forChild([{path:":token",resolve:{request:request_copy_resolver_RequestCopyResolver},children:[{path:"",component:grant_deny_request_copy_component_GrantDenyRequestCopyComponent},{path:"deny",component:deny_request_copy_component_DenyRequestCopyComponent},{path:"grant",component:grant_request_copy_component_GrantRequestCopyComponent}]}])]]});class RequestCopyModule{}RequestCopyModule.\u0275fac=function RequestCopyModule_Factory(t){return new(t||RequestCopyModule)},RequestCopyModule.\u0275mod=core["\u0275\u0275defineNgModule"]({type:RequestCopyModule}),RequestCopyModule.\u0275inj=core["\u0275\u0275defineInjector"]({providers:[],imports:[[common.CommonModule,shared_module.a,RequestCopyRoutingModule]]})}};